<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="Martin Colley" name="author"/><link href="https://musings.thruhere.net/podzone/inventoryServers/" rel="canonical"/>
<link href="../img/favicon.ico" rel="shortcut icon"/>
<title>Server Inventory - Podzone</title>
<link href="../css/theme.css" rel="stylesheet"/>
<link href="../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "Server Inventory";
        var mkdocs_page_input_path = "inventoryServers.md";
        var mkdocs_page_url = "/podzone/inventoryServers/";
      </script>
<!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href=".."> Podzone
        </a><div role="search">
<form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/>
</form>
</div>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<p class="caption"><span class="caption-text">Requirements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../requirementIntroduction/">Introduction</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../requirementBackground/">Background</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../requirementBusinessBrief/">QApps Business Brief</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../requirementRadio/">Radio Requirements</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalProjectTech/">ProjectTech</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../technicalSecurity/">Security</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalConsumerCloud/">Consumer Cloud</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalExternalServices/">External Services</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../inventorySite/">Site Inventory</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalTasklist1/">Task List: southern.podzone.net</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalTasklist2/">Task List: northern.podzone.net</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../inventoryCosting/">Costing</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalKubernetes/">Kubernetes</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalSound/">Sound Engineering</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalHardware/">Hardware planning</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Workload</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../technicalRadio/">Radio implementations</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalSiteStructure/">Podzone Sites</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalStaticSite/">Helm Charts</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalFlux/">Flux</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalWordpress/">Installing Wordpress</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalApplication/">Application Build</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalIoT/">Rust on the uNode embedded controller development board</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalRedmine/">Redmine</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Troubleshooting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../technicalTroubleshooting/">Radio Troubleshooting</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Substrate</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../technicalCluster/">Implementation Notes</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalDataCentre/">Data Centre</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalCeph/">Persistent data</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalIngress/">Ingress</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalNFS/">NFS storage</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalNetwork/">Network Topology</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalProxy/">Reverse proxy</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalIssues/">Issues</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../technicalTools/">Tools</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalPrometheus/">Prometheus Implementation Notes</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalWireguard/">Wireguard installation notes</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technicalMkDocs/">mkdocs</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Inventory</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal current" href="./">Server Inventory</a>
<ul class="current">
<li class="toctree-l2"><a class="reference internal" href="#rack-servers">Rack servers</a>
<ul>
<li class="toctree-l3"><a class="reference internal" href="#deployed">Deployed</a>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cluster-nodes">Cluster nodes</a>
<ul>
<li class="toctree-l3"><a class="reference internal" href="#hp-t360-specs">HP t360 specs</a>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#northern-zone-solution">northern zone solution</a>
<ul>
<li class="toctree-l3"><a class="reference internal" href="#http-request-router">http request router</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#kubernetes-nodes">Kubernetes nodes</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cluster-resource-totals">Cluster resource totals</a>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#southern-zone-solution">southern zone solution</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../inventoryHosts/">Hosts Inventory</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../inventoryIoT/">IoT (Internet of Things) devices</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../inventoryVm/">Virtual Machine Inventory</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../inventoryWorkstation/">Workstation config</a>
</li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../referencesApplication/">Application references</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../referencesHardware/">Hardware References</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../referencesIoT/">Edge and IoT References</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../referencesResearch/">Research References</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../referencesReserve/">Reserve References</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../referencesTroubleshooting/">Troubleshooting References</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../referencesRadio/">Radio References</a>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="..">Podzone</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Docs" class="icon icon-home" href=".."></a></li>
<li class="breadcrumb-item">Inventory</li>
<li class="breadcrumb-item active">Server Inventory</li>
<li class="wy-breadcrumbs-aside">
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="server-inventory">Server Inventory</h1>
<p>As cluster build-out has progressed, devices and their resource configuration have evolved:</p>
<ul>
<li>The original development environments comprised equipment on hand.</li>
<li>The next set of hardware selected for kubernetes and ceph clusters are Thin Clients, with 4 CPUs; 25GB RAM; 128 + 256 GB SSD each. Fourteen of these were put into service.</li>
<li>The current set of hardware, for hyper-converged infrastructure are 2U rack servers, with up to 48 CPUs, 256 GB RAM, and 4.8TB SAS Storage. There are currently six of these in various stages of procurement and provisioning.</li>
</ul>
<h2 id="rack-servers">Rack servers</h2>
<table>
<thead>
<tr>
<th>Hostname</th>
<th>Machine</th>
<th>Threads</th>
<th>RAM</th>
<th>RAM Config</th>
<th>SAS installed</th>
<th>IP Address</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pluto</td>
<td>R720</td>
<td>32</td>
<td></td>
<td></td>
<td>8 X 2.5"</td>
<td>192.168.2.50</td>
<td>Production 1</td>
</tr>
<tr>
<td>Mars</td>
<td>R720</td>
<td>32</td>
<td>64 GB</td>
<td></td>
<td></td>
<td>192.168.2.54</td>
<td>Production 2</td>
</tr>
<tr>
<td>Saturn</td>
<td>DR6000</td>
<td>48</td>
<td>128 GB</td>
<td></td>
<td>2 X 2.5"; 12 X 3.5"</td>
<td>192.168.2.51</td>
<td>DevOps</td>
</tr>
<tr>
<td>Venus</td>
<td>R730</td>
<td>64</td>
<td>160 GB</td>
<td></td>
<td>8 X 2.5"</td>
<td>192.168.2.53</td>
<td>Development</td>
</tr>
<tr>
<td>Neptune</td>
<td>R710</td>
<td>8</td>
<td>24 GB</td>
<td></td>
<td></td>
<td>192.168.2.55</td>
<td>Return</td>
</tr>
</tbody>
</table>
<h3 id="deployed">Deployed</h3>
<table>
<thead>
<tr>
<th>Hostname</th>
<th>Machine</th>
<th>Threads</th>
<th>RAM</th>
<th>RAM Config</th>
<th>SAS installed</th>
<th>IP Address</th>
<th>Client</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mercury</td>
<td>R720</td>
<td>32</td>
<td>112 GB</td>
<td>14 X 8 GB</td>
<td>4 X 147 GB + 4 X 600 GB</td>
<td>192.168.3.52</td>
<td>littlecanton.one</td>
</tr>
</tbody>
</table>
<h2 id="cluster-nodes">Cluster nodes</h2>
<p>Cluster nodes are HP t630 Thin Clients, for which the specifications are available from HP online: <a href="https://support.hp.com/za-en/document/c05240287">https://support.hp.com/za-en/document/c05240287</a>.</p>
<p>The devices were purchased second hand, and typically had limited RAM and disk installed (e.g. 32GB disk, and 8GB DDR4 RAM).</p>
<p>RAM and disk were installed, giving the following common node configuration:</p>
<h3 id="hp-t360-specs">HP t360 specs</h3>
<ul>
<li>HP t630 Thinclient</li>
<li>OS: Ubuntu Server 22.04 minimised</li>
<li>AMD Quad Core CPU @ 2.0 Ghz</li>
<li>24Gb DDR4 RAM</li>
<li>128 GB M.2 SATA SSDs</li>
<li>256 GB M.2 SATA SSDs</li>
</ul>
<h2 id="northern-zone-solution">northern zone solution</h2>
<h3 id="http-request-router">http request router</h3>
<p>In order to support multiple k8s clusters on the northern network served by a single static IP assigned by the ISP,
without any cluster depending on another, an HP t520 device is added to the solution to serve a reverse proxy (apache) function.
Routing of https requests at the proxy is  based on domain name. In addition, the domain name IP address management function (ddclient)
and tls certificate management for the reverse proxy (certbot) are provided on this device:</p>
<ul>
<li>rudolfensis:  t520; apache, ddclient, certbot</li>
</ul>
<h3 id="kubernetes-nodes">Kubernetes nodes</h3>
<p>The northern zone solution has the following node configuration:</p>
<ul>
<li>naledi:       t630; k8s, ceph</li>
<li>habilis:      t630; k8s, ceph</li>
<li>antecessor:   t630; k8s, ceph</li>
<li>neanderthal:  t630; k8s, ceph</li>
<li>erectus:      t630; k8s, ceph</li>
<li>floresiensis: t630; k8s, ceph</li>
<li>norham01:     t630; k8s, ceph</li>
<li>norham02:     t630; k8s, ceph</li>
<li>norham03:     t630; k8s, ceph</li>
<li>norham04:     t630; k8s, ceph</li>
</ul>
<h3 id="cluster-resource-totals">Cluster resource totals</h3>
<ul>
<li>Total t630 CPU: 40 cores</li>
<li>Total t630 RAM: 200 GB</li>
<li>Total t630 Raw Disk: 2.5 TB</li>
</ul>
<h2 id="southern-zone-solution">southern zone solution</h2>
<ul>
<li>denisova:     t630; k8s, ceph, ddclient, ularu</li>
<li>rudolfensis:  t630; k8s, ceph</li>
<li>ergaster:     t630; k8s, ceph</li>
</ul>
</div>
</div><footer>
<div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation">
<a class="btn btn-neutral float-left" href="../technicalMkDocs/" title="mkdocs"><span class="icon icon-circle-arrow-left"></span> Previous</a>
<a class="btn btn-neutral float-right" href="../inventoryHosts/" title="Hosts Inventory">Next <span class="icon icon-circle-arrow-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span><a href="../technicalMkDocs/" style="color: #fcfcfc">« Previous</a></span>
<span><a href="../inventoryHosts/" style="color: #fcfcfc">Next »</a></span>
</span>
</div>
<script src="../js/jquery-3.6.0.min.js"></script>
<script>var base_url = "..";</script>
<script src="../js/theme_extra.js"></script>
<script src="../js/theme.js"></script>
<script src="../search/main.js"></script>
<script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>
<script>
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        </script></body>
</html>
