{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Introduction to the PodZone project This micro-site contains documentation including the requirements, specification, design, and build notes for the technology research, development, test and build of a kubernetes cluster, and migrating a workload from older technologies. Technology decisions While lifecycle cost considerations would typically guide the selection of components for a solution, the architecture was chosen to gain exposure to current technologies, the timelines and effort regarded as learning investment. Lifecycle costs have however been applied to selection of external services, with a preference for consuming on-prem services where reasonable. Learning goals Build confidence in deploying, troubleshooting and consuming Kubernetes Apply declarative processes for the platform and service provisioning (IoC) Documenting a \"Consumer Cloud\" case study","title":"Introduction to the PodZone project"},{"location":"#introduction-to-the-podzone-project","text":"This micro-site contains documentation including the requirements, specification, design, and build notes for the technology research, development, test and build of a kubernetes cluster, and migrating a workload from older technologies.","title":"Introduction to the PodZone project"},{"location":"#technology-decisions","text":"While lifecycle cost considerations would typically guide the selection of components for a solution, the architecture was chosen to gain exposure to current technologies, the timelines and effort regarded as learning investment. Lifecycle costs have however been applied to selection of external services, with a preference for consuming on-prem services where reasonable.","title":"Technology decisions"},{"location":"#learning-goals","text":"Build confidence in deploying, troubleshooting and consuming Kubernetes Apply declarative processes for the platform and service provisioning (IoC) Documenting a \"Consumer Cloud\" case study","title":"Learning goals"},{"location":"inventoryCosting/","text":"Costing Enterprise hardware Pluto Dell PowerEdge R720 2x Intel Xeon E5-2650 V1 @2.00GHz 8x8GB RAM, No HDD. {\u00a351} 8 X Dell 147GB 2.5\" 10K SAS Hard Disk Drives {\u00a315} 8 X Dell 2.5\" Hard Drive Tray Caddy {\u00a330} 4x SEAGATE CONSTELLATION 3TB ES.3 ST3000NM0023 3.5\" 6G SAS HDD {\u00a316.00} On its way: 2 X SAS Hard Disk Drive SFF-8482 Male To Female Extension Cable BS {\u00a315} Consumer hardware Hardware selection The following criteria were used to short-list potential hardware: DDR4 RAM capacity No of CPU Cores, and processor speed SSD module capacity Recovered or second hand hardware Small form factor Low noise The HP t630 meets these requirements, although has a limitation of only supporting SATA SSDs. At the time of this project there are many units available, as they were popular for scaled call centre and office use. These varied widely in price. Those without power supply and cable are not of use, so check before ordering. The t630s purchased for build of cluster nodes have the following capacities: 4 X 2.2GHz CPU cores (AMD GX-420GI) 2 X SODIMM DDR4 RAM slots (Max capacity 64GB RAM) 2 X M.2 SATA SSD slots (1 X 2242 max modules, 1 X 2280 max modules) Drives The t630 has two M.2 SATA slots: Primary module slot: Up to size 2242 modules. The devices purchased were populated with 32GB modules. Secondary module slot: Up to size 2280 modules Secondary modules of 256GB were purchased for dedicated ceph disks. Once operating system, kubernetes and ceph were installed, ceph gave space threshold warnings for the boot device, so 32GB proved too small for the boot device. With Ubuntu Server 22.04 minimised, microk8s and ceph installed and configured and the baseline application workload deployed, ceph MON_DISK_LOW health checks were failing. Primary modules were therefore upgraded to 128GB. With 256GB allocated to each ceph node, with 3 replicas of each object stored, safe cluster size is 170GB. Drive issues Availability of M.2 SATA SSDs is limited. M.2 NVME SSDs, which are more easily available than the SATAs are not supported. Availability of M.2 size 2242 M.2 modules is limited, the 2280 size modules being more easily available. Some of the t630s devices did not support adjusting the BIOS to boot from the secondary module slot, requiring a 2242 size boot device module. Stock of each of the modules is limited. Online ordering cancellations due to availability happened more than once. As a result of these constraints, some modules were over specified for their purpose, but for all devices, at least 128GB was assigned to the boot SSD. NOTE: The UK refurbished / second hand parts online market is easy, quick and reliable. Ebay would be good to have in SA. RAM The t630 has two DDR4 RAM slots. The devices purchased were populated with one 8GB module. An additional 16GB module was purchased to make up for a total of 24 GB. A minimum of 256 MB RAM is allocated to GPU. BIOS configuration reduced this from the default of 1 GB. Scaling up would be easy while DDR4 RAM is available, first replacing the 8GB modules with e.g. 32GB modules. Maximum supported RAM for a three node cluster would be 191GB, once dedicated GPU RAM is considered. Example Pricing: SA t630 unit price: R900 M.2 SATA 256GB SSD: R469 M.2 SATA 128GB SSD: R339 16GB DDR4 RAM: R899 Node cost: R2607 == \u00a3116 Example Pricing: UK t630 unit price: \u00a335 (1 ordered) M.2 SATA 2242 256GB SSD: \u00a318.66 (3 ordered) M.2 SATA 2280 128GB SSD: \u00a313.95 (3 ordered) 16GB DDR4 RAM: \u00a319.99 (3 ordered) Node cost: \u00a388 == R2125 SSD pricing m.2 SATA 128GB \u00a314 : \u00a3112/TB 256GB \u00a320 : \u00a380/TB 512GB \u00a330 : \u00a360/TB 1TB \u00a355 : \u00a355/TB 2TB \u00a3100 : \u00a350/TB m.2 nvme 215 GB \u00a325 : 100 1 TB \u00a353 2 TB \u00a3120 : 60 4 TB \u00a3233 : 58 Hardware purchase reconciliation Q Solutions Date Vendor Component Unit Price Quantity Total 21/01/2024 Ebay HP T630 34,99 1 34,99 21/01/2024 EBay 2280 M.2 SATA 128GB 7,99 3 23,97 21/01/2024 Ebay 2242 M.2 SATA 256GB 17,09 3 55,98 21/01/2024 Ebay DDR4 16GB RAM 19,98 3 59,94 24/01/2024 Ebay HP T630 33,64 1 33,64 24/01/2024 Ebay HP T520 29,00 1 29,99 14/02/2024 Ebay .5 m Cat 6 Cable 2,29 5 11,45 14/02/2024 Ebay 1.5 m Cat 6 Cable 2,29 3 7,77 13/03/2024 Ebay Dell PowerEdge R720 51,00 1 51,00 Total \u00a3308,73 Norham Date Vendor Component Unit Price Quantity Total 28/01/2024 Ebay HP T630 32,80 5 164,00 28/01/2024 Ebay DDR4 16GB RAM 19,99 5 99,95 28/01/2024 Ebay 2242 M.2 SATA 256GB 19,49 1 19,49 04/02/2024 Ebay 2280 M.2 SATA 2TB 99,99 1 99,99 04/02/2024 Amazon 8 Port GB Switch 14,99 1 14,99 07/02/2024 Ebay 2242 M.2 SATA 256GB 18,06 4 72,20 07/02/2024 Ebay PCIe > M.2 NVMe SATA 5,93 1 5,93 07/02/2024 Ebay 2280 M.2 SATA 128GB 11,99 5 59,95 07/02/2024 Ebay .5 m Cat 6 Cable 2,29 5 11,45 Total \u00a3547,95 References HP t630 specs: https://support.hp.com/za-en/document/c05240287 Ceph storage capacity calculator: https://florian.ca/ceph-calculator/","title":"Costing"},{"location":"inventoryCosting/#costing","text":"","title":"Costing"},{"location":"inventoryCosting/#enterprise-hardware","text":"","title":"Enterprise hardware"},{"location":"inventoryCosting/#pluto","text":"Dell PowerEdge R720 2x Intel Xeon E5-2650 V1 @2.00GHz 8x8GB RAM, No HDD. {\u00a351} 8 X Dell 147GB 2.5\" 10K SAS Hard Disk Drives {\u00a315} 8 X Dell 2.5\" Hard Drive Tray Caddy {\u00a330} 4x SEAGATE CONSTELLATION 3TB ES.3 ST3000NM0023 3.5\" 6G SAS HDD {\u00a316.00} On its way: 2 X SAS Hard Disk Drive SFF-8482 Male To Female Extension Cable BS {\u00a315}","title":"Pluto"},{"location":"inventoryCosting/#consumer-hardware","text":"","title":"Consumer hardware"},{"location":"inventoryCosting/#hardware-selection","text":"The following criteria were used to short-list potential hardware: DDR4 RAM capacity No of CPU Cores, and processor speed SSD module capacity Recovered or second hand hardware Small form factor Low noise The HP t630 meets these requirements, although has a limitation of only supporting SATA SSDs. At the time of this project there are many units available, as they were popular for scaled call centre and office use. These varied widely in price. Those without power supply and cable are not of use, so check before ordering. The t630s purchased for build of cluster nodes have the following capacities: 4 X 2.2GHz CPU cores (AMD GX-420GI) 2 X SODIMM DDR4 RAM slots (Max capacity 64GB RAM) 2 X M.2 SATA SSD slots (1 X 2242 max modules, 1 X 2280 max modules)","title":"Hardware selection"},{"location":"inventoryCosting/#drives","text":"The t630 has two M.2 SATA slots: Primary module slot: Up to size 2242 modules. The devices purchased were populated with 32GB modules. Secondary module slot: Up to size 2280 modules Secondary modules of 256GB were purchased for dedicated ceph disks. Once operating system, kubernetes and ceph were installed, ceph gave space threshold warnings for the boot device, so 32GB proved too small for the boot device. With Ubuntu Server 22.04 minimised, microk8s and ceph installed and configured and the baseline application workload deployed, ceph MON_DISK_LOW health checks were failing. Primary modules were therefore upgraded to 128GB. With 256GB allocated to each ceph node, with 3 replicas of each object stored, safe cluster size is 170GB.","title":"Drives"},{"location":"inventoryCosting/#drive-issues","text":"Availability of M.2 SATA SSDs is limited. M.2 NVME SSDs, which are more easily available than the SATAs are not supported. Availability of M.2 size 2242 M.2 modules is limited, the 2280 size modules being more easily available. Some of the t630s devices did not support adjusting the BIOS to boot from the secondary module slot, requiring a 2242 size boot device module. Stock of each of the modules is limited. Online ordering cancellations due to availability happened more than once. As a result of these constraints, some modules were over specified for their purpose, but for all devices, at least 128GB was assigned to the boot SSD. NOTE: The UK refurbished / second hand parts online market is easy, quick and reliable. Ebay would be good to have in SA.","title":"Drive issues"},{"location":"inventoryCosting/#ram","text":"The t630 has two DDR4 RAM slots. The devices purchased were populated with one 8GB module. An additional 16GB module was purchased to make up for a total of 24 GB. A minimum of 256 MB RAM is allocated to GPU. BIOS configuration reduced this from the default of 1 GB. Scaling up would be easy while DDR4 RAM is available, first replacing the 8GB modules with e.g. 32GB modules. Maximum supported RAM for a three node cluster would be 191GB, once dedicated GPU RAM is considered.","title":"RAM"},{"location":"inventoryCosting/#example-pricing-sa","text":"t630 unit price: R900 M.2 SATA 256GB SSD: R469 M.2 SATA 128GB SSD: R339 16GB DDR4 RAM: R899 Node cost: R2607 == \u00a3116","title":"Example Pricing: SA"},{"location":"inventoryCosting/#example-pricing-uk","text":"t630 unit price: \u00a335 (1 ordered) M.2 SATA 2242 256GB SSD: \u00a318.66 (3 ordered) M.2 SATA 2280 128GB SSD: \u00a313.95 (3 ordered) 16GB DDR4 RAM: \u00a319.99 (3 ordered) Node cost: \u00a388 == R2125","title":"Example Pricing: UK"},{"location":"inventoryCosting/#ssd-pricing","text":"","title":"SSD pricing"},{"location":"inventoryCosting/#m2-sata","text":"128GB \u00a314 : \u00a3112/TB 256GB \u00a320 : \u00a380/TB 512GB \u00a330 : \u00a360/TB 1TB \u00a355 : \u00a355/TB 2TB \u00a3100 : \u00a350/TB","title":"m.2 SATA"},{"location":"inventoryCosting/#m2-nvme","text":"215 GB \u00a325 : 100 1 TB \u00a353 2 TB \u00a3120 : 60 4 TB \u00a3233 : 58","title":"m.2 nvme"},{"location":"inventoryCosting/#hardware-purchase-reconciliation","text":"","title":"Hardware purchase reconciliation"},{"location":"inventoryCosting/#q-solutions","text":"Date Vendor Component Unit Price Quantity Total 21/01/2024 Ebay HP T630 34,99 1 34,99 21/01/2024 EBay 2280 M.2 SATA 128GB 7,99 3 23,97 21/01/2024 Ebay 2242 M.2 SATA 256GB 17,09 3 55,98 21/01/2024 Ebay DDR4 16GB RAM 19,98 3 59,94 24/01/2024 Ebay HP T630 33,64 1 33,64 24/01/2024 Ebay HP T520 29,00 1 29,99 14/02/2024 Ebay .5 m Cat 6 Cable 2,29 5 11,45 14/02/2024 Ebay 1.5 m Cat 6 Cable 2,29 3 7,77 13/03/2024 Ebay Dell PowerEdge R720 51,00 1 51,00 Total \u00a3308,73","title":"Q Solutions"},{"location":"inventoryCosting/#norham","text":"Date Vendor Component Unit Price Quantity Total 28/01/2024 Ebay HP T630 32,80 5 164,00 28/01/2024 Ebay DDR4 16GB RAM 19,99 5 99,95 28/01/2024 Ebay 2242 M.2 SATA 256GB 19,49 1 19,49 04/02/2024 Ebay 2280 M.2 SATA 2TB 99,99 1 99,99 04/02/2024 Amazon 8 Port GB Switch 14,99 1 14,99 07/02/2024 Ebay 2242 M.2 SATA 256GB 18,06 4 72,20 07/02/2024 Ebay PCIe > M.2 NVMe SATA 5,93 1 5,93 07/02/2024 Ebay 2280 M.2 SATA 128GB 11,99 5 59,95 07/02/2024 Ebay .5 m Cat 6 Cable 2,29 5 11,45 Total \u00a3547,95","title":"Norham"},{"location":"inventoryCosting/#references","text":"HP t630 specs: https://support.hp.com/za-en/document/c05240287 Ceph storage capacity calculator: https://florian.ca/ceph-calculator/","title":"References"},{"location":"inventoryEnterprise/","text":"Enterprise hardware References https://dl.dell.com/manuals/all-products/esuprt_ser_stor_net/esuprt_networking/esuprt_net_fxd_prt_swtchs/powerconnect-6024_Reference-Guide_en-us.pdf","title":"Enterprise hardware"},{"location":"inventoryEnterprise/#enterprise-hardware","text":"","title":"Enterprise hardware"},{"location":"inventoryEnterprise/#references","text":"https://dl.dell.com/manuals/all-products/esuprt_ser_stor_net/esuprt_networking/esuprt_net_fxd_prt_swtchs/powerconnect-6024_Reference-Guide_en-us.pdf","title":"References"},{"location":"inventoryHosts/","text":"Hosts Inventory This page provides convenience listings of hosts file entries, and details of devices not already listed. hostnames relevant to the podzone project DNS domains hosted DynDns have been in use for years (the first paid for service was ordered in 2008) and will be used further for this project. Hostnames for minimum viable product southern.podzone.net musings.thruhere.net qsolutions.endoftheinternet.org docs.podzone.net mottttspot.servegame.org Hostnames configured for future use central.podzone.net control.podzone.net dev.podzone.net east.podzone.net eastern.podzone.net north.podzone.net northern.podzone.net west.podzone.net western.podzone.net Hostnames made redundant These sites are becoming redundant with the MVP implementation, and can be cleaned up: colley.endoftheinternet.org poc.endoftheinternet.org qapps.does-it.net Ingress hosts Ingress hosts make use of the DNS entries defined above. southern.podzone.net is a wildcard entry used by some of these. https://musings.thruhere.net : Routing to Apache instance for serving a static web site. https://qsolutions.endoftheinternet.org : Routing to a Zope application server, serving QSolutions Applications. https://control.southern.podzone.net : Routing to kubernetes API. https://db.southern.podzone.net : Routing to database GUI console. https://ceph.southern.podzone.net:8443/ : Routing to Ceph dashboard. IP Address Management: southern The internal network uses the 192.168.0.0/24 subnet, providing 256 unique IP addresses. The first set are assigned to the DHCP server for allocation, allowing layer 2 load balanced routers to be defined in the same subnet. Static IPs are assigned to all kubernetes hosts, configured on the router as static, on initial lease. 192.168.0.2 - 192.168.0.99 : Addresses assigned to the router DHCP server 192.168.0.104 - 102.168.0.111 : ( 192.168.0.104/29 ) Wireguard 192.168.0.131 - 192.168.0.140 : L2 load-balancer IP address range for dev on bare metal 192.168.0.141 - 192.168.0.150 : L2 load-balancer IP address range for dev on virtual servers 192.168.0.151 - 192.168.0.151 : L2 load-balancer IP address range for production (southcluster) 192.168.0.152 - 192.168.0.152 : L2 load-balancer IP address range for production (northcluster) 192.168.0.160 : Hercules static IP assignment 192.168.0.160 : Hercules static IP assignment IP Address Management: northern The internal network uses the 192.168.1.0/24 subnet, providing 256 unique IP addresses. The DHCP server currently serves all of these, requiring adjustment to allow a layer 2 load balanced routers to be defined in the same subnet. Static IPs are assigned to all kubernetes hosts, configured on the router as static, on initial lease. Since the subnet differs from the site the nodes were built on, rebuild of the ceph clusters will be required, and may be required for microk8s. 192.168.0.2 - 192.168.0.99 : Addresses assigned to the router DHCP server 192.168.0.152 - 192.168.0.152 : L2 load-balancer IP address range for production (northcluster) 192.168.1.220 - 192.168.1.220 : L2 L2 load-balancer IP address range for production (northcluster) UK /etc/hosts The text block below contains the full hosts file entry list, mainly useful on the admin client. Add /etc/hosts file entries on servers Add /private/etc/hosts for Mac clients Original Site # Workstations 192.168.0.6 sigiriya 192.168.0.18 dolmen 192.168.0.27 james # Cluster Nodes 192.168.0.4 habilis 192.168.0.14 antecessor 192.168.0.21 naledi 192.168.0.7 denisova 192.168.0.30 rudolfensis 192.168.0.33 ergaster Turned down: # Dynamic VM, will be assigned IP on startup: 192.168.0.47 ularu # Mac mini, rebuild for sale 192.168.0.52 bukit # IoT Devices 192.168.0.11 anasazi 192.168.0.28 levant 192.168.0.131 ovoo 192.168.0.13 balin 192.168.0.20 thorin 192.168.0.26 dwalin Northern interim site # Workstations 192.168.0.18 dolmen # VMs 192.168.1.115 ularu # Cluster Nodes 192.168.1.117 habilis 192.168.1.113 antecessor 192.168.1.112 naledi 192.168.1.130 neanderthal 192.168.1.131 erectus 192.168.1.137 floresiensis 192.168.1.134 rudolfensis 192.168.1.140 norham01 192.168.1.141 norham02 192.168.1.142 norham03 192.168.1.143 norham04 # Data Server 192.168.1.26 dataserver","title":"Hosts Inventory"},{"location":"inventoryHosts/#hosts-inventory","text":"This page provides convenience listings of hosts file entries, and details of devices not already listed.","title":"Hosts Inventory"},{"location":"inventoryHosts/#hostnames-relevant-to-the-podzone-project","text":"DNS domains hosted DynDns have been in use for years (the first paid for service was ordered in 2008) and will be used further for this project.","title":"hostnames relevant to the podzone project"},{"location":"inventoryHosts/#hostnames-for-minimum-viable-product","text":"southern.podzone.net musings.thruhere.net qsolutions.endoftheinternet.org docs.podzone.net mottttspot.servegame.org","title":"Hostnames for minimum viable product"},{"location":"inventoryHosts/#hostnames-configured-for-future-use","text":"central.podzone.net control.podzone.net dev.podzone.net east.podzone.net eastern.podzone.net north.podzone.net northern.podzone.net west.podzone.net western.podzone.net","title":"Hostnames configured for future use"},{"location":"inventoryHosts/#hostnames-made-redundant","text":"These sites are becoming redundant with the MVP implementation, and can be cleaned up: colley.endoftheinternet.org poc.endoftheinternet.org qapps.does-it.net","title":"Hostnames made redundant"},{"location":"inventoryHosts/#ingress-hosts","text":"Ingress hosts make use of the DNS entries defined above. southern.podzone.net is a wildcard entry used by some of these. https://musings.thruhere.net : Routing to Apache instance for serving a static web site. https://qsolutions.endoftheinternet.org : Routing to a Zope application server, serving QSolutions Applications. https://control.southern.podzone.net : Routing to kubernetes API. https://db.southern.podzone.net : Routing to database GUI console. https://ceph.southern.podzone.net:8443/ : Routing to Ceph dashboard.","title":"Ingress hosts"},{"location":"inventoryHosts/#ip-address-management-southern","text":"The internal network uses the 192.168.0.0/24 subnet, providing 256 unique IP addresses. The first set are assigned to the DHCP server for allocation, allowing layer 2 load balanced routers to be defined in the same subnet. Static IPs are assigned to all kubernetes hosts, configured on the router as static, on initial lease. 192.168.0.2 - 192.168.0.99 : Addresses assigned to the router DHCP server 192.168.0.104 - 102.168.0.111 : ( 192.168.0.104/29 ) Wireguard 192.168.0.131 - 192.168.0.140 : L2 load-balancer IP address range for dev on bare metal 192.168.0.141 - 192.168.0.150 : L2 load-balancer IP address range for dev on virtual servers 192.168.0.151 - 192.168.0.151 : L2 load-balancer IP address range for production (southcluster) 192.168.0.152 - 192.168.0.152 : L2 load-balancer IP address range for production (northcluster) 192.168.0.160 : Hercules static IP assignment 192.168.0.160 : Hercules static IP assignment","title":"IP Address Management: southern"},{"location":"inventoryHosts/#ip-address-management-northern","text":"The internal network uses the 192.168.1.0/24 subnet, providing 256 unique IP addresses. The DHCP server currently serves all of these, requiring adjustment to allow a layer 2 load balanced routers to be defined in the same subnet. Static IPs are assigned to all kubernetes hosts, configured on the router as static, on initial lease. Since the subnet differs from the site the nodes were built on, rebuild of the ceph clusters will be required, and may be required for microk8s. 192.168.0.2 - 192.168.0.99 : Addresses assigned to the router DHCP server 192.168.0.152 - 192.168.0.152 : L2 load-balancer IP address range for production (northcluster) 192.168.1.220 - 192.168.1.220 : L2 L2 load-balancer IP address range for production (northcluster) UK","title":"IP Address Management: northern"},{"location":"inventoryHosts/#etchosts","text":"The text block below contains the full hosts file entry list, mainly useful on the admin client. Add /etc/hosts file entries on servers Add /private/etc/hosts for Mac clients","title":"/etc/hosts"},{"location":"inventoryHosts/#original-site","text":"# Workstations 192.168.0.6 sigiriya 192.168.0.18 dolmen 192.168.0.27 james # Cluster Nodes 192.168.0.4 habilis 192.168.0.14 antecessor 192.168.0.21 naledi 192.168.0.7 denisova 192.168.0.30 rudolfensis 192.168.0.33 ergaster Turned down: # Dynamic VM, will be assigned IP on startup: 192.168.0.47 ularu # Mac mini, rebuild for sale 192.168.0.52 bukit # IoT Devices 192.168.0.11 anasazi 192.168.0.28 levant 192.168.0.131 ovoo 192.168.0.13 balin 192.168.0.20 thorin 192.168.0.26 dwalin","title":"Original Site"},{"location":"inventoryHosts/#northern-interim-site","text":"# Workstations 192.168.0.18 dolmen # VMs 192.168.1.115 ularu # Cluster Nodes 192.168.1.117 habilis 192.168.1.113 antecessor 192.168.1.112 naledi 192.168.1.130 neanderthal 192.168.1.131 erectus 192.168.1.137 floresiensis 192.168.1.134 rudolfensis 192.168.1.140 norham01 192.168.1.141 norham02 192.168.1.142 norham03 192.168.1.143 norham04 # Data Server 192.168.1.26 dataserver","title":"Northern interim site"},{"location":"inventoryIoT/","text":"IoT (Internet of Things) devices While unrelated to the podzone project, the following Raspberry Pis are also on the network. Only Levant participated in k8s cluster work. levant Raspberry Pi 4 B 1.8GHz Broadcom BCM2711, Quad Core Cortex-A72 4GB RAM Ubuntu Core 22 IP: 192.168.0.28 balin Model: Raspberry Pi Model B Rev 2 ARMv6-compatible processor rev 7 (v6l) MAC: B8-27-EB-AB-1A-F3 IP: 192.168.0.13 thorin Model: Raspberry Pi Model B Rev 2 ARMv6-compatible processor rev 7 (v6l) MAC: B8-27-EB-05-94-A7 IP: 192.168.0.20 dwalin Model: Zero W MAC: B8-27-EB-7C-FE-CA IP: 192.168.0.26 anasazi Model: Raspberry Pi 2 Model B Rev 1.1 Quad Core 1.2GHz Broadcom BCM2837 64bit CPU {4 X ARMv7 Processor rev 5 (v7l)} 1GB RAM IP: 192.168.0.11 MAC: B8-27-EB-BE-0D-EB","title":"IoT (Internet of Things) devices"},{"location":"inventoryIoT/#iot-internet-of-things-devices","text":"While unrelated to the podzone project, the following Raspberry Pis are also on the network. Only Levant participated in k8s cluster work.","title":"IoT (Internet of Things) devices"},{"location":"inventoryIoT/#levant","text":"Raspberry Pi 4 B 1.8GHz Broadcom BCM2711, Quad Core Cortex-A72 4GB RAM Ubuntu Core 22 IP: 192.168.0.28","title":"levant"},{"location":"inventoryIoT/#balin","text":"Model: Raspberry Pi Model B Rev 2 ARMv6-compatible processor rev 7 (v6l) MAC: B8-27-EB-AB-1A-F3 IP: 192.168.0.13","title":"balin"},{"location":"inventoryIoT/#thorin","text":"Model: Raspberry Pi Model B Rev 2 ARMv6-compatible processor rev 7 (v6l) MAC: B8-27-EB-05-94-A7 IP: 192.168.0.20","title":"thorin"},{"location":"inventoryIoT/#dwalin","text":"Model: Zero W MAC: B8-27-EB-7C-FE-CA IP: 192.168.0.26","title":"dwalin"},{"location":"inventoryIoT/#anasazi","text":"Model: Raspberry Pi 2 Model B Rev 1.1 Quad Core 1.2GHz Broadcom BCM2837 64bit CPU {4 X ARMv7 Processor rev 5 (v7l)} 1GB RAM IP: 192.168.0.11 MAC: B8-27-EB-BE-0D-EB","title":"anasazi"},{"location":"inventorySelection/","text":"Hardware Selection From a mail to a friend: I looked at 2nd hand PowerEdge servers. The issue is the hard drive caddys. Most of the PowerEdge servers I have seen second hand has had the HD caddy stripped. The HD caddy makes the drives hot-swappable, and is expensive, only used in enterprise gear. If you look at this deal for example: https://www.ebay.co.uk/itm/225945684989, it all looks good until you notice there are no RAM, HDs or caddys. I went for the HP thin client for the following reasons: - form factor - low noise - DDR4 RAM up to 64GB (poweredge is DDR3) - 4 CPU Cores (poweredge has 2 X 4 core CPUs) - 2.2GHz CPU (poweredge is around here as well, depending on model) - 2 X m.2 SATA SSD slots (poweredge uses SAS disks, good but expensive) With 3 units, you get a 12 Core cluster, up to 96 GB RAM, and 6 X M.2 SATA slots for distributed storage.","title":"Hardware Selection"},{"location":"inventorySelection/#hardware-selection","text":"From a mail to a friend: I looked at 2nd hand PowerEdge servers. The issue is the hard drive caddys. Most of the PowerEdge servers I have seen second hand has had the HD caddy stripped. The HD caddy makes the drives hot-swappable, and is expensive, only used in enterprise gear. If you look at this deal for example: https://www.ebay.co.uk/itm/225945684989, it all looks good until you notice there are no RAM, HDs or caddys. I went for the HP thin client for the following reasons: - form factor - low noise - DDR4 RAM up to 64GB (poweredge is DDR3) - 4 CPU Cores (poweredge has 2 X 4 core CPUs) - 2.2GHz CPU (poweredge is around here as well, depending on model) - 2 X m.2 SATA SSD slots (poweredge uses SAS disks, good but expensive) With 3 units, you get a 12 Core cluster, up to 96 GB RAM, and 6 X M.2 SATA slots for distributed storage.","title":"Hardware Selection"},{"location":"inventoryServers/","text":"Server Inventory As cluster build-out has progressed, devices and their resource configuration have been standardised. Detail of the original development environments has since been refactored out of this documentation. Cluster nodes Cluster nodes are HP t630 Thin Clients, for which the specifications are available from HP online: https://support.hp.com/za-en/document/c05240287 . The devices were purchased second hand, and typically had limited RAM and disk installed (e.g. 32GB disk, and 8GB DDR4 RAM). RAM and disk were installed, giving the following common node configuration: HP t360 specs HP t630 Thinclient OS: Ubuntu Server 22.04 minimised AMD Quad Core CPU @ 2.0 Ghz 24Gb DDR4 RAM 128 GB M.2 SATA SSDs 256 GB M.2 SATA SSDs northern zone solution http request router In order to support multiple k8s clusters on the northern network served by a single static IP assigned by the ISP, without any cluster depending on another, an HP t520 device is added to the solution to serve a reverse proxy (apache) function. Routing of https requests at the proxy is based on domain name. In addition, the domain name IP address management function (ddclient) and tls certificate management for the reverse proxy (certbot) are provided on this device: rudolfensis: t520; apache, ddclient, certbot Kubernetes nodes The northern zone solution has the following node configuration: naledi: t630; k8s, ceph habilis: t630; k8s, ceph antecessor: t630; k8s, ceph neanderthal: t630; k8s, ceph erectus: t630; k8s, ceph floresiensis: t630; k8s, ceph norham01: t630; k8s, ceph norham02: t630; k8s, ceph norham03: t630; k8s, ceph norham04: t630; k8s, ceph Cluster resource totals Total t630 CPU: 40 cores Total t630 RAM: 200 GB Total t630 Raw Disk: 2.5 TB southern zone solution denisova: t630; k8s, ceph, ddclient, ularu rudolfensis: t630; k8s, ceph ergaster: t630; k8s, ceph","title":"Server Inventory"},{"location":"inventoryServers/#server-inventory","text":"As cluster build-out has progressed, devices and their resource configuration have been standardised. Detail of the original development environments has since been refactored out of this documentation.","title":"Server Inventory"},{"location":"inventoryServers/#cluster-nodes","text":"Cluster nodes are HP t630 Thin Clients, for which the specifications are available from HP online: https://support.hp.com/za-en/document/c05240287 . The devices were purchased second hand, and typically had limited RAM and disk installed (e.g. 32GB disk, and 8GB DDR4 RAM). RAM and disk were installed, giving the following common node configuration:","title":"Cluster nodes"},{"location":"inventoryServers/#hp-t360-specs","text":"HP t630 Thinclient OS: Ubuntu Server 22.04 minimised AMD Quad Core CPU @ 2.0 Ghz 24Gb DDR4 RAM 128 GB M.2 SATA SSDs 256 GB M.2 SATA SSDs","title":"HP t360 specs"},{"location":"inventoryServers/#northern-zone-solution","text":"","title":"northern zone solution"},{"location":"inventoryServers/#http-request-router","text":"In order to support multiple k8s clusters on the northern network served by a single static IP assigned by the ISP, without any cluster depending on another, an HP t520 device is added to the solution to serve a reverse proxy (apache) function. Routing of https requests at the proxy is based on domain name. In addition, the domain name IP address management function (ddclient) and tls certificate management for the reverse proxy (certbot) are provided on this device: rudolfensis: t520; apache, ddclient, certbot","title":"http request router"},{"location":"inventoryServers/#kubernetes-nodes","text":"The northern zone solution has the following node configuration: naledi: t630; k8s, ceph habilis: t630; k8s, ceph antecessor: t630; k8s, ceph neanderthal: t630; k8s, ceph erectus: t630; k8s, ceph floresiensis: t630; k8s, ceph norham01: t630; k8s, ceph norham02: t630; k8s, ceph norham03: t630; k8s, ceph norham04: t630; k8s, ceph","title":"Kubernetes nodes"},{"location":"inventoryServers/#cluster-resource-totals","text":"Total t630 CPU: 40 cores Total t630 RAM: 200 GB Total t630 Raw Disk: 2.5 TB","title":"Cluster resource totals"},{"location":"inventoryServers/#southern-zone-solution","text":"denisova: t630; k8s, ceph, ddclient, ularu rudolfensis: t630; k8s, ceph ergaster: t630; k8s, ceph","title":"southern zone solution"},{"location":"inventorySite/","text":"Site Inventory South Africa (SA) SA: Current Main High Availability is achieved with k8s and ceph HA clustering. Shut Down #1: Node 1 Pack for UK: Before 20240113 Shut Down #2: Node 2 Pack for UK: Before 20240113 Shut Down #2: Node 3 Pack for UK: Before 20240116 12pm SA: Temporary Main Site, no High Availability Availability: {Single node k8s, no ceph} OR {3 Node complete cluster} Start Up: Before 20240113 Shut Down: After 20240120 United Kingdom (UK) High availability: k8s and ceph Start Up #1: Nodes 3 and 4: After 20240116 Start Up #2: Node 1: After 20240119 timeline title Production Traffic 20240113 : SA Current 20240114 : SA Temporary 20240122 : UK Southampton Temporary 20240130 : SA Current Network Shutdown 20240701 : UK Southampton Permanent","title":"Site Inventory"},{"location":"inventorySite/#site-inventory","text":"","title":"Site Inventory"},{"location":"inventorySite/#south-africa-sa","text":"","title":"South Africa (SA)"},{"location":"inventorySite/#sa-current-main","text":"High Availability is achieved with k8s and ceph HA clustering. Shut Down #1: Node 1 Pack for UK: Before 20240113 Shut Down #2: Node 2 Pack for UK: Before 20240113 Shut Down #2: Node 3 Pack for UK: Before 20240116 12pm","title":"SA: Current Main"},{"location":"inventorySite/#sa-temporary-main-site-no-high-availability","text":"Availability: {Single node k8s, no ceph} OR {3 Node complete cluster} Start Up: Before 20240113 Shut Down: After 20240120","title":"SA: Temporary Main Site, no High Availability"},{"location":"inventorySite/#united-kingdom-uk","text":"High availability: k8s and ceph Start Up #1: Nodes 3 and 4: After 20240116 Start Up #2: Node 1: After 20240119 timeline title Production Traffic 20240113 : SA Current 20240114 : SA Temporary 20240122 : UK Southampton Temporary 20240130 : SA Current Network Shutdown 20240701 : UK Southampton Permanent","title":"United Kingdom (UK)"},{"location":"inventoryVm/","text":"Virtual Machine Inventory Virtual server: ularu Ularu is the single instance service the full current workload. It represents an unacceptable single point of failure. It is to be turned down once MVP implementation is complete. Virtualbox on bukit Ubuntu 16.04.7 Zope Version 2.13.24 (python 2.7.11, linux2) QApps release 3.0 RAM assignment: 1.8GB CPU assignment: 1 IP: 192.168.0.3 MAC: 08-00-27-C3-E9-F6 ssh colleymj@ularu -p 2222 Virtualbox dev nodes Before the production servers were procured, \"prod\" (not yet feature complete, but servicing web) was run on the currently labelled \"dev\" infrastructure, leaving a need for dev work without compromising the rolled out solution. To support this, a set of virtual machines, running on james, were deployed. These instances are managed as follows: Vagrant to spin up the virtualbox machines, and prepare ssh access Vagrant box image: https://app.vagrantup.com/techchad2022/boxes/ubuntu2204 Ansible for microk8s installation and configuration After production server procurement, these hosts are turned down, and hostnames and IP addresses reclaimed. denisova RAM assignment: 4GB CPU assignment: 4 MAC: 08-00-27-19-87-6B IP: 192.168.0.5 rudolfensis RAM assignment: 2GB CPU assignment: 1 MAC: 08-00-27-1C-B8-7E IP: 192.168.0.16 ergaster RAM assignment: 2GB CPU assignment: 1 MAC: 08-00-27-5D-14-DB IP: 192.168.0.17 floresiensis RAM assignment: 1GB CPU assignment: 1 MAC: 08-00-27-8A-AA-C5 IP: 192.168.0.19 Multipass dev nodes These are named place-holders for a MicroCloud exercise. multipass instance: ardipithecus multipass instance: australopithecus multipass instance: tugenensis multipass instance: tchadensis","title":"Virtual Machine Inventory"},{"location":"inventoryVm/#virtual-machine-inventory","text":"","title":"Virtual Machine Inventory"},{"location":"inventoryVm/#virtual-server-ularu","text":"Ularu is the single instance service the full current workload. It represents an unacceptable single point of failure. It is to be turned down once MVP implementation is complete. Virtualbox on bukit Ubuntu 16.04.7 Zope Version 2.13.24 (python 2.7.11, linux2) QApps release 3.0 RAM assignment: 1.8GB CPU assignment: 1 IP: 192.168.0.3 MAC: 08-00-27-C3-E9-F6 ssh colleymj@ularu -p 2222","title":"Virtual server: ularu"},{"location":"inventoryVm/#virtualbox-dev-nodes","text":"Before the production servers were procured, \"prod\" (not yet feature complete, but servicing web) was run on the currently labelled \"dev\" infrastructure, leaving a need for dev work without compromising the rolled out solution. To support this, a set of virtual machines, running on james, were deployed. These instances are managed as follows: Vagrant to spin up the virtualbox machines, and prepare ssh access Vagrant box image: https://app.vagrantup.com/techchad2022/boxes/ubuntu2204 Ansible for microk8s installation and configuration After production server procurement, these hosts are turned down, and hostnames and IP addresses reclaimed.","title":"Virtualbox dev nodes"},{"location":"inventoryVm/#denisova","text":"RAM assignment: 4GB CPU assignment: 4 MAC: 08-00-27-19-87-6B IP: 192.168.0.5","title":"denisova"},{"location":"inventoryVm/#rudolfensis","text":"RAM assignment: 2GB CPU assignment: 1 MAC: 08-00-27-1C-B8-7E IP: 192.168.0.16","title":"rudolfensis"},{"location":"inventoryVm/#ergaster","text":"RAM assignment: 2GB CPU assignment: 1 MAC: 08-00-27-5D-14-DB IP: 192.168.0.17","title":"ergaster"},{"location":"inventoryVm/#floresiensis","text":"RAM assignment: 1GB CPU assignment: 1 MAC: 08-00-27-8A-AA-C5 IP: 192.168.0.19","title":"floresiensis"},{"location":"inventoryVm/#multipass-dev-nodes","text":"These are named place-holders for a MicroCloud exercise.","title":"Multipass dev nodes"},{"location":"inventoryVm/#multipass-instance-ardipithecus","text":"","title":"multipass instance: ardipithecus"},{"location":"inventoryVm/#multipass-instance-australopithecus","text":"","title":"multipass instance: australopithecus"},{"location":"inventoryVm/#multipass-instance-tugenensis","text":"","title":"multipass instance: tugenensis"},{"location":"inventoryVm/#multipass-instance-tchadensis","text":"","title":"multipass instance: tchadensis"},{"location":"inventoryWorkstation/","text":"Workstation config The purpose of this page is to keep some track of software installations required for build, troubleshooting and administration of the solution. Some of the tools are described in the Tooling topic above, under Administration . Tooling Tools installed on Dolmen for cluster build and management: ansible kubectl calicoctl k8s helm jq octant openssl vagrant Connectivity --- title: southern.podzone.net On-premise workstation connectivity --- graph TD kubectl --- microk8sW2 calicoctl --- kubectl k9s --- kubectl ssh --- james ssh --- sigiriya ssh --- bukit ssh --- anasazi ssh --- levant ansible --- ssh subgraph dolmen workstation kubectl calicoctl ssh k9s ansible end subgraph microk8s Cluster subgraph Control Plane subgraph james microk8sW2{{microk8s}} end end subgraph sigiriya microk8sW1{{microk8s}} end subgraph bukit microk8sC2{{microk8s}} end end subgraph k3s Cluster subgraph levant k3s1{{k3s}} end subgraph anasazi k3s2{{k3s}} end end Hardware configuration MacBook Pro Apple M1 16GB RAM macOs Ventura 13.5.2","title":"Workstation config"},{"location":"inventoryWorkstation/#workstation-config","text":"The purpose of this page is to keep some track of software installations required for build, troubleshooting and administration of the solution. Some of the tools are described in the Tooling topic above, under Administration .","title":"Workstation config"},{"location":"inventoryWorkstation/#tooling","text":"Tools installed on Dolmen for cluster build and management: ansible kubectl calicoctl k8s helm jq octant openssl vagrant","title":"Tooling"},{"location":"inventoryWorkstation/#connectivity","text":"--- title: southern.podzone.net On-premise workstation connectivity --- graph TD kubectl --- microk8sW2 calicoctl --- kubectl k9s --- kubectl ssh --- james ssh --- sigiriya ssh --- bukit ssh --- anasazi ssh --- levant ansible --- ssh subgraph dolmen workstation kubectl calicoctl ssh k9s ansible end subgraph microk8s Cluster subgraph Control Plane subgraph james microk8sW2{{microk8s}} end end subgraph sigiriya microk8sW1{{microk8s}} end subgraph bukit microk8sC2{{microk8s}} end end subgraph k3s Cluster subgraph levant k3s1{{k3s}} end subgraph anasazi k3s2{{k3s}} end end","title":"Connectivity"},{"location":"inventoryWorkstation/#hardware-configuration","text":"MacBook Pro Apple M1 16GB RAM macOs Ventura 13.5.2","title":"Hardware configuration"},{"location":"referenceLightingControl/","text":"Lighting control http://elm-chan.org/works/vlp/report_e.html https://www.laserfocusworld.com/software-accessories/positioning-support-accessories/article/16556839/beam-steering-parallel-projection-galvo-scanning-enables-materials-processing-of-freeform-surfaces https://www.ilda.com/technical.htm https://www.ilda.com/controllerfaq.htm https://www.laserworld.com/en/glossary-definitions/79-i/1316-ilda-eng.html https://en.wikipedia.org/wiki/Entertainment_Services_and_Technology_Association https://www.laserworld.com/en/laser-technical-faq/1131-can-i-use-dmx-capable-show-laser-systems-in-master-slave-mode.html https://en.wikipedia.org/wiki/DMX512 https://www.instructables.com/Raspberry-Pi-as-a-DMX-light-controller/ https://github.com/mcallegari/qlcplus https://www.instructables.com/How-to-Use-DMX512-RDM-With-Raspberry-Pi/ https://www.qlcplus.org/download https://developer.valvesoftware.com/wiki/DMX/Binary https://developer.valvesoftware.com/wiki/DMX https://www.facebook.com/SubsonicSystems","title":"Lighting control"},{"location":"referenceLightingControl/#lighting-control","text":"http://elm-chan.org/works/vlp/report_e.html https://www.laserfocusworld.com/software-accessories/positioning-support-accessories/article/16556839/beam-steering-parallel-projection-galvo-scanning-enables-materials-processing-of-freeform-surfaces https://www.ilda.com/technical.htm https://www.ilda.com/controllerfaq.htm https://www.laserworld.com/en/glossary-definitions/79-i/1316-ilda-eng.html https://en.wikipedia.org/wiki/Entertainment_Services_and_Technology_Association https://www.laserworld.com/en/laser-technical-faq/1131-can-i-use-dmx-capable-show-laser-systems-in-master-slave-mode.html https://en.wikipedia.org/wiki/DMX512 https://www.instructables.com/Raspberry-Pi-as-a-DMX-light-controller/ https://github.com/mcallegari/qlcplus https://www.instructables.com/How-to-Use-DMX512-RDM-With-Raspberry-Pi/ https://www.qlcplus.org/download https://developer.valvesoftware.com/wiki/DMX/Binary https://developer.valvesoftware.com/wiki/DMX https://www.facebook.com/SubsonicSystems","title":"Lighting control"},{"location":"referencesApplication/","text":"Application references These references are related to the build of the workload: Serving Web, Zope, Postgres, and Plone, and Internet access to these resources. APIs https://operatorhub.io/operator/api-operator https://operatorhub.io/ https://linuxsuren.github.io/api-testing/ https://operatorhub.io/operator/app-director-operator https://operatorhub.io/operator/argocd-operator https://operatorhub.io/operator/argocd-operator-helm https://operatorhub.io/operator/ceph-s3-operator https://operatorhub.io/operator/postgresql https://operatorhub.io/operator/elastic-cloud-eck https://kubernetes.io/docs/concepts/extend-kubernetes/operator/ https://operatorframework.io/ Applications https://3.docs.plone.org/manage/deploying/backup.html https://6.docs.plone.org/install/containers/images/index.html https://artifacthub.io/packages/helm/bitnami/apache https://bluedynamics.com/blog/jens/the-zope-2-virtualhostmonster-how-it-works-internally.html https://carlos.mendible.com/2019/02/10/kubernetes-mount-file-pod-with-configmap/ https://charmhub.io/postgresql/docs/t-setup-environment?channel=14/stable https://cloudinfrastructureservices.co.uk/apache-web-server-security-and-hardening-best-practices-checklist/ https://community.plone.org/t/how-to-backup-and-restore-plone-files-and-images/12283/3 https://community.plone.org/t/postgres-with-plone/7530/3 https://dev.to/codewithml/setup-adminer-with-docker-for-database-management-4dd2 https://devpress.csdn.net/ubuntu/62e7a40b907d7d59d1c8d15b.html https://httpd.apache.org/docs/2.4/en/mod/mod_access_compat.html https://httpd.apache.org/docs/2.4/en/mod/mod_auth_basic.html https://httpd.apache.org/docs/2.4/mod/mod_alias.html https://httpd.apache.org/docs/2.4/mod/mod_env.html https://httpd.apache.org/docs/2.4/mod/mod_filter.html https://httpd.apache.org/docs/2.4/mod/mod_headers.html https://httpd.apache.org/docs/2.4/mod/mod_mime.html https://httpd.apache.org/docs/2.4/mod/mod_reqtimeout.html https://httpd.apache.org/docs/2.4/mod/mod_status.html https://httpd.apache.org/docs/2.4/mod/mod_unixd.html https://httpd.apache.org/docs/2.4/mod/mod_version.html https://httpd.apache.org/docs/current/mod/mod_setenvif.html https://hub.docker.com/_/adminer/ https://hub.docker.com/_/plone/ https://hub.docker.com/_/plone https://hub.docker.com/_/postgres https://hub.docker.com/r/eeacms/zope-2-7-2 https://hub.docker.com/r/mryattle/zope2 https://hub.docker.com/r/robcast/legacy-zope https://pypi.org/project/bluebream/ https://pypi.org/project/Products.ZPsycopgDA/ https://pypi.org/project/psycopg2/#files https://pypi.org/project/z3c.sqlalchemy/ https://www.postgresql.org/download/linux/ubuntu/ https://www.psycopg.org/ https://www.psycopg.org/psycopg3/docs/basic/install.html https://docs.sqlalchemy.org/en/20/intro.html#installation https://github.com/plone/cookiecutter-zope-instance https://geekflare.com/apache-web-server-hardening-security/ https://github.com/canonical/postgresql-k8s-operator/tree/main https://github.com/canonical/postgresql-k8s-operator https://zope.readthedocs.io/en/latest/zopebook/RelationalDatabases.html https://zpsycopgda.readthedocs.io/en/latest/installation.html https://github.com/wodby/adminer https://github.com/zopefoundation/Products.SQLAlchemyDA https://gitlab.gwdg.de/MPIWG/research-it/docker-legacy-zope https://kodekloud.com/blog/deploy-postgresql-kubernetes/ https://thanhtungvo.medium.com/build-git-sync-for-side-car-container-in-kubernetes-4ee51bda84f0 https://www.tutorialspoint.com/10-apache-web-server-security-and-hardening-tips https://www.crunchydata.com/blog/stateful-postgres-storage-using-kubernetes https://www.devopstricks.in/deploy-apache-kubernetes/ https://github.com/CrunchyData/postgres-operator https://squidfunk.github.io/mkdocs-material/publishing-your-site/ https://www.adminer.org/ https://www.henryxieblogs.com/2019/04/use-configmap-to-store-httpconf-for.html https://www.digitalocean.com/community/tutorials/how-to-install-and-use-zope-2-and-postgresql-on-ubuntu-13-10 https://www.linuxjournal.com/article/5849 https://www.makeuseof.com/md-block-render-markdown-web-page/ https://www.mkdocs.org/ https://www.mkdocs.org/user-guide/configuration/ https://zope.readthedocs.io/en/latest/zopebook/InstallingZope.html https://zope.readthedocs.io/en/latest/ https://gitlab.gwdg.de/MPIWG/research-it/docker-legacy-zope/-/blob/master/legacy-zope-2.13/Dockerfile?ref_type=heads https://www.zope.dev/world.html https://hub.docker.com/r/robcast/legacy-zope Network, Ingress and Certification Management https://benbrougher.tech/posts/microk8s-ingress/ https://akyriako.medium.com/ssl-tls-for-kubernetes-with-cert-manager-and-lets-encrypt-87846ca74cb4 https://betterprogramming.pub/strato-dyndns-controller-for-kubernetes-9a59ae426c5b https://betterprogramming.pub/how-to-use-kubernetes-secrets-for-storing-sensitive-config-data-f3c5e7d11c15 https://brewpackets.blog/2023/02/20/calico-and-metallb-working-together-with-bgp/ https://cert-manager.io/docs/concepts/issuer/ https://cert-manager.io/docs/configuration/acme/ https://cert-manager.io/docs/configuration/acme/dns01/ https://cert-manager.io/docs/configuration/acme/http01/ https://cert-manager.io/docs/installation/ https://cert-manager.io/docs/troubleshooting/ https://cert-manager.io/docs/troubleshooting/acme/ https://cert-manager.io/docs/usage/ingress/ https://cloud.google.com/kubernetes-engine/docs/how-to/load-balance-ingress https://discuss.linuxcontainers.org/t/simple-bridge-from-lxd-to-hosts-private-network-with-static-ip/14754 https://docs.docker.com/network/drivers/macvlan/ https://docs.docker.com/network/network-tutorial-macvlan/ https://docs.nginx.com/nginx-ingress-controller/configuration/global-configuration/configmap-resource/ https://docs.tigera.io/calico/latest/about https://docs.tigera.io/calico/latest/getting-started/kubernetes/ https://docs.tigera.io/calico/latest/getting-started/kubernetes/microk8s https://docs.tigera.io/calico/latest/getting-started/kubernetes/quickstart https://docs.tigera.io/calico/latest/network-policy/services/kubernetes-node-ports#before-you-begin https://docs.tigera.io/calico/latest/network-policy/services/kubernetes-node-ports https://docs.tigera.io/calico/latest/networking/configuring/bgp https://docs.tigera.io/calico/latest/networking/configuring/workloads-outside-cluster https://docs.tigera.io/calico/latest/networking/ipam/ip-autodetection https://docs.tigera.io/calico/latest/networking/openstack/ https://docs.tigera.io/calico/latest/operations/calicoctl/install https://docs.tigera.io/calico/latest/operations/install-apiserver https://docs.tigera.io/calico/latest/reference/calicoctl/overview https://docs.tigera.io/calico/latest/reference/host-endpoints/pre-dnat https://docs.tigera.io/calico/latest/reference/resources/globalnetworkpolicy https://docs.tigera.io/calico/latest/reference/resources/hostendpoint https://docs.tigera.io/calico/latest/reference/resources/profile https://metallb.org/ https://metallb.org/usage/ https://medium.com/@chamilad/load-balancing-and-reverse-proxying-for-kubernetes-services-f03dd0efe80 https://medium.com/avmconsulting-blog/encrypting-the-certificate-for-kubernetes-lets-encrypt-805d2bf88b2a https://opensource.byjg.com/devops/docker-easy-haproxy/ https://opensource.byjg.com/devops/docker-easy-haproxy/microk8s.md https://vmwire.com/2020/09/29/using-lets-encrypt-certificates-with-cloud-director/ https://vmwire.com/2022/02/07/running-kubernetes-dashboard-with-signed-certificates/ https://www.frakkingsweet.com/metallb-calico-bgp-loadbalancer-and-loadbalancer-ips/ https://earthly.dev/blog/setup-reverse-proxy-kubernetes-nginx/ https://github.com/canonical/manual-tls-certificates-operator/tree/main https://kndrck.co/posts/microk8s_ingress_example/ https://mvysny.github.io/microk8s-lets-encrypt/ https://phoenixnap.com/kb/microk8s-ingress https://raw.githubusercontent.com/kubernetes/ingress-nginx/130af33510882ae62c89277f2ad0baca50e0fafe/deploy/static/mandatory.yaml https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.2.0/deploy/static/provider/cloud/deploy.yaml https://subscription.packtpub.com/book/cloud-and-networking/9781785287916/1/ch01lvl1sec12/connecting-two-networks https://www.adaltas.com/en/2022/09/08/kubernetes-metallb-nginx/ https://help.dyn.com/tsig/ https://help.ubuntu.com/community/DynamicDNS https://sourceforge.net/projects/ddclient/ https://platform9.com/learn/v1.0/tutorials/nginix-controller-via-yaml https://www.datree.io/helm-chart/ddns-updater-truecharts https://discuss.kubernetes.io/t/addon-ingress/11259/31 https://discuss.kubernetes.io/t/addon-ingress/11259/35 https://github.com/canonical/microk8s-core-addons/blob/main/addons/ingress/ingress.yaml https://kubernetes.github.io/ingress-nginx/user-guide/exposing-tcp-udp-services/ https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/index.md Wordpress https://kubeapps.dev/docs/latest/tutorials/getting-started/ https://github.com/jvalderrama/helm-training https://kubeapps.dev/docs/latest/tutorials/getting-started/ https://kubeapps.dev/docs/latest/howto/dashboard/ https://bitnami.com/stack/wordpress/helm Minecraft https://docker-minecraft-server.readthedocs.io/en/latest/ https://hub.docker.com/r/itzg/minecraft-server/ https://github.com/solarhess/kubernetes-minecraft-server https://github.com/solarhess/kubernetes-minecraft-server/blob/master/helm/minecraft/templates/volume.yaml AI https://github.com/neuml/txtai https://neuml.github.io/txtai/ https://github.com/neuml/txtai/blob/master/examples/39_Classic_Topic_Modeling_with_BM25.ipynb https://neuml.github.io/txtai/examples/ https://medium.com/neuml/introducing-txtai-the-all-in-one-embeddings-database-c721f4ff91ad Collaboration and storage https://nextcloud.com/ https://github.com/nextcloud/all-in-one#nextcloud-all-in-one https://github.com/nextcloud/helm/blob/main/charts/nextcloud/README.md https://github.com/nextcloud/helm","title":"Application references"},{"location":"referencesApplication/#application-references","text":"These references are related to the build of the workload: Serving Web, Zope, Postgres, and Plone, and Internet access to these resources.","title":"Application references"},{"location":"referencesApplication/#apis","text":"https://operatorhub.io/operator/api-operator https://operatorhub.io/ https://linuxsuren.github.io/api-testing/ https://operatorhub.io/operator/app-director-operator https://operatorhub.io/operator/argocd-operator https://operatorhub.io/operator/argocd-operator-helm https://operatorhub.io/operator/ceph-s3-operator https://operatorhub.io/operator/postgresql https://operatorhub.io/operator/elastic-cloud-eck https://kubernetes.io/docs/concepts/extend-kubernetes/operator/ https://operatorframework.io/","title":"APIs"},{"location":"referencesApplication/#applications","text":"https://3.docs.plone.org/manage/deploying/backup.html https://6.docs.plone.org/install/containers/images/index.html https://artifacthub.io/packages/helm/bitnami/apache https://bluedynamics.com/blog/jens/the-zope-2-virtualhostmonster-how-it-works-internally.html https://carlos.mendible.com/2019/02/10/kubernetes-mount-file-pod-with-configmap/ https://charmhub.io/postgresql/docs/t-setup-environment?channel=14/stable https://cloudinfrastructureservices.co.uk/apache-web-server-security-and-hardening-best-practices-checklist/ https://community.plone.org/t/how-to-backup-and-restore-plone-files-and-images/12283/3 https://community.plone.org/t/postgres-with-plone/7530/3 https://dev.to/codewithml/setup-adminer-with-docker-for-database-management-4dd2 https://devpress.csdn.net/ubuntu/62e7a40b907d7d59d1c8d15b.html https://httpd.apache.org/docs/2.4/en/mod/mod_access_compat.html https://httpd.apache.org/docs/2.4/en/mod/mod_auth_basic.html https://httpd.apache.org/docs/2.4/mod/mod_alias.html https://httpd.apache.org/docs/2.4/mod/mod_env.html https://httpd.apache.org/docs/2.4/mod/mod_filter.html https://httpd.apache.org/docs/2.4/mod/mod_headers.html https://httpd.apache.org/docs/2.4/mod/mod_mime.html https://httpd.apache.org/docs/2.4/mod/mod_reqtimeout.html https://httpd.apache.org/docs/2.4/mod/mod_status.html https://httpd.apache.org/docs/2.4/mod/mod_unixd.html https://httpd.apache.org/docs/2.4/mod/mod_version.html https://httpd.apache.org/docs/current/mod/mod_setenvif.html https://hub.docker.com/_/adminer/ https://hub.docker.com/_/plone/ https://hub.docker.com/_/plone https://hub.docker.com/_/postgres https://hub.docker.com/r/eeacms/zope-2-7-2 https://hub.docker.com/r/mryattle/zope2 https://hub.docker.com/r/robcast/legacy-zope https://pypi.org/project/bluebream/ https://pypi.org/project/Products.ZPsycopgDA/ https://pypi.org/project/psycopg2/#files https://pypi.org/project/z3c.sqlalchemy/ https://www.postgresql.org/download/linux/ubuntu/ https://www.psycopg.org/ https://www.psycopg.org/psycopg3/docs/basic/install.html https://docs.sqlalchemy.org/en/20/intro.html#installation https://github.com/plone/cookiecutter-zope-instance https://geekflare.com/apache-web-server-hardening-security/ https://github.com/canonical/postgresql-k8s-operator/tree/main https://github.com/canonical/postgresql-k8s-operator https://zope.readthedocs.io/en/latest/zopebook/RelationalDatabases.html https://zpsycopgda.readthedocs.io/en/latest/installation.html https://github.com/wodby/adminer https://github.com/zopefoundation/Products.SQLAlchemyDA https://gitlab.gwdg.de/MPIWG/research-it/docker-legacy-zope https://kodekloud.com/blog/deploy-postgresql-kubernetes/ https://thanhtungvo.medium.com/build-git-sync-for-side-car-container-in-kubernetes-4ee51bda84f0 https://www.tutorialspoint.com/10-apache-web-server-security-and-hardening-tips https://www.crunchydata.com/blog/stateful-postgres-storage-using-kubernetes https://www.devopstricks.in/deploy-apache-kubernetes/ https://github.com/CrunchyData/postgres-operator https://squidfunk.github.io/mkdocs-material/publishing-your-site/ https://www.adminer.org/ https://www.henryxieblogs.com/2019/04/use-configmap-to-store-httpconf-for.html https://www.digitalocean.com/community/tutorials/how-to-install-and-use-zope-2-and-postgresql-on-ubuntu-13-10 https://www.linuxjournal.com/article/5849 https://www.makeuseof.com/md-block-render-markdown-web-page/ https://www.mkdocs.org/ https://www.mkdocs.org/user-guide/configuration/ https://zope.readthedocs.io/en/latest/zopebook/InstallingZope.html https://zope.readthedocs.io/en/latest/ https://gitlab.gwdg.de/MPIWG/research-it/docker-legacy-zope/-/blob/master/legacy-zope-2.13/Dockerfile?ref_type=heads https://www.zope.dev/world.html https://hub.docker.com/r/robcast/legacy-zope","title":"Applications"},{"location":"referencesApplication/#network-ingress-and-certification-management","text":"https://benbrougher.tech/posts/microk8s-ingress/ https://akyriako.medium.com/ssl-tls-for-kubernetes-with-cert-manager-and-lets-encrypt-87846ca74cb4 https://betterprogramming.pub/strato-dyndns-controller-for-kubernetes-9a59ae426c5b https://betterprogramming.pub/how-to-use-kubernetes-secrets-for-storing-sensitive-config-data-f3c5e7d11c15 https://brewpackets.blog/2023/02/20/calico-and-metallb-working-together-with-bgp/ https://cert-manager.io/docs/concepts/issuer/ https://cert-manager.io/docs/configuration/acme/ https://cert-manager.io/docs/configuration/acme/dns01/ https://cert-manager.io/docs/configuration/acme/http01/ https://cert-manager.io/docs/installation/ https://cert-manager.io/docs/troubleshooting/ https://cert-manager.io/docs/troubleshooting/acme/ https://cert-manager.io/docs/usage/ingress/ https://cloud.google.com/kubernetes-engine/docs/how-to/load-balance-ingress https://discuss.linuxcontainers.org/t/simple-bridge-from-lxd-to-hosts-private-network-with-static-ip/14754 https://docs.docker.com/network/drivers/macvlan/ https://docs.docker.com/network/network-tutorial-macvlan/ https://docs.nginx.com/nginx-ingress-controller/configuration/global-configuration/configmap-resource/ https://docs.tigera.io/calico/latest/about https://docs.tigera.io/calico/latest/getting-started/kubernetes/ https://docs.tigera.io/calico/latest/getting-started/kubernetes/microk8s https://docs.tigera.io/calico/latest/getting-started/kubernetes/quickstart https://docs.tigera.io/calico/latest/network-policy/services/kubernetes-node-ports#before-you-begin https://docs.tigera.io/calico/latest/network-policy/services/kubernetes-node-ports https://docs.tigera.io/calico/latest/networking/configuring/bgp https://docs.tigera.io/calico/latest/networking/configuring/workloads-outside-cluster https://docs.tigera.io/calico/latest/networking/ipam/ip-autodetection https://docs.tigera.io/calico/latest/networking/openstack/ https://docs.tigera.io/calico/latest/operations/calicoctl/install https://docs.tigera.io/calico/latest/operations/install-apiserver https://docs.tigera.io/calico/latest/reference/calicoctl/overview https://docs.tigera.io/calico/latest/reference/host-endpoints/pre-dnat https://docs.tigera.io/calico/latest/reference/resources/globalnetworkpolicy https://docs.tigera.io/calico/latest/reference/resources/hostendpoint https://docs.tigera.io/calico/latest/reference/resources/profile https://metallb.org/ https://metallb.org/usage/ https://medium.com/@chamilad/load-balancing-and-reverse-proxying-for-kubernetes-services-f03dd0efe80 https://medium.com/avmconsulting-blog/encrypting-the-certificate-for-kubernetes-lets-encrypt-805d2bf88b2a https://opensource.byjg.com/devops/docker-easy-haproxy/ https://opensource.byjg.com/devops/docker-easy-haproxy/microk8s.md https://vmwire.com/2020/09/29/using-lets-encrypt-certificates-with-cloud-director/ https://vmwire.com/2022/02/07/running-kubernetes-dashboard-with-signed-certificates/ https://www.frakkingsweet.com/metallb-calico-bgp-loadbalancer-and-loadbalancer-ips/ https://earthly.dev/blog/setup-reverse-proxy-kubernetes-nginx/ https://github.com/canonical/manual-tls-certificates-operator/tree/main https://kndrck.co/posts/microk8s_ingress_example/ https://mvysny.github.io/microk8s-lets-encrypt/ https://phoenixnap.com/kb/microk8s-ingress https://raw.githubusercontent.com/kubernetes/ingress-nginx/130af33510882ae62c89277f2ad0baca50e0fafe/deploy/static/mandatory.yaml https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.2.0/deploy/static/provider/cloud/deploy.yaml https://subscription.packtpub.com/book/cloud-and-networking/9781785287916/1/ch01lvl1sec12/connecting-two-networks https://www.adaltas.com/en/2022/09/08/kubernetes-metallb-nginx/ https://help.dyn.com/tsig/ https://help.ubuntu.com/community/DynamicDNS https://sourceforge.net/projects/ddclient/ https://platform9.com/learn/v1.0/tutorials/nginix-controller-via-yaml https://www.datree.io/helm-chart/ddns-updater-truecharts https://discuss.kubernetes.io/t/addon-ingress/11259/31 https://discuss.kubernetes.io/t/addon-ingress/11259/35 https://github.com/canonical/microk8s-core-addons/blob/main/addons/ingress/ingress.yaml https://kubernetes.github.io/ingress-nginx/user-guide/exposing-tcp-udp-services/ https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/index.md","title":"Network, Ingress and Certification Management"},{"location":"referencesApplication/#wordpress","text":"https://kubeapps.dev/docs/latest/tutorials/getting-started/ https://github.com/jvalderrama/helm-training https://kubeapps.dev/docs/latest/tutorials/getting-started/ https://kubeapps.dev/docs/latest/howto/dashboard/ https://bitnami.com/stack/wordpress/helm","title":"Wordpress"},{"location":"referencesApplication/#minecraft","text":"https://docker-minecraft-server.readthedocs.io/en/latest/ https://hub.docker.com/r/itzg/minecraft-server/ https://github.com/solarhess/kubernetes-minecraft-server https://github.com/solarhess/kubernetes-minecraft-server/blob/master/helm/minecraft/templates/volume.yaml","title":"Minecraft"},{"location":"referencesApplication/#ai","text":"https://github.com/neuml/txtai https://neuml.github.io/txtai/ https://github.com/neuml/txtai/blob/master/examples/39_Classic_Topic_Modeling_with_BM25.ipynb https://neuml.github.io/txtai/examples/ https://medium.com/neuml/introducing-txtai-the-all-in-one-embeddings-database-c721f4ff91ad","title":"AI"},{"location":"referencesApplication/#collaboration-and-storage","text":"https://nextcloud.com/ https://github.com/nextcloud/all-in-one#nextcloud-all-in-one https://github.com/nextcloud/helm/blob/main/charts/nextcloud/README.md https://github.com/nextcloud/helm","title":"Collaboration and storage"},{"location":"referencesDB/","text":"DB installation references https://github.com/wodby/adminer https://jineshnagori.medium.com/ultimate-guide-to-setting-up-postgresql-in-kubernetes-with-statefulsets-adminer-dashboard-and-6232323cb4dc Other refs https://www.geekbench.com/download/linux/ https://microk8s.io/docs/registry-images https://kubernetes.io/docs/reference/access-authn-authz/rbac/ https://www.2ndquadrant.com/en/blog/local-persistent-volumes-and-postgresql-usage-in-kubernetes/","title":"DB installation references"},{"location":"referencesDB/#db-installation-references","text":"https://github.com/wodby/adminer https://jineshnagori.medium.com/ultimate-guide-to-setting-up-postgresql-in-kubernetes-with-statefulsets-adminer-dashboard-and-6232323cb4dc","title":"DB installation references"},{"location":"referencesDB/#other-refs","text":"https://www.geekbench.com/download/linux/ https://microk8s.io/docs/registry-images https://kubernetes.io/docs/reference/access-authn-authz/rbac/ https://www.2ndquadrant.com/en/blog/local-persistent-volumes-and-postgresql-usage-in-kubernetes/","title":"Other refs"},{"location":"referencesHardware/","text":"Hardware References Openstack https://ubuntu.com/openstack https://ubuntu.com/tutorials/explore-openstack-components-and-set-up-an-openstack-client#1-overview https://ubuntu.com/tutorials/install-openstack-on-your-workstation-and-launch-your-first-instance#1-overview https://microstack.run/ https://ubuntu.com/openstack/install Proxmox https://www.proxmox.com/images/download/pve/docs/Proxmox-VE-8.2-datasheet.pdf R720 https://www.reddit.com/r/homelab/comments/l6is2g/ram_configuration_challenge_dell_r720/ https://www.reddit.com/r/homelab/comments/osykf8/dell_r720_or_r730/ https://www.adn.de/fileadmin/user_upload/Hersteller/Dell/Datenblaetter/Poweredge_Easy_Matrix_19_A4_3.1_PRESS.pdf https://www.reddit.com/r/homelab/comments/5lni2w/thoughts_on_these_dell_poweredge_r430r630/ https://www.dell.com/support/kbdoc/en-uk/000177212/dell-poweredge-how-to-configure-the-idrac9-and-the-lifecycle-controller-network-ip SAS https://www.tape-drive-repair.com/sas-connector-guide/ https://www.seagate.com/www-content/product-content/constellation-fam/constellation-es/constellation-es-3/en-us/docs/100671510b.pdf https://www.seagate.com/www-content/product-content/constellation-fam/constellation-es/constellation-es-3/en-us/docs/constellation-es-3-data-sheet-ds1769-1-1210us.pdf ISCSI https://ubuntu.com/server/docs/iscsi-initiator-or-client https://en.wikipedia.org/wiki/Standard_RAID_levels https://en.wikipedia.org/wiki/ISCSI https://github.com/kubernetes/examples/tree/master/volumes/iscsi https://www.reddit.com/r/kubernetes/comments/jjx0le/kubernetes_iscsi_storage_practices/ https://www.hardill.me.uk/wordpress/2023/11/12/setting-up-iscsi-volumes-for-kubernetes/ https://en.wikipedia.org/wiki/Non-standard_RAID_levels https://www.techtarget.com/searchstorage/definition/RAID-10-redundant-array-of-independent-disks https://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux) https://jonamiki.com/2015/01/23/view-create-delete-virtual-raid-volumes-with-racadm-on-an-r720-server-dell-12g/ NFS https://kubernetes.io/docs/concepts/storage/persistent-volumes/#binding https://github.com/kubernetes-retired/external-storage/tree/master/nfs-client https://stackoverflow.com/questions/44204223/kubernetes-nfs-persistent-volumes-multiple-claims-on-same-volume-claim-stuck Hypervisors https://phoenixnap.com/kb/what-is-hypervisor-type-1-2 https://phoenixnap.com/kb/ubuntu-install-kvm https://ubuntu.com/blog/kvm-hyphervisor https://microstack.run/docs/single-node https://www.linuxtechi.com/how-to-install-kvm-on-ubuntu-22-04/ https://canonical-microcloud.readthedocs-hosted.com/en/latest/how-to/commands/#howto-commands https://documentation.ubuntu.com/lxd/en/latest/tutorial/first_steps Canonical k8s Note: no mention of Canonical k8s : https://ubuntu.com/kubernetes Canonical k8s : https://documentation.ubuntu.com/canonical-kubernetes/latest/snap/tutorial/getting-started/ https://documentation.ubuntu.com/canonical-kubernetes/latest/ https://ubuntu.com/blog/try-canonical-kubernetes-beta https://www.reddit.com/r/kubernetes/comments/1bhbwvc/the_new_canonical_kubernetes/ Network root and boot https://help.ubuntu.com/community/DisklessUbuntuHowto https://askubuntu.com/questions/1160035/how-to-create-a-nfs-root-for-ubuntu https://askubuntu.com/questions/1212390/how-would-i-run-my-system-solely-in-a-ramdisk-after-logging-in-or-optionally-on https://ubuntuforums.org/showthread.php?t=1967260 https://askubuntu.com/questions/152868/how-do-i-make-a-ram-disk https://www.kernel.org/doc/html/v5.16/admin-guide/nfs/nfsroot.html https://ubuntu.com/server/docs/network-file-system-nfs https://help.ubuntu.com/community/Installation/Netboot https://ubuntu.com/server/docs/how-to-netboot-the-server-installer-on-amd64 Network configuration https://ubuntu.com/server/docs/configuring-networks https://netplan.readthedocs.io/en/stable/netplan-tutorial/ https://netplan.readthedocs.io/en/stable/ https://seanblanchfield.com/2023/05/bridge-networking-in-lxd https://documentation.ubuntu.com/lxd/en/latest/howto/network_forwards/ https://documentation.ubuntu.com/lxd/en/latest/reference/network_bridge/ https://documentation.ubuntu.com/lxd/en/latest/howto/network_create/ https://documentation.ubuntu.com/lxd/en/latest/howto/network_configure/ https://ubuntu.com/blog/converting-eth0-to-br0-and-getting-all-your-lxc-or-lxd-onto-your-lan https://stackoverflow.com/questions/65722807/my-persistentvolumeclaim-wont-bind-to-nfs-persistentvolume-what-am-i-doing-w","title":"Hardware References"},{"location":"referencesHardware/#hardware-references","text":"","title":"Hardware References"},{"location":"referencesHardware/#openstack","text":"https://ubuntu.com/openstack https://ubuntu.com/tutorials/explore-openstack-components-and-set-up-an-openstack-client#1-overview https://ubuntu.com/tutorials/install-openstack-on-your-workstation-and-launch-your-first-instance#1-overview https://microstack.run/ https://ubuntu.com/openstack/install","title":"Openstack"},{"location":"referencesHardware/#proxmox","text":"https://www.proxmox.com/images/download/pve/docs/Proxmox-VE-8.2-datasheet.pdf","title":"Proxmox"},{"location":"referencesHardware/#r720","text":"https://www.reddit.com/r/homelab/comments/l6is2g/ram_configuration_challenge_dell_r720/ https://www.reddit.com/r/homelab/comments/osykf8/dell_r720_or_r730/ https://www.adn.de/fileadmin/user_upload/Hersteller/Dell/Datenblaetter/Poweredge_Easy_Matrix_19_A4_3.1_PRESS.pdf https://www.reddit.com/r/homelab/comments/5lni2w/thoughts_on_these_dell_poweredge_r430r630/ https://www.dell.com/support/kbdoc/en-uk/000177212/dell-poweredge-how-to-configure-the-idrac9-and-the-lifecycle-controller-network-ip","title":"R720"},{"location":"referencesHardware/#sas","text":"https://www.tape-drive-repair.com/sas-connector-guide/ https://www.seagate.com/www-content/product-content/constellation-fam/constellation-es/constellation-es-3/en-us/docs/100671510b.pdf https://www.seagate.com/www-content/product-content/constellation-fam/constellation-es/constellation-es-3/en-us/docs/constellation-es-3-data-sheet-ds1769-1-1210us.pdf","title":"SAS"},{"location":"referencesHardware/#iscsi","text":"https://ubuntu.com/server/docs/iscsi-initiator-or-client https://en.wikipedia.org/wiki/Standard_RAID_levels https://en.wikipedia.org/wiki/ISCSI https://github.com/kubernetes/examples/tree/master/volumes/iscsi https://www.reddit.com/r/kubernetes/comments/jjx0le/kubernetes_iscsi_storage_practices/ https://www.hardill.me.uk/wordpress/2023/11/12/setting-up-iscsi-volumes-for-kubernetes/ https://en.wikipedia.org/wiki/Non-standard_RAID_levels https://www.techtarget.com/searchstorage/definition/RAID-10-redundant-array-of-independent-disks https://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux) https://jonamiki.com/2015/01/23/view-create-delete-virtual-raid-volumes-with-racadm-on-an-r720-server-dell-12g/","title":"ISCSI"},{"location":"referencesHardware/#nfs","text":"https://kubernetes.io/docs/concepts/storage/persistent-volumes/#binding https://github.com/kubernetes-retired/external-storage/tree/master/nfs-client https://stackoverflow.com/questions/44204223/kubernetes-nfs-persistent-volumes-multiple-claims-on-same-volume-claim-stuck","title":"NFS"},{"location":"referencesHardware/#hypervisors","text":"https://phoenixnap.com/kb/what-is-hypervisor-type-1-2 https://phoenixnap.com/kb/ubuntu-install-kvm https://ubuntu.com/blog/kvm-hyphervisor https://microstack.run/docs/single-node https://www.linuxtechi.com/how-to-install-kvm-on-ubuntu-22-04/ https://canonical-microcloud.readthedocs-hosted.com/en/latest/how-to/commands/#howto-commands https://documentation.ubuntu.com/lxd/en/latest/tutorial/first_steps","title":"Hypervisors"},{"location":"referencesHardware/#canonical-k8s","text":"Note: no mention of Canonical k8s : https://ubuntu.com/kubernetes Canonical k8s : https://documentation.ubuntu.com/canonical-kubernetes/latest/snap/tutorial/getting-started/ https://documentation.ubuntu.com/canonical-kubernetes/latest/ https://ubuntu.com/blog/try-canonical-kubernetes-beta https://www.reddit.com/r/kubernetes/comments/1bhbwvc/the_new_canonical_kubernetes/","title":"Canonical k8s"},{"location":"referencesHardware/#network-root-and-boot","text":"https://help.ubuntu.com/community/DisklessUbuntuHowto https://askubuntu.com/questions/1160035/how-to-create-a-nfs-root-for-ubuntu https://askubuntu.com/questions/1212390/how-would-i-run-my-system-solely-in-a-ramdisk-after-logging-in-or-optionally-on https://ubuntuforums.org/showthread.php?t=1967260 https://askubuntu.com/questions/152868/how-do-i-make-a-ram-disk https://www.kernel.org/doc/html/v5.16/admin-guide/nfs/nfsroot.html https://ubuntu.com/server/docs/network-file-system-nfs https://help.ubuntu.com/community/Installation/Netboot https://ubuntu.com/server/docs/how-to-netboot-the-server-installer-on-amd64","title":"Network root and boot"},{"location":"referencesHardware/#network-configuration","text":"https://ubuntu.com/server/docs/configuring-networks https://netplan.readthedocs.io/en/stable/netplan-tutorial/ https://netplan.readthedocs.io/en/stable/ https://seanblanchfield.com/2023/05/bridge-networking-in-lxd https://documentation.ubuntu.com/lxd/en/latest/howto/network_forwards/ https://documentation.ubuntu.com/lxd/en/latest/reference/network_bridge/ https://documentation.ubuntu.com/lxd/en/latest/howto/network_create/ https://documentation.ubuntu.com/lxd/en/latest/howto/network_configure/ https://ubuntu.com/blog/converting-eth0-to-br0-and-getting-all-your-lxc-or-lxd-onto-your-lan https://stackoverflow.com/questions/65722807/my-persistentvolumeclaim-wont-bind-to-nfs-persistentvolume-what-am-i-doing-w","title":"Network configuration"},{"location":"referencesIoT/","text":"Edge and IoT References Build Networking library: https://github.com/cesanta/mongoose https://github.com/cpq/bare-metal-programming-guide Mixed https://blog.balena.io/resin-io-changes-name-to-balena-releases-open-source-edition/ https://community.element14.com/products/raspberry-pi/w/polls/20656/raspberry-pi-2-which-os-is-best https://dd-wrt.com/ https://dev.to/shandesai/provision-your-raspberry-pi-4-cluster-with-ansible-2j8m https://developer.ibm.com/articles/how-cloud-fog-and-mist-computing-can-work-together/ https://github.com/raspberrypi/pico-tflmicro https://github.com/raspberrypi/rpi-eeprom/ https://medium.com/@souhaylsellami/buildroot-or-yocto-choosing-your-build-system-f061f56ac11f https://medium.com/karlmax-berlin/how-to-install-kubernetes-on-raspberry-pi-53b4ce300b58 https://medium.com/thinkport/how-to-build-a-raspberry-pi-kubernetes-cluster-with-k3s-76224788576c https://epteck.com/yocto-vs-buildroot-comparison/ https://docs.turingpi.com/docs/turing-pi2-kubernetes-os-setup https://docs.yoctoproject.org/brief-yoctoprojectqs/index.html https://docs.yoctoproject.org/dev-manual/layers.html#creating-a-general-layer-using-the-bitbake-layers-script https://docs.yoctoproject.org/what-i-wish-id-known.html https://ubuntu.com/download/raspberry-pi-core https://ubuntu.com/engage/embedded-linux-make-or-buy https://ubuntu.com/engage/Embedding_IoT_GUI_with_Ubuntu_Frame https://ubuntu.com/engage/secure-kubernetes-at-the-edge https://ubuntu.com/tutorials/getting-started-with-microk8s-on-ubuntu-core#1-introduction https://github.com/MontaVista-OpenSourceTechnology/meta-raspberrypi-xen https://github.com/mrlesmithjr/ansible-rpi-k8s-cluster https://github.com/UpdateHub/meta-updatehub-raspberrypi https://linuxhit.com/raspberry-pi-pxe-boot-netbooting-a-pi-4-without-an-sd-card/ https://nodered.org/docs/getting-started/raspberrypi https://www.padok.fr/en/blog/raspberry-kubernetes https://www.raspberrypi.com/documentation/computers/config_txt.html https://www.raspberrypi.com/documentation/computers/raspberry-pi.html https://www.techtarget.com/searchitoperations/tutorial/Use-MicroK8s-with-Raspberry-Pi-in-this-tutorial https://www.zdnet.com/article/raspberry-pi-banana-pi-maker-touts-this-new-rival-board-with-amlogic-chip-and-4gb-ram/ https://github.com/ahcbb6/meta-raspberrypi-baremetal https://github.com/balena-os/balena-raspberrypi https://www.openembedded.org/wiki/Main_Page https://www.openhab.org/ https://www.openhab.org/addons/bindings/icloud/ https://www.openhab.org/addons/bindings/mqtt/ https://www.openhab.org/docs/installation/openhabian.html https://hacks.mozilla.org/2019/04/introducing-mozilla-webthings/ https://lwn.net/Articles/682540/ https://openwrt.org/ https://openwrt.org/docs/guide-user/start https://openwrt.org/toh/tp-link/tl-wa901nd https://orbcode.org/orbuculum/ https://promwad.com/news/bsp-linux-buildroot-comparison-peta-linux https://sheepdogguides.com/arduino/asw1onew1.htm https://shifu.dev/ https://thinnect.com/mist-computing-2/mist-computing-edge-computing-efficient-sensing-smart-device-management/ https://ubuntu.com/blog/the-ubuntu-appliance-portfolio https://www.balena.io/os https://www.freertos.org/index.html https://www.padok.fr/en/blog/multi-architectures-docker-iot https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18841738/Getting+Started https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18842279/Build+Device+Tree+Blob New https://github.com/meta-rust/meta-rust https://michael2012z.medium.com/rust-with-yocto-eab41476cd7b https://git.yoctoproject.org/poky https://wellys.com/posts/rp2040_c_linux/ https://www.hackster.io/news/old-school-new-tech-2e4bbeafcbfc https://docs.zephyrproject.org/latest/develop/west/install.html https://docs.zephyrproject.org/latest/boards/index.html https://docs.zephyrproject.org/latest/boards/arm/nucleo_f446re/doc/index.html https://docs.zephyrproject.org/latest/develop/application/index.html https://www.st.com/en/development-tools/sw4stm32.html https://pengutronix.de/en/company/about.html https://github.com/garmin/whisk https://github.com/JPEWdev/kube-battlestar-cluster https://labgrid.readthedocs.io/en/latest/ https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18841883/Yocto https://docs.microfocus.com/doc/OMT/23.4/InstallLandingEmbed https://docs.microfocus.com/doc/OMT/23.4/Home https://github.com/sorrir/yocto-pipeline https://github.com/janeczku/meta-k3s https://github.com/k3s-io/k3s https://forum.gitlab.com/t/embedded-builds-with-k8s-and-kas-bitbake/41051 https://github.com/siemens/kas/ https://kas.readthedocs.io/en/latest/userguide.html https://layers.openembedded.org/layerindex/branch/master/layer/meta-virtualization/ https://docs.yoctoproject.org/1.6/dev-manual/dev-manual.html https://ubuntu.com/blog/embedded-linux-project-i https://ubuntu.com/blog/embedded-linux-project-iv https://ubuntu.com/internet-of-things/appstore https://www.reddit.com/r/IOT/comments/shxjza/operating_system_in_the_iot_space/ https://www.openembedded.org/wiki/Getting_started https://github.com/openembedded/openembedded-core https://wiki.st.com/stm32mpu/wiki/OpenEmbedded https://github.com/STMicroelectronics/meta-st-stm32mp/tree/mickledore https://github.com/davisjp1822/stm32_nucleo_linux https://www.hackster.io/news/an-ultra-tiny-risc-v-emulator-turns-the-raspberry-pi-pico-into-a-functional-if-slow-linux-pc-17493d4d7130 https://hackaday.com/2021/02/19/the-raspberry-pi-pico-cant-run-linux-but-it-can-run-fuzix/ https://hackaday.com/2023/03/19/rp2040-runs-linux-through-risc-v-emulation/ https://github.com/raspberrypi/pico-tflmicro https://github.com/ahcbb6/meta-raspberrypi-baremetal https://buildroot.org/docs.html https://jaycarlson.net/embedded-linux/ https://forums.raspberrypi.com/viewtopic.php?t=354547 https://blog.balena.io/balena-releases-first-fully-functional-64-bit-os-for-the-raspberry-pi-4/ https://github.com/balena-os/balena-raspberrypi https://forums.raspberrypi.com/viewtopic.php?t=253537 https://michael2012z.medium.com/rust-with-yocto-eab41476cd7b https://docs.yoctoproject.org/singleindex.html https://docs.rust-embedded.org/book/start/registers.html https://docs.rust-embedded.org/book/intro/index.html https://crates.io/crates/rp2040-pac https://github.com/rust-embedded/awesome-embedded-rust https://docs.rust-embedded.org/discovery/microbit/01-background/index.html https://docs.rust-embedded.org/discovery/ https://www.digikey.com/en/maker/projects/intro-to-embedded-linux-part-1-buildroot/a73a56de62444610a2187cd9e681c3f2 https://www.digikey.com/en/maker/projects/intro-to-embedded-linux-part-2-yocto-project/2c08a1ad09d74f20b9844e566d332da4 https://docs.yoctoproject.org/1.8/yocto-project-qs/yocto-project-qs.html https://github.com/rayui/scooby https://metebalci.com/blog/bare-metal-rpi3-network-boot/ https://blog.alexellis.io/test-drive-k3s-on-raspberry-pi/ https://git.yoctoproject.org/meta-raspberrypi/ https://docs.yoctoproject.org/2.4.4/bsp-guide/bsp-guide.html","title":"Edge and IoT References"},{"location":"referencesIoT/#edge-and-iot-references","text":"","title":"Edge and IoT References"},{"location":"referencesIoT/#build","text":"Networking library: https://github.com/cesanta/mongoose https://github.com/cpq/bare-metal-programming-guide","title":"Build"},{"location":"referencesIoT/#mixed","text":"https://blog.balena.io/resin-io-changes-name-to-balena-releases-open-source-edition/ https://community.element14.com/products/raspberry-pi/w/polls/20656/raspberry-pi-2-which-os-is-best https://dd-wrt.com/ https://dev.to/shandesai/provision-your-raspberry-pi-4-cluster-with-ansible-2j8m https://developer.ibm.com/articles/how-cloud-fog-and-mist-computing-can-work-together/ https://github.com/raspberrypi/pico-tflmicro https://github.com/raspberrypi/rpi-eeprom/ https://medium.com/@souhaylsellami/buildroot-or-yocto-choosing-your-build-system-f061f56ac11f https://medium.com/karlmax-berlin/how-to-install-kubernetes-on-raspberry-pi-53b4ce300b58 https://medium.com/thinkport/how-to-build-a-raspberry-pi-kubernetes-cluster-with-k3s-76224788576c https://epteck.com/yocto-vs-buildroot-comparison/ https://docs.turingpi.com/docs/turing-pi2-kubernetes-os-setup https://docs.yoctoproject.org/brief-yoctoprojectqs/index.html https://docs.yoctoproject.org/dev-manual/layers.html#creating-a-general-layer-using-the-bitbake-layers-script https://docs.yoctoproject.org/what-i-wish-id-known.html https://ubuntu.com/download/raspberry-pi-core https://ubuntu.com/engage/embedded-linux-make-or-buy https://ubuntu.com/engage/Embedding_IoT_GUI_with_Ubuntu_Frame https://ubuntu.com/engage/secure-kubernetes-at-the-edge https://ubuntu.com/tutorials/getting-started-with-microk8s-on-ubuntu-core#1-introduction https://github.com/MontaVista-OpenSourceTechnology/meta-raspberrypi-xen https://github.com/mrlesmithjr/ansible-rpi-k8s-cluster https://github.com/UpdateHub/meta-updatehub-raspberrypi https://linuxhit.com/raspberry-pi-pxe-boot-netbooting-a-pi-4-without-an-sd-card/ https://nodered.org/docs/getting-started/raspberrypi https://www.padok.fr/en/blog/raspberry-kubernetes https://www.raspberrypi.com/documentation/computers/config_txt.html https://www.raspberrypi.com/documentation/computers/raspberry-pi.html https://www.techtarget.com/searchitoperations/tutorial/Use-MicroK8s-with-Raspberry-Pi-in-this-tutorial https://www.zdnet.com/article/raspberry-pi-banana-pi-maker-touts-this-new-rival-board-with-amlogic-chip-and-4gb-ram/ https://github.com/ahcbb6/meta-raspberrypi-baremetal https://github.com/balena-os/balena-raspberrypi https://www.openembedded.org/wiki/Main_Page https://www.openhab.org/ https://www.openhab.org/addons/bindings/icloud/ https://www.openhab.org/addons/bindings/mqtt/ https://www.openhab.org/docs/installation/openhabian.html https://hacks.mozilla.org/2019/04/introducing-mozilla-webthings/ https://lwn.net/Articles/682540/ https://openwrt.org/ https://openwrt.org/docs/guide-user/start https://openwrt.org/toh/tp-link/tl-wa901nd https://orbcode.org/orbuculum/ https://promwad.com/news/bsp-linux-buildroot-comparison-peta-linux https://sheepdogguides.com/arduino/asw1onew1.htm https://shifu.dev/ https://thinnect.com/mist-computing-2/mist-computing-edge-computing-efficient-sensing-smart-device-management/ https://ubuntu.com/blog/the-ubuntu-appliance-portfolio https://www.balena.io/os https://www.freertos.org/index.html https://www.padok.fr/en/blog/multi-architectures-docker-iot https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18841738/Getting+Started https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18842279/Build+Device+Tree+Blob","title":"Mixed"},{"location":"referencesIoT/#new","text":"https://github.com/meta-rust/meta-rust https://michael2012z.medium.com/rust-with-yocto-eab41476cd7b https://git.yoctoproject.org/poky https://wellys.com/posts/rp2040_c_linux/ https://www.hackster.io/news/old-school-new-tech-2e4bbeafcbfc https://docs.zephyrproject.org/latest/develop/west/install.html https://docs.zephyrproject.org/latest/boards/index.html https://docs.zephyrproject.org/latest/boards/arm/nucleo_f446re/doc/index.html https://docs.zephyrproject.org/latest/develop/application/index.html https://www.st.com/en/development-tools/sw4stm32.html https://pengutronix.de/en/company/about.html https://github.com/garmin/whisk https://github.com/JPEWdev/kube-battlestar-cluster https://labgrid.readthedocs.io/en/latest/ https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18841883/Yocto https://docs.microfocus.com/doc/OMT/23.4/InstallLandingEmbed https://docs.microfocus.com/doc/OMT/23.4/Home https://github.com/sorrir/yocto-pipeline https://github.com/janeczku/meta-k3s https://github.com/k3s-io/k3s https://forum.gitlab.com/t/embedded-builds-with-k8s-and-kas-bitbake/41051 https://github.com/siemens/kas/ https://kas.readthedocs.io/en/latest/userguide.html https://layers.openembedded.org/layerindex/branch/master/layer/meta-virtualization/ https://docs.yoctoproject.org/1.6/dev-manual/dev-manual.html https://ubuntu.com/blog/embedded-linux-project-i https://ubuntu.com/blog/embedded-linux-project-iv https://ubuntu.com/internet-of-things/appstore https://www.reddit.com/r/IOT/comments/shxjza/operating_system_in_the_iot_space/ https://www.openembedded.org/wiki/Getting_started https://github.com/openembedded/openembedded-core https://wiki.st.com/stm32mpu/wiki/OpenEmbedded https://github.com/STMicroelectronics/meta-st-stm32mp/tree/mickledore https://github.com/davisjp1822/stm32_nucleo_linux https://www.hackster.io/news/an-ultra-tiny-risc-v-emulator-turns-the-raspberry-pi-pico-into-a-functional-if-slow-linux-pc-17493d4d7130 https://hackaday.com/2021/02/19/the-raspberry-pi-pico-cant-run-linux-but-it-can-run-fuzix/ https://hackaday.com/2023/03/19/rp2040-runs-linux-through-risc-v-emulation/ https://github.com/raspberrypi/pico-tflmicro https://github.com/ahcbb6/meta-raspberrypi-baremetal https://buildroot.org/docs.html https://jaycarlson.net/embedded-linux/ https://forums.raspberrypi.com/viewtopic.php?t=354547 https://blog.balena.io/balena-releases-first-fully-functional-64-bit-os-for-the-raspberry-pi-4/ https://github.com/balena-os/balena-raspberrypi https://forums.raspberrypi.com/viewtopic.php?t=253537 https://michael2012z.medium.com/rust-with-yocto-eab41476cd7b https://docs.yoctoproject.org/singleindex.html https://docs.rust-embedded.org/book/start/registers.html https://docs.rust-embedded.org/book/intro/index.html https://crates.io/crates/rp2040-pac https://github.com/rust-embedded/awesome-embedded-rust https://docs.rust-embedded.org/discovery/microbit/01-background/index.html https://docs.rust-embedded.org/discovery/ https://www.digikey.com/en/maker/projects/intro-to-embedded-linux-part-1-buildroot/a73a56de62444610a2187cd9e681c3f2 https://www.digikey.com/en/maker/projects/intro-to-embedded-linux-part-2-yocto-project/2c08a1ad09d74f20b9844e566d332da4 https://docs.yoctoproject.org/1.8/yocto-project-qs/yocto-project-qs.html https://github.com/rayui/scooby https://metebalci.com/blog/bare-metal-rpi3-network-boot/ https://blog.alexellis.io/test-drive-k3s-on-raspberry-pi/ https://git.yoctoproject.org/meta-raspberrypi/ https://docs.yoctoproject.org/2.4.4/bsp-guide/bsp-guide.html","title":"New"},{"location":"referencesRadio/","text":"Radio References Station code https://github.com/teampalmtree/cloudcast-liquidsoap/blob/master/includes/radio.liq Reference: https://www.liquidsoap.info/doc-dev/quick_start.html Tagging https://beets.readthedocs.io/en/stable/plugins/chroma.html https://beets.readthedocs.io/en/stable/guides/tagger.html https://beets.readthedocs.io/en/stable/guides/main.html Reviews / opinions https://unix.stackexchange.com/questions/4961/which-mp3-tagging-tool-for-linux https://apple.stackexchange.com/questions/3585/is-there-a-good-command-line-id3-tool-for-os-x https://www.reddit.com/r/linux/comments/7fa5qt/application_to_edit_music_metadata/ https://askubuntu.com/questions/8456/mass-re-tagging-of-music-files https://bbs.archlinux.org/viewtopic.php?id=115131 Tools https://mutagen.readthedocs.io/en/latest/man/mid3v2.html https://beets.readthedocs.io/en/stable/plugins/chroma.html https://beets.io/ https://wiki.musicbrainz.org/Main_Page Playout flexibility https://github.com/LibreTime/libretime/issues/229 https://discourse.libretime.org/t/custom-liquidsoap/40 https://github.com/LibreTime/libretime/issues/399 Issues encountered that relate https://github.com/savonet/liquidsoap/issues/66 https://discourse.libretime.org/t/meta-data-on-tune-in/950 https://github.com/libretime/libretime/issues/1446 https://github.com/libretime/libretime/issues/232 https://github.com/savonet/liquidsoap/issues/695 Project Activity https://github.com/libretime/libretime/projects/1 https://github.com/libretime/libretime/blob/main/CHANGELOG.md Helm Charts https://artifacthub.io/packages/helm/north14/libretime Archived, North14 not active, k8s-at-home defunct PodZone / QSolutions: https://artifacthub.io/packages/helm/podzone-charts/libretime PodZone / QSolutions NOTE security report: https://artifacthub.io/packages/helm/podzone-charts/libretime?modal=security-report WARNING: This package has high severity fixable vulnerabilities older than 2 years old that haven't been addressed yet. Project discussions https://discourse.libretime.org/t/libretime-services-and-other-ways-to-sustain-the-project/326 https://discourse.libretime.org/t/public-roadmap-and-a-process-to-onboard-contributors/120 https://discourse.libretime.org/t/paying-for-libretime-self-hosted-dev-server-support/1454 https://discourse.libretime.org/t/opencollective-spending-proposal/806/4 https://discourse.libretime.org/t/planning-out-an-api/341 https://discourse.libretime.org/t/question-about-user-api-uploading-from-wordpress-and-podcast-function/298 https://discourse.libretime.org/t/any-interest-in-libretime-available-as-a-saas-with-hosting-and-support/121 https://discourse.libretime.org/t/developers-wanted/1414 Rewrite: https://github.com/libretime/libretime/issues/935 API Merge: https://github.com/libretime/libretime/pull/958 Libretime official git repo personalities robt paddatrapper hairmare jooola ned-kelly https://github.com/ned-kelly/docker-multicontainer-libretime caveman99 dakriy Kyle Robbertze paddatrapper UCT Honours https://projects.cs.uct.ac.za/honsproj/cgi-bin/view/2019/robbertze_wang.zip/ Related: https://bitcast.co.za/ Related Software https://jplayer.org/ https://openbroadcaster.com/ https://rivendellaudio.org/ https://wiki.rivendellaudio.org/index.php/Main_Page https://github.com/bitcastza/sarge https://github.com/mairlist/streammonitor Other related readings https://media.libreplanet.org/u/libreplanet/m/why-i-forked-my-own-project-and-my-own-company-31c3/ https://worldwidefm.net/about https://worldwidefm.net/ https://www.slideshare.net/slideshow/libretime-a-webbased-automation-system-for-radio-presentation-at-ohio-linux-fest-2018/119415837 Bug fixes: Worthwhile causes 404 on https://libretime.org/contribute , should be https://libretime.org/docs/contribute/ Audio Testing: https://github.com/libretime/libretime/issues/2076 Bill of Materials Security: https://artifacthub.io/packages/helm/podzone-charts/libretime?modal=security-report Issues: https://github.com/LibreTime/libretime/issues","title":"Radio References"},{"location":"referencesRadio/#radio-references","text":"","title":"Radio References"},{"location":"referencesRadio/#station-code","text":"https://github.com/teampalmtree/cloudcast-liquidsoap/blob/master/includes/radio.liq Reference: https://www.liquidsoap.info/doc-dev/quick_start.html","title":"Station code"},{"location":"referencesRadio/#tagging","text":"https://beets.readthedocs.io/en/stable/plugins/chroma.html https://beets.readthedocs.io/en/stable/guides/tagger.html https://beets.readthedocs.io/en/stable/guides/main.html","title":"Tagging"},{"location":"referencesRadio/#reviews-opinions","text":"https://unix.stackexchange.com/questions/4961/which-mp3-tagging-tool-for-linux https://apple.stackexchange.com/questions/3585/is-there-a-good-command-line-id3-tool-for-os-x https://www.reddit.com/r/linux/comments/7fa5qt/application_to_edit_music_metadata/ https://askubuntu.com/questions/8456/mass-re-tagging-of-music-files https://bbs.archlinux.org/viewtopic.php?id=115131","title":"Reviews / opinions"},{"location":"referencesRadio/#tools","text":"https://mutagen.readthedocs.io/en/latest/man/mid3v2.html https://beets.readthedocs.io/en/stable/plugins/chroma.html https://beets.io/ https://wiki.musicbrainz.org/Main_Page","title":"Tools"},{"location":"referencesRadio/#playout-flexibility","text":"https://github.com/LibreTime/libretime/issues/229 https://discourse.libretime.org/t/custom-liquidsoap/40 https://github.com/LibreTime/libretime/issues/399","title":"Playout flexibility"},{"location":"referencesRadio/#issues-encountered-that-relate","text":"https://github.com/savonet/liquidsoap/issues/66 https://discourse.libretime.org/t/meta-data-on-tune-in/950 https://github.com/libretime/libretime/issues/1446 https://github.com/libretime/libretime/issues/232 https://github.com/savonet/liquidsoap/issues/695","title":"Issues encountered that relate"},{"location":"referencesRadio/#project-activity","text":"https://github.com/libretime/libretime/projects/1 https://github.com/libretime/libretime/blob/main/CHANGELOG.md","title":"Project Activity"},{"location":"referencesRadio/#helm-charts","text":"https://artifacthub.io/packages/helm/north14/libretime Archived, North14 not active, k8s-at-home defunct PodZone / QSolutions: https://artifacthub.io/packages/helm/podzone-charts/libretime PodZone / QSolutions NOTE security report: https://artifacthub.io/packages/helm/podzone-charts/libretime?modal=security-report WARNING: This package has high severity fixable vulnerabilities older than 2 years old that haven't been addressed yet.","title":"Helm Charts"},{"location":"referencesRadio/#project-discussions","text":"https://discourse.libretime.org/t/libretime-services-and-other-ways-to-sustain-the-project/326 https://discourse.libretime.org/t/public-roadmap-and-a-process-to-onboard-contributors/120 https://discourse.libretime.org/t/paying-for-libretime-self-hosted-dev-server-support/1454 https://discourse.libretime.org/t/opencollective-spending-proposal/806/4 https://discourse.libretime.org/t/planning-out-an-api/341 https://discourse.libretime.org/t/question-about-user-api-uploading-from-wordpress-and-podcast-function/298 https://discourse.libretime.org/t/any-interest-in-libretime-available-as-a-saas-with-hosting-and-support/121 https://discourse.libretime.org/t/developers-wanted/1414 Rewrite: https://github.com/libretime/libretime/issues/935 API Merge: https://github.com/libretime/libretime/pull/958","title":"Project discussions"},{"location":"referencesRadio/#libretime-official-git-repo-personalities","text":"robt paddatrapper hairmare jooola ned-kelly https://github.com/ned-kelly/docker-multicontainer-libretime caveman99 dakriy","title":"Libretime official git repo personalities"},{"location":"referencesRadio/#kyle-robbertze","text":"paddatrapper UCT Honours https://projects.cs.uct.ac.za/honsproj/cgi-bin/view/2019/robbertze_wang.zip/ Related: https://bitcast.co.za/","title":"Kyle Robbertze"},{"location":"referencesRadio/#related-software","text":"https://jplayer.org/ https://openbroadcaster.com/ https://rivendellaudio.org/ https://wiki.rivendellaudio.org/index.php/Main_Page https://github.com/bitcastza/sarge https://github.com/mairlist/streammonitor","title":"Related Software"},{"location":"referencesRadio/#other-related-readings","text":"https://media.libreplanet.org/u/libreplanet/m/why-i-forked-my-own-project-and-my-own-company-31c3/ https://worldwidefm.net/about https://worldwidefm.net/ https://www.slideshare.net/slideshow/libretime-a-webbased-automation-system-for-radio-presentation-at-ohio-linux-fest-2018/119415837","title":"Other related readings"},{"location":"referencesRadio/#bug-fixes-worthwhile-causes","text":"404 on https://libretime.org/contribute , should be https://libretime.org/docs/contribute/ Audio Testing: https://github.com/libretime/libretime/issues/2076 Bill of Materials Security: https://artifacthub.io/packages/helm/podzone-charts/libretime?modal=security-report Issues: https://github.com/LibreTime/libretime/issues","title":"Bug fixes: Worthwhile causes"},{"location":"referencesResearch/","text":"Research References References on the topics of virtualisation, kubernetes, storage and helm. Virtualisation http://linux-vserver.org/Paper http://supervisord.org/ https://blog.container-solutions.com/linux-capabilities-in-practice https://blog.container-solutions.com/linux-capabilities-why-they-exist-and-how-they-work https://blog.mobyproject.org/introducing-buildkit-17e056cc5317 https://blogs.vmware.com/teamfusion/2021/09/fusion-for-m1-public-tech-preview-now-available.html https://cloud-images.ubuntu.com/releases/22.04/release/ https://devm.io/docker/build-containers-quickly-buildah-155839-001 https://documentation.ubuntu.com/lxd/en/latest/ https://earthly.dev/blog/lxc-vs-docker/ https://en.wikipedia.org/wiki/Comparison_of_platform_virtualization_software https://en.wikipedia.org/wiki/Hercules_(emulator) https://github.com/cncf/foundation/blob/main/code-of-conduct.md https://github.com/containernetworking/cni https://github.com/containers/Demos/blob/main/building/buildah_intro/buildah_intro.sh https://github.com/kata-containers/kata-containers/tree/main/docs/install https://github.com/moby/buildkit https://github.com/opencontainers/ https://katacontainers.io/docs/ https://libvirt.org/manpages/libvirtd.html https://linux-kvm.org/page/HOWTO https://linux.how2shout.com/how-to-use-virt-manager-gui-to-manage-multipass-ubuntu-vms/ https://linuxcontainers.org/incus/ https://linuxcontainers.org/lxd/ https://multipass.run/ https://pwittrock.github.io/docs/getting-started-guides/rkt/ https://rocket.readthedocs.io/en/latest/README/ https://share.confex.com/share/124/webprogram/Handout/Session16427/share-march-2015-kvm-for-zvm-lovers.pdf https://supratim-sanyal.blogspot.com/2018/10/bionic-beaver-on-zarchitecture-my.html https://ubuntu.com/blog/lxd_ui https://ubuntu.com/blog/lxd-5-17-is-now-available https://ubuntu.com/blog/lxd-networking-lxdbr0-explained https://ubuntu.com/blog/lxd-vs-docker https://ubuntu.com/blog/one_command_micro_cloud https://ubuntu.com/blog/using-cloud-init-with-multipass https://ubuntu.com/blog/what-are-linux-containers https://ubuntu.com/kubernetes/charmed-k8s https://ubuntu.com/lxd https://ubuntu.com/openstack https://ubuntu.com/security/docker-images https://ubuntu.com/server/docs/install/autoinstall-quickstart https://ubuntu.com/tutorials/explore-openstack-components-and-set-up-an-openstack-client https://ubuntu.com/tutorials/install-openstack-on-your-workstation-and-launch-your-first-instance#1-overview https://wiki.ubuntu.com/Lvm https://www.nakivo.com/blog/virtualbox-network-setting-guide/ https://www.padok.fr/en/blog/container-docker-oci https://www.virtualbox.org/manual/ch04.html https://www.youtube.com/watch?v=sK5i-N34im8 {J\u00e9r\u00f4me Petazzoni: cgroups, namespaces, and beyond} Web Assembly https://blog.unity.com/engine-platform/webassembly-is-here Cloud-init https://cloudinit.readthedocs.io/en/latest/tutorial/qemu.html Operators https://kubernetes.io/docs/concepts/extend-kubernetes/operator/ https://juju.is/model-driven-operations-manifesto https://ubuntu.com/kubernetes/charmed-k8s https://operatorhub.io/ Observability https://github.com/canonical/microk8s-core-addons/issues/125 https://github.com/prometheus-community/helm-charts/blob/main/charts/kube-prometheus-stack/values.yaml https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack https://canonical-microceph.readthedocs-hosted.com/en/reef-stable/how-to/enable-metrics/ https://prometheus.io/docs/prometheus/latest/getting_started/ https://kubernetes.io/docs/concepts/cluster-administration/system-metrics/ https://github.com/prometheus/node_exporter https://github.com/kubernetes-sigs/prometheus-adapter https://prometheus.io/docs/introduction/overview/ https://microk8s.io/docs/multi-user https://raw.githubusercontent.com/bibinwilson/kubernetes-prometheus/master/config-map.yaml https://betterprogramming.pub/observability-with-microk8s-14c1f0ff5183 Kubernetes https://askubuntu.com/questions/1316899/remove-node-from-microk8s-cluster https://charmhub.io/microk8s/docs/how-to-cluster https://cloudyuga.guru/hands_on_lab/subpath https://dev.to/ajeetraina/how-to-install-kubernetes-cluster-on-ubuntu-2004-with-kubeadm-in-2023-501i https://discuss.kubernetes.io/t/how-to-manage-addons/23799 https://docs.k3s.io/installation https://docs.starlingx.io/security/kubernetes/install-the-kubernetes-dashboard.html https://faun.pub/an-overview-of-microk8s-and-why-using-it-in-the-cloud-was-a-terrible-idea-9ba8506dc467 https://fntlnz.wtf/post/what-i-learnt-about-kubernetes-controller/ https://get.k3s.io/ https://github.com/canonical/microk8s-core-addons https://github.com/kubernetes-sigs/kubebuilder https://github.com/kubernetes-sigs/kubespray https://github.com/kubernetes-sigs/kustomize https://github.com/kubernetes-sigs/metrics-server https://github.com/kubernetes/community/blob/8cafef897a22026d42f5e5bb3f104febe7e29830/contributors/devel/controllers.md https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md https://github.com/kubernetes/enhancements/blob/9d127347773ad19894ca488ee04f1cd3af5774fc/keps/sig-node/2400-node-swap/README.md https://github.com/kubernetes/enhancements/tree/master/keps/sig-node/753-sidecar-containers https://github.com/kubernetes/examples/blob/master/staging/https-nginx/default.conf https://github.com/kubernetes/git-sync https://github.com/kubernetes/ingress-nginx/ https://github.com/kubernetes/sample-controller/ https://github.com/operator-framework/operator-sdk https://github.com/ovn-org/ovn-kubernetes/ https://ibm.github.io/kubernetes-networking/services/nodeport/ https://itnext.io/microk8s-1-27-is-out-6eef05f63e3b https://k21academy.com/docker-kubernetes/kubernetes-namespace/ https://k3s.io/ https://kind.sigs.k8s.io/ https://kubeapps.dev/ https://kubernetes.github.io/ingress-nginx/ https://kubernetes.io/blog/2021/08/09/run-nodes-with-swap-alpha/ https://kubernetes.io/blog/2021/09/13/read-write-once-pod-access-mode-alpha/ https://kubernetes.io/blog/2023/03/17/upcoming-changes-in-kubernetes-v1-27/ https://kubernetes.io/blog/2023/08/15/pkgs-k8s-io-introduction/ https://kubernetes.io/blog/2023/08/24/swap-linux-beta/ https://kubernetes.io/blog/2023/08/31/legacy-package-repository-deprecation/ https://kubernetes.io/docs/concepts/ https://kubernetes.io/docs/reference/ https://kubernetes.io/docs/setup/ https://kubernetes.io/docs/tasks/ https://kubernetes.io/docs/tutorials/ https://kubevious.io/blog/post/comparing-kubernetes-container-network-interface-cni-providers https://loft.sh/blog/kubernetes-persistent-volumes-examples-and-best-practices/ https://logz.io/blog/getting-started-with-kubernetes-using-microk8s/ https://medium.com/@senthilrch/woot-kubernetes-adds-support-for-swap-memory-92541aad01a0 https://medium.com/nerd-for-tech/getting-started-with-kubernetes-pod-security-context-and-policy-26619529a64b https://medium.com/programmers-journey/dead-simple-include-env-variables-in-kubernetes-deployment-yaml-1c0e8f859fde https://medium.com/thermokline/how-to-choose-a-k8s-cni-plugin-771edf4842c0 https://microk8s.io/docs/add-launch-config https://microk8s.io/docs/addon-cert-manager https://microk8s.io/docs/addon-dashboard https://microk8s.io/docs/addon-easyhaproxy https://microk8s.io/docs/addon-fluentd https://microk8s.io/docs/addon-host-access https://microk8s.io/docs/addon-hostpath-storage https://microk8s.io/docs/addon-ingress https://microk8s.io/docs/addon-mayastor https://microk8s.io/docs/addon-metallb https://microk8s.io/docs/addon-minio https://microk8s.io/docs/addon-nfs https://microk8s.io/docs/addon-rook-ceph https://microk8s.io/docs/addons https://microk8s.io/docs/change-cidr https://microk8s.io/docs/cis-compliance https://microk8s.io/docs/clustering https://microk8s.io/docs/configure-host-interfaces https://microk8s.io/docs/explain-launch-config https://microk8s.io/docs/external-lma https://microk8s.io/docs/high-availability https://microk8s.io/docs/how-to-ceph https://microk8s.io/docs/how-to-cis-harden https://microk8s.io/docs/how-to-nfs https://microk8s.io/docs/install-lxd https://microk8s.io/docs/ref-launch-config https://microk8s.io/docs/registry-built-in https://microk8s.io/docs/services-and-ports https://microk8s.io/docs/troubleshooting https://microk8s.io/docs/upgrading https://minikube.sigs.k8s.io/docs/start/ https://opensource.com/article/22/3/visual-map-kubernetes-deployment https://opensource.com/article/22/6/kubernetes-networking-fundamentals https://pwittrock.github.io/docs/admin/kubeadm/ https://richardscoding.wordpress.com/2021/04/08/setting-up-a-microk8s-cluster/ https://spacelift.io/blog/kubectl-logs https://spacelift.io/blog/restart-kubernetes-pods-with-kubectl https://stackoverflow.com/questions/62536939/how-to-perform-helm-update-on-deployment-with-pvc-and-initcontainer https://tharangarajapaksha.medium.com/backup-options-in-kubernetes-deployment-f301a9464c96 https://thenewstack.io/deletion-garbage-collection-kubernetes-objects/ https://ubuntu.com/blog/canonical%EF%BB%BF-kubernetes-1-28-is-now-generally-available https://ubuntu.com/kubernetes/install https://ubuntu.com/tutorials/navigate-through-the-openstack-dashboard-menu#1-overview https://wkrzywiec.medium.com/deployment-of-multiple-apps-on-kubernetes-cluster-walkthrough-e05d37ed63d1 https://www.civo.com/academy/kubernetes-volumes/introduction-kubernetes-remote-storage https://www.cncf.io/blog/2023/07/03/kubernetes-logging-best-practices/ https://www.freecodecamp.org/news/subnet-cheat-sheet-24-subnet-mask-30-26-27-29-and-other-ip-address-cidr-network-references/ https://www.g2.com/products/kubernetes/competitors/alternatives https://www.getambassador.io/docs/edge-stack/latest/howtos/cert-manager https://www.ianlewis.org/en/almighty-pause-container https://www.ianlewis.org/en/what-are-kubernetes-pods-anyway https://www.ibm.com/docs/en/fcifi/3.0.1?topic=administering-changing-kubernetes-master-node-ip-address https://www.linkedin.com/pulse/9-steps-enable-kubernetes-dashboard-microk8s-hendri-t/ https://www.padok.fr/en/blog/kubernetes-architecture-clusters https://www.rancher.com/products/k3s https://www.server-world.info/en/note?os=Ubuntu_20.04&p=microk8s&f=5 https://www.techtarget.com/searchitoperations/tutorial/Kubernetes-performance-testing-tutorial-Load-test-a-cluster https://www.wiz.io/blog/from-pod-security-policies-to-pod-security-standards-a-migration-guide Authentication and Authorisation https://kubernetes.io/docs/reference/access-authn-authz/authentication/ https://kubernetes.io/docs/reference/access-authn-authz/certificate-signing-requests/ https://docs.github.com/en/actions/security-guides/automatic-token-authentication#using-the-github_token-in-a-workflow https://docs.github.com/en/actions/security-guides/security-hardening-for-github-actions#considering-cross-repository-access https://microk8s.io/docs/services-and-ports#heading--auth https://kubernetes.io/docs/reference/access-authn-authz/authentication/#authentication-strategies https://kubernetes.io/docs/reference/access-authn-authz/rbac/ https://stackoverflow.com/questions/71182935/microk8s-generating-auth-certificates https://kubernetes.io/docs/tasks/administer-cluster/certificates/ https://microk8s.io/docs/multi-user https://github.com/getsops/sops Storage https://kubernetes.io/docs/concepts/storage/storage-classes/ https://www.reddit.com/r/kubernetes/comments/jjx0le/kubernetes_iscsi_storage_practices/ https://www.hardill.me.uk/wordpress/2023/11/12/setting-up-iscsi-volumes-for-kubernetes/ https://www.disctech.com/Hard-Drives-Differences-between-NVMe-SAS-SATA-SSD-drive-interfaces https://docs.ceph.com/en/latest/rbd/rbd-kubernetes/ https://blog.palark.com/kubernetes-storage-performance-linstor-ceph-mayastor-vitastor/ https://canonical-microceph.readthedocs-hosted.com/en/latest/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/cluster-configurations/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/full-disk-encryption/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/snap-content-interface/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/configure-network-keys/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/enable-metrics/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/remove-disk/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/service-placement/ https://canonical-microceph.readthedocs-hosted.com/en/latest/reference/commands/cluster/ https://canonical-microceph.readthedocs-hosted.com/en/latest/tutorial/multi-node/ https://ceph.com/assets/pdfs/weil-rados-pdsw07.pdf https://ceph.io/en/ https://ceph.io/en/users/getting-started/ https://charmhub.io/ceph-fs https://cloudian.com/guides/kubernetes-storage/kubernetes-storage-101-concepts-and-best-practices/ https://cloudopsofficial.medium.com/the-ultimate-rook-and-ceph-survival-guide-eff198a5764a https://computingforgeeks.com/persistent-storage-for-kubernetes-with-ceph-rbd/ https://confluence.cc.lehigh.edu/pages/viewpage.action?pageId=108364140 https://daegonk.medium.com/kubernetes-provisioner-setup-for-ceph-rbd-and-cephfs-ce286fbbd1e3 https://discourse.ubuntu.com/t/deploying-ceph-with-rook/32565 https://discuss.linuxcontainers.org/t/introducing-microceph/15457/43?page=2 https://docs.ceph.com/en/latest/install/ https://docs.ceph.com/en/latest/man/8/ceph-volume/ https://docs.ceph.com/en/latest/man/8/mount.ceph/ https://docs.ceph.com/en/latest/mgr/administrator/ https://docs.ceph.com/en/latest/rados/configuration/network-config-ref/ https://docs.ceph.com/en/latest/rados/operations/ https://docs.ceph.com/en/latest/rados/operations/crush-map/ https://docs.ceph.com/en/latest/rados/operations/operating/ https://docs.ceph.com/en/latest/rados/operations/placement-groups/ https://docs.ceph.com/en/latest/rados/operations/pools/ https://docs.ceph.com/en/latest/start/intro/ https://docs.ceph.com/en/mimic/rados/configuration/pool-pg-config-ref/ https://docs.ceph.com/en/mimic/rados/operations/monitoring-osd-pg/ https://docs.ceph.com/en/quincy/cephfs/fs-volumes/ https://docs.ceph.com/en/quincy/cephfs/mount-using-kernel-driver/ https://docs.ceph.com/en/quincy/glossary/ https://docs.ceph.com/en/quincy/rados/api/librados-intro/ https://docs.ceph.com/en/quincy/rados/operations/pools/#create-a-pool https://docs.ceph.com/en/quincy/rados/troubleshooting/troubleshooting-osd/ https://docs.ceph.com/en/quincy/start/hardware-recommendations/ https://docs.ceph.com/en/quincy/start/intro/ https://docs.ceph.com/en/quincy/start/quick-rbd/ https://docs.ceph.com/en/reef/rbd/rados-rbd-cmds/ https://rook.github.io/docs/rook/v1.7/ceph-teardown.html https://rook.io/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-csi-common-issues/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-toolbox/ https://medium.com/@muneeburrehman2610/kubernetes-persistent-volume-for-beginners-a13cbe5bdeea https://medium.com/avmconsulting-blog/persistent-volumes-pv-and-claims-pvc-in-kubernetes-bd76923a61f6 https://jonathangazeley.com/2020/09/10/building-a-hyperconverged-kubernetes-cluster-with-microk8s-and-ceph/ https://jonathangazeley.com/2023/03/14/kubernetes-homelab-part-4-hyperconverged-storage/ https://github.com/balchua/do-microk8s/blob/master/docs/rook.md https://www.virtono.com/community/tutorial-how-to/how-to-install-mayastor-add-on-on-microk8s/ https://www.virtualizationhowto.com/2023/08/kubernetes-persistent-volume-setup-with-microk8s-rook-and-ceph/ https://charmhub.io/swift-storage https://joshua-robinson.medium.com/elasticsearch-kubernetes-and-persistent-volumes-f763d9054e54 https://snapcraft.io/microceph https://ubuntu.com/blog/cloud-storage-at-the-edge-with-microceph https://ubuntu.com/ceph https://www.purestorage.com/br/knowledge/what-is-nfs-data-store.html https://manpages.ubuntu.com/manpages/xenial/en/man1/dyndns.1.html https://mayastor.gitbook.io/introduction/ https://mayastor.gitbook.io/introduction/basic-architecture https://github.com/container-storage-interface/spec/blob/master/spec.md https://github.com/rook/kubectl-rook-ceph https://github.com/rook/rook https://github.com/openebs/mayastor https://openebs.io/ https://spdk.io/ https://www.cyberciti.biz/faq/apple-mac-osx-nfs-mount-command-tutorial/ https://www.mirantis.com/blog/object-storage-openstack-cloud-swift-ceph/ https://docs.ceph.com/en/latest/mgr/dashboard/ https://docs.ceph.com/en/latest/mgr/prometheus/ https://canonical-microceph.readthedocs-hosted.com/en/reef-stable/how-to/enable-alerts/ https://www.itwonderlab.com/postgres-kubernetes-nfs-volume/ https://www.itwonderlab.com/kubernetes-nfs/ https://www.reddit.com/r/kubernetes/comments/ol7lsw/how_are_you_managing_nfs_in_k8s_world https://github.com/kubernetes-sigs/nfs-subdir-external-provisioner https://min.io/product/overview https://min.io/docs/minio/kubernetes/upstream/ https://microk8s.io/docs/addon-minio Helm https://blog.knoldus.com/helm2-vs-helm3-simplified/ https://docs.bitnami.com/kubernetes/faq/administration/understand-helm-chart/ https://docs.bitnami.com/kubernetes/faq/get-started/understand-charts-release-process/ https://helm.sh/docs/helm/helm_list/ https://helm.sh/docs/helm/helm_uninstall/ https://helm.sh/docs/helm/helm_upgrade/ https://helm.sh/docs/howto/charts_tips_and_tricks/ https://helm.sh/docs/intro/quickstart/ https://helm.sh/docs/chart_template_guide/getting_started/ https://v2.helm.sh/docs/developing_charts/ https://helm.sh/docs/topics/chart_repository/ https://helm.sh/docs/topics/charts/ https://helmfile.readthedocs.io/en/latest/ https://medium.com/swlh/how-to-declaratively-run-helm-charts-using-helmfile-ac78572e6088 https://chartmuseum.com/ https://charts.helm.sh/stable/ https://wkrzywiec.medium.com/how-to-deploy-application-on-kubernetes-with-helm-39f545ad33b8 https://help.cloudsmith.io/docs/helm-chart-repository https://medium.com/@mattiaperi/create-a-public-helm-chart-repository-with-github-pages-49b180dbb417 https://opensource.com/article/20/5/helm-charts https://helm.sh/docs/topics/chart_repository/ https://help.cloudsmith.io/docs/helm-chart-repository https://help.cloudsmith.io/docs/what-is-package-management https://github.com/artifacthub/hub/blob/master/docs/metadata/artifacthub-repo.yml https://docs.github.com/en/pages/getting-started-with-github-pages/creating-a-github-pages-site https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site https://www.opcito.com/blogs/creating-helm-repository-using-github-pages https://helm.sh/docs/helm/helm_repo_index/ Site abstraction: Flux etc https://fluxcd.io/flux/get-started/ https://fluxcd.io/flux/use-cases/karmada/ https://fluxcd.io/flux/use-cases/helm/ https://fluxcd.io/flux/components/helm/ https://fluxcd.io/flux/components/helm/options/ https://fluxcd.io/flux/components/helm/helmreleases/ https://fluxcd.io/flux/components/kustomize/api/v1/ https://fluxcd.io/flux/components/kustomize/kustomizations/ https://github.com/fluxcd/flux2-kustomize-helm-example https://fluxcd.io/flux/components/source/gitrepositories/#sourceignore-file https://fluxcd.io/flux/guides/helmreleases/ https://fluxcd.io/flux/components/source/helmrepositories/ https://fluxcd.io/blog/2023/12/flux-v2.2.0/ https://github.com/fluxcd/flux2/releases/tag/v2.2.0 https://fluxcd.io/flux/flux-e2e/ https://fluxcd.io/community/ https://fluxcd.io/flux/cheatsheets/troubleshooting/ https://www.digitalocean.com/community/developer-center/implementing-gitops-using-flux-cd https://fluxcd.io/flux/installation/configuration/optional-components/ https://fluxcd.io/flux/installation/configuration/boostrap-customization/ https://fluxcd.io/flux/installation/configuration/vertical-scaling/ https://fluxcd.io/flux/installation/configuration/multitenancy/ https://fluxcd.io/flux/faq/ Kustomize https://fluxcd.io/flux/installation/bootstrap/generic-git-server/ https://kubernetes.io/docs/tasks/manage-kubernetes-objects/kustomization/ https://kubectl.docs.kubernetes.io/guides/extending_kustomize/ https://fluxcd.io/flux/components/kustomize/kustomizations/#patches https://kubectl.docs.kubernetes.io/references/kustomize/glossary/#patchjson6902 https://kubernetes.io/docs/reference/using-api/server-side-apply/ https://kubernetes.io/docs/reference/using-api/server-side-apply/#comparison-with-client-side-apply https://github.com/kubernetes-sigs/kustomize/blob/master/examples/jsonpatch.md https://kubectl.docs.kubernetes.io/references/kustomize/glossary/#patchstrategicmerge https://github.com/kubernetes/community/blob/master/contributors/devel/sig-api-machinery/strategic-merge-patch.md Ansible https://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_module.html S390x http://www.hercules-390.eu/ http://www.hercules-390.org/ http://www.linuxvirtualserver.org/ https://astr0baby.wordpress.com/2018/06/03/installing-ubuntu-18-04-server-s390x-in-hercules-mainframe-simulator/ https://hercstudio.sourceforge.io/ https://hercstudio.sourceforge.io/index.html https://hercstudio.sourceforge.io/ubuntu.html https://wiki.ubuntu.com/S390X https://www.howtoinstall.me/ubuntu/18-04/hercules/ https://ubuntu.com/download/server/s390x IDRAC https://docs.openstack.org/ironic/wallaby/admin/drivers/idrac.html https://www.dell.com/support/manuals/en-uk/idrac9-lifecycle-controller-v3.0-series/idrac_3.00.00.00_ug/idrac-licenses https://snippets.bentasker.co.uk/page-1708021031-racadm-cheatsheet-for-Dell-iDRAC-BASH.html https://github.com/Cizin/Idrac-cheat-sheet https://dl.dell.com/manuals/all-products/esuprt_software/esuprt_remote_ent_sys_mgmt/esuprt_rmte_ent_sys_rmte_access_cntrllr/integrated-dell-remote-access-cntrllr-7-v1.50.50_reference%20guide4_en-us.pdf https://jonamiki.com/2015/01/23/view-create-delete-virtual-raid-volumes-with-racadm-on-an-r720-server-dell-12g/","title":"Research References"},{"location":"referencesResearch/#research-references","text":"References on the topics of virtualisation, kubernetes, storage and helm.","title":"Research References"},{"location":"referencesResearch/#virtualisation","text":"http://linux-vserver.org/Paper http://supervisord.org/ https://blog.container-solutions.com/linux-capabilities-in-practice https://blog.container-solutions.com/linux-capabilities-why-they-exist-and-how-they-work https://blog.mobyproject.org/introducing-buildkit-17e056cc5317 https://blogs.vmware.com/teamfusion/2021/09/fusion-for-m1-public-tech-preview-now-available.html https://cloud-images.ubuntu.com/releases/22.04/release/ https://devm.io/docker/build-containers-quickly-buildah-155839-001 https://documentation.ubuntu.com/lxd/en/latest/ https://earthly.dev/blog/lxc-vs-docker/ https://en.wikipedia.org/wiki/Comparison_of_platform_virtualization_software https://en.wikipedia.org/wiki/Hercules_(emulator) https://github.com/cncf/foundation/blob/main/code-of-conduct.md https://github.com/containernetworking/cni https://github.com/containers/Demos/blob/main/building/buildah_intro/buildah_intro.sh https://github.com/kata-containers/kata-containers/tree/main/docs/install https://github.com/moby/buildkit https://github.com/opencontainers/ https://katacontainers.io/docs/ https://libvirt.org/manpages/libvirtd.html https://linux-kvm.org/page/HOWTO https://linux.how2shout.com/how-to-use-virt-manager-gui-to-manage-multipass-ubuntu-vms/ https://linuxcontainers.org/incus/ https://linuxcontainers.org/lxd/ https://multipass.run/ https://pwittrock.github.io/docs/getting-started-guides/rkt/ https://rocket.readthedocs.io/en/latest/README/ https://share.confex.com/share/124/webprogram/Handout/Session16427/share-march-2015-kvm-for-zvm-lovers.pdf https://supratim-sanyal.blogspot.com/2018/10/bionic-beaver-on-zarchitecture-my.html https://ubuntu.com/blog/lxd_ui https://ubuntu.com/blog/lxd-5-17-is-now-available https://ubuntu.com/blog/lxd-networking-lxdbr0-explained https://ubuntu.com/blog/lxd-vs-docker https://ubuntu.com/blog/one_command_micro_cloud https://ubuntu.com/blog/using-cloud-init-with-multipass https://ubuntu.com/blog/what-are-linux-containers https://ubuntu.com/kubernetes/charmed-k8s https://ubuntu.com/lxd https://ubuntu.com/openstack https://ubuntu.com/security/docker-images https://ubuntu.com/server/docs/install/autoinstall-quickstart https://ubuntu.com/tutorials/explore-openstack-components-and-set-up-an-openstack-client https://ubuntu.com/tutorials/install-openstack-on-your-workstation-and-launch-your-first-instance#1-overview https://wiki.ubuntu.com/Lvm https://www.nakivo.com/blog/virtualbox-network-setting-guide/ https://www.padok.fr/en/blog/container-docker-oci https://www.virtualbox.org/manual/ch04.html https://www.youtube.com/watch?v=sK5i-N34im8 {J\u00e9r\u00f4me Petazzoni: cgroups, namespaces, and beyond}","title":"Virtualisation"},{"location":"referencesResearch/#web-assembly","text":"https://blog.unity.com/engine-platform/webassembly-is-here","title":"Web Assembly"},{"location":"referencesResearch/#cloud-init","text":"https://cloudinit.readthedocs.io/en/latest/tutorial/qemu.html","title":"Cloud-init"},{"location":"referencesResearch/#operators","text":"https://kubernetes.io/docs/concepts/extend-kubernetes/operator/ https://juju.is/model-driven-operations-manifesto https://ubuntu.com/kubernetes/charmed-k8s https://operatorhub.io/","title":"Operators"},{"location":"referencesResearch/#observability","text":"https://github.com/canonical/microk8s-core-addons/issues/125 https://github.com/prometheus-community/helm-charts/blob/main/charts/kube-prometheus-stack/values.yaml https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack https://canonical-microceph.readthedocs-hosted.com/en/reef-stable/how-to/enable-metrics/ https://prometheus.io/docs/prometheus/latest/getting_started/ https://kubernetes.io/docs/concepts/cluster-administration/system-metrics/ https://github.com/prometheus/node_exporter https://github.com/kubernetes-sigs/prometheus-adapter https://prometheus.io/docs/introduction/overview/ https://microk8s.io/docs/multi-user https://raw.githubusercontent.com/bibinwilson/kubernetes-prometheus/master/config-map.yaml https://betterprogramming.pub/observability-with-microk8s-14c1f0ff5183","title":"Observability"},{"location":"referencesResearch/#kubernetes","text":"https://askubuntu.com/questions/1316899/remove-node-from-microk8s-cluster https://charmhub.io/microk8s/docs/how-to-cluster https://cloudyuga.guru/hands_on_lab/subpath https://dev.to/ajeetraina/how-to-install-kubernetes-cluster-on-ubuntu-2004-with-kubeadm-in-2023-501i https://discuss.kubernetes.io/t/how-to-manage-addons/23799 https://docs.k3s.io/installation https://docs.starlingx.io/security/kubernetes/install-the-kubernetes-dashboard.html https://faun.pub/an-overview-of-microk8s-and-why-using-it-in-the-cloud-was-a-terrible-idea-9ba8506dc467 https://fntlnz.wtf/post/what-i-learnt-about-kubernetes-controller/ https://get.k3s.io/ https://github.com/canonical/microk8s-core-addons https://github.com/kubernetes-sigs/kubebuilder https://github.com/kubernetes-sigs/kubespray https://github.com/kubernetes-sigs/kustomize https://github.com/kubernetes-sigs/metrics-server https://github.com/kubernetes/community/blob/8cafef897a22026d42f5e5bb3f104febe7e29830/contributors/devel/controllers.md https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md https://github.com/kubernetes/enhancements/blob/9d127347773ad19894ca488ee04f1cd3af5774fc/keps/sig-node/2400-node-swap/README.md https://github.com/kubernetes/enhancements/tree/master/keps/sig-node/753-sidecar-containers https://github.com/kubernetes/examples/blob/master/staging/https-nginx/default.conf https://github.com/kubernetes/git-sync https://github.com/kubernetes/ingress-nginx/ https://github.com/kubernetes/sample-controller/ https://github.com/operator-framework/operator-sdk https://github.com/ovn-org/ovn-kubernetes/ https://ibm.github.io/kubernetes-networking/services/nodeport/ https://itnext.io/microk8s-1-27-is-out-6eef05f63e3b https://k21academy.com/docker-kubernetes/kubernetes-namespace/ https://k3s.io/ https://kind.sigs.k8s.io/ https://kubeapps.dev/ https://kubernetes.github.io/ingress-nginx/ https://kubernetes.io/blog/2021/08/09/run-nodes-with-swap-alpha/ https://kubernetes.io/blog/2021/09/13/read-write-once-pod-access-mode-alpha/ https://kubernetes.io/blog/2023/03/17/upcoming-changes-in-kubernetes-v1-27/ https://kubernetes.io/blog/2023/08/15/pkgs-k8s-io-introduction/ https://kubernetes.io/blog/2023/08/24/swap-linux-beta/ https://kubernetes.io/blog/2023/08/31/legacy-package-repository-deprecation/ https://kubernetes.io/docs/concepts/ https://kubernetes.io/docs/reference/ https://kubernetes.io/docs/setup/ https://kubernetes.io/docs/tasks/ https://kubernetes.io/docs/tutorials/ https://kubevious.io/blog/post/comparing-kubernetes-container-network-interface-cni-providers https://loft.sh/blog/kubernetes-persistent-volumes-examples-and-best-practices/ https://logz.io/blog/getting-started-with-kubernetes-using-microk8s/ https://medium.com/@senthilrch/woot-kubernetes-adds-support-for-swap-memory-92541aad01a0 https://medium.com/nerd-for-tech/getting-started-with-kubernetes-pod-security-context-and-policy-26619529a64b https://medium.com/programmers-journey/dead-simple-include-env-variables-in-kubernetes-deployment-yaml-1c0e8f859fde https://medium.com/thermokline/how-to-choose-a-k8s-cni-plugin-771edf4842c0 https://microk8s.io/docs/add-launch-config https://microk8s.io/docs/addon-cert-manager https://microk8s.io/docs/addon-dashboard https://microk8s.io/docs/addon-easyhaproxy https://microk8s.io/docs/addon-fluentd https://microk8s.io/docs/addon-host-access https://microk8s.io/docs/addon-hostpath-storage https://microk8s.io/docs/addon-ingress https://microk8s.io/docs/addon-mayastor https://microk8s.io/docs/addon-metallb https://microk8s.io/docs/addon-minio https://microk8s.io/docs/addon-nfs https://microk8s.io/docs/addon-rook-ceph https://microk8s.io/docs/addons https://microk8s.io/docs/change-cidr https://microk8s.io/docs/cis-compliance https://microk8s.io/docs/clustering https://microk8s.io/docs/configure-host-interfaces https://microk8s.io/docs/explain-launch-config https://microk8s.io/docs/external-lma https://microk8s.io/docs/high-availability https://microk8s.io/docs/how-to-ceph https://microk8s.io/docs/how-to-cis-harden https://microk8s.io/docs/how-to-nfs https://microk8s.io/docs/install-lxd https://microk8s.io/docs/ref-launch-config https://microk8s.io/docs/registry-built-in https://microk8s.io/docs/services-and-ports https://microk8s.io/docs/troubleshooting https://microk8s.io/docs/upgrading https://minikube.sigs.k8s.io/docs/start/ https://opensource.com/article/22/3/visual-map-kubernetes-deployment https://opensource.com/article/22/6/kubernetes-networking-fundamentals https://pwittrock.github.io/docs/admin/kubeadm/ https://richardscoding.wordpress.com/2021/04/08/setting-up-a-microk8s-cluster/ https://spacelift.io/blog/kubectl-logs https://spacelift.io/blog/restart-kubernetes-pods-with-kubectl https://stackoverflow.com/questions/62536939/how-to-perform-helm-update-on-deployment-with-pvc-and-initcontainer https://tharangarajapaksha.medium.com/backup-options-in-kubernetes-deployment-f301a9464c96 https://thenewstack.io/deletion-garbage-collection-kubernetes-objects/ https://ubuntu.com/blog/canonical%EF%BB%BF-kubernetes-1-28-is-now-generally-available https://ubuntu.com/kubernetes/install https://ubuntu.com/tutorials/navigate-through-the-openstack-dashboard-menu#1-overview https://wkrzywiec.medium.com/deployment-of-multiple-apps-on-kubernetes-cluster-walkthrough-e05d37ed63d1 https://www.civo.com/academy/kubernetes-volumes/introduction-kubernetes-remote-storage https://www.cncf.io/blog/2023/07/03/kubernetes-logging-best-practices/ https://www.freecodecamp.org/news/subnet-cheat-sheet-24-subnet-mask-30-26-27-29-and-other-ip-address-cidr-network-references/ https://www.g2.com/products/kubernetes/competitors/alternatives https://www.getambassador.io/docs/edge-stack/latest/howtos/cert-manager https://www.ianlewis.org/en/almighty-pause-container https://www.ianlewis.org/en/what-are-kubernetes-pods-anyway https://www.ibm.com/docs/en/fcifi/3.0.1?topic=administering-changing-kubernetes-master-node-ip-address https://www.linkedin.com/pulse/9-steps-enable-kubernetes-dashboard-microk8s-hendri-t/ https://www.padok.fr/en/blog/kubernetes-architecture-clusters https://www.rancher.com/products/k3s https://www.server-world.info/en/note?os=Ubuntu_20.04&p=microk8s&f=5 https://www.techtarget.com/searchitoperations/tutorial/Kubernetes-performance-testing-tutorial-Load-test-a-cluster https://www.wiz.io/blog/from-pod-security-policies-to-pod-security-standards-a-migration-guide","title":"Kubernetes"},{"location":"referencesResearch/#authentication-and-authorisation","text":"https://kubernetes.io/docs/reference/access-authn-authz/authentication/ https://kubernetes.io/docs/reference/access-authn-authz/certificate-signing-requests/ https://docs.github.com/en/actions/security-guides/automatic-token-authentication#using-the-github_token-in-a-workflow https://docs.github.com/en/actions/security-guides/security-hardening-for-github-actions#considering-cross-repository-access https://microk8s.io/docs/services-and-ports#heading--auth https://kubernetes.io/docs/reference/access-authn-authz/authentication/#authentication-strategies https://kubernetes.io/docs/reference/access-authn-authz/rbac/ https://stackoverflow.com/questions/71182935/microk8s-generating-auth-certificates https://kubernetes.io/docs/tasks/administer-cluster/certificates/ https://microk8s.io/docs/multi-user https://github.com/getsops/sops","title":"Authentication and Authorisation"},{"location":"referencesResearch/#storage","text":"https://kubernetes.io/docs/concepts/storage/storage-classes/ https://www.reddit.com/r/kubernetes/comments/jjx0le/kubernetes_iscsi_storage_practices/ https://www.hardill.me.uk/wordpress/2023/11/12/setting-up-iscsi-volumes-for-kubernetes/ https://www.disctech.com/Hard-Drives-Differences-between-NVMe-SAS-SATA-SSD-drive-interfaces https://docs.ceph.com/en/latest/rbd/rbd-kubernetes/ https://blog.palark.com/kubernetes-storage-performance-linstor-ceph-mayastor-vitastor/ https://canonical-microceph.readthedocs-hosted.com/en/latest/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/cluster-configurations/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/full-disk-encryption/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/snap-content-interface/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/configure-network-keys/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/enable-metrics/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/remove-disk/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/service-placement/ https://canonical-microceph.readthedocs-hosted.com/en/latest/reference/commands/cluster/ https://canonical-microceph.readthedocs-hosted.com/en/latest/tutorial/multi-node/ https://ceph.com/assets/pdfs/weil-rados-pdsw07.pdf https://ceph.io/en/ https://ceph.io/en/users/getting-started/ https://charmhub.io/ceph-fs https://cloudian.com/guides/kubernetes-storage/kubernetes-storage-101-concepts-and-best-practices/ https://cloudopsofficial.medium.com/the-ultimate-rook-and-ceph-survival-guide-eff198a5764a https://computingforgeeks.com/persistent-storage-for-kubernetes-with-ceph-rbd/ https://confluence.cc.lehigh.edu/pages/viewpage.action?pageId=108364140 https://daegonk.medium.com/kubernetes-provisioner-setup-for-ceph-rbd-and-cephfs-ce286fbbd1e3 https://discourse.ubuntu.com/t/deploying-ceph-with-rook/32565 https://discuss.linuxcontainers.org/t/introducing-microceph/15457/43?page=2 https://docs.ceph.com/en/latest/install/ https://docs.ceph.com/en/latest/man/8/ceph-volume/ https://docs.ceph.com/en/latest/man/8/mount.ceph/ https://docs.ceph.com/en/latest/mgr/administrator/ https://docs.ceph.com/en/latest/rados/configuration/network-config-ref/ https://docs.ceph.com/en/latest/rados/operations/ https://docs.ceph.com/en/latest/rados/operations/crush-map/ https://docs.ceph.com/en/latest/rados/operations/operating/ https://docs.ceph.com/en/latest/rados/operations/placement-groups/ https://docs.ceph.com/en/latest/rados/operations/pools/ https://docs.ceph.com/en/latest/start/intro/ https://docs.ceph.com/en/mimic/rados/configuration/pool-pg-config-ref/ https://docs.ceph.com/en/mimic/rados/operations/monitoring-osd-pg/ https://docs.ceph.com/en/quincy/cephfs/fs-volumes/ https://docs.ceph.com/en/quincy/cephfs/mount-using-kernel-driver/ https://docs.ceph.com/en/quincy/glossary/ https://docs.ceph.com/en/quincy/rados/api/librados-intro/ https://docs.ceph.com/en/quincy/rados/operations/pools/#create-a-pool https://docs.ceph.com/en/quincy/rados/troubleshooting/troubleshooting-osd/ https://docs.ceph.com/en/quincy/start/hardware-recommendations/ https://docs.ceph.com/en/quincy/start/intro/ https://docs.ceph.com/en/quincy/start/quick-rbd/ https://docs.ceph.com/en/reef/rbd/rados-rbd-cmds/ https://rook.github.io/docs/rook/v1.7/ceph-teardown.html https://rook.io/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-csi-common-issues/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-toolbox/ https://medium.com/@muneeburrehman2610/kubernetes-persistent-volume-for-beginners-a13cbe5bdeea https://medium.com/avmconsulting-blog/persistent-volumes-pv-and-claims-pvc-in-kubernetes-bd76923a61f6 https://jonathangazeley.com/2020/09/10/building-a-hyperconverged-kubernetes-cluster-with-microk8s-and-ceph/ https://jonathangazeley.com/2023/03/14/kubernetes-homelab-part-4-hyperconverged-storage/ https://github.com/balchua/do-microk8s/blob/master/docs/rook.md https://www.virtono.com/community/tutorial-how-to/how-to-install-mayastor-add-on-on-microk8s/ https://www.virtualizationhowto.com/2023/08/kubernetes-persistent-volume-setup-with-microk8s-rook-and-ceph/ https://charmhub.io/swift-storage https://joshua-robinson.medium.com/elasticsearch-kubernetes-and-persistent-volumes-f763d9054e54 https://snapcraft.io/microceph https://ubuntu.com/blog/cloud-storage-at-the-edge-with-microceph https://ubuntu.com/ceph https://www.purestorage.com/br/knowledge/what-is-nfs-data-store.html https://manpages.ubuntu.com/manpages/xenial/en/man1/dyndns.1.html https://mayastor.gitbook.io/introduction/ https://mayastor.gitbook.io/introduction/basic-architecture https://github.com/container-storage-interface/spec/blob/master/spec.md https://github.com/rook/kubectl-rook-ceph https://github.com/rook/rook https://github.com/openebs/mayastor https://openebs.io/ https://spdk.io/ https://www.cyberciti.biz/faq/apple-mac-osx-nfs-mount-command-tutorial/ https://www.mirantis.com/blog/object-storage-openstack-cloud-swift-ceph/ https://docs.ceph.com/en/latest/mgr/dashboard/ https://docs.ceph.com/en/latest/mgr/prometheus/ https://canonical-microceph.readthedocs-hosted.com/en/reef-stable/how-to/enable-alerts/ https://www.itwonderlab.com/postgres-kubernetes-nfs-volume/ https://www.itwonderlab.com/kubernetes-nfs/ https://www.reddit.com/r/kubernetes/comments/ol7lsw/how_are_you_managing_nfs_in_k8s_world https://github.com/kubernetes-sigs/nfs-subdir-external-provisioner https://min.io/product/overview https://min.io/docs/minio/kubernetes/upstream/ https://microk8s.io/docs/addon-minio","title":"Storage"},{"location":"referencesResearch/#helm","text":"https://blog.knoldus.com/helm2-vs-helm3-simplified/ https://docs.bitnami.com/kubernetes/faq/administration/understand-helm-chart/ https://docs.bitnami.com/kubernetes/faq/get-started/understand-charts-release-process/ https://helm.sh/docs/helm/helm_list/ https://helm.sh/docs/helm/helm_uninstall/ https://helm.sh/docs/helm/helm_upgrade/ https://helm.sh/docs/howto/charts_tips_and_tricks/ https://helm.sh/docs/intro/quickstart/ https://helm.sh/docs/chart_template_guide/getting_started/ https://v2.helm.sh/docs/developing_charts/ https://helm.sh/docs/topics/chart_repository/ https://helm.sh/docs/topics/charts/ https://helmfile.readthedocs.io/en/latest/ https://medium.com/swlh/how-to-declaratively-run-helm-charts-using-helmfile-ac78572e6088 https://chartmuseum.com/ https://charts.helm.sh/stable/ https://wkrzywiec.medium.com/how-to-deploy-application-on-kubernetes-with-helm-39f545ad33b8 https://help.cloudsmith.io/docs/helm-chart-repository https://medium.com/@mattiaperi/create-a-public-helm-chart-repository-with-github-pages-49b180dbb417 https://opensource.com/article/20/5/helm-charts https://helm.sh/docs/topics/chart_repository/ https://help.cloudsmith.io/docs/helm-chart-repository https://help.cloudsmith.io/docs/what-is-package-management https://github.com/artifacthub/hub/blob/master/docs/metadata/artifacthub-repo.yml https://docs.github.com/en/pages/getting-started-with-github-pages/creating-a-github-pages-site https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site https://www.opcito.com/blogs/creating-helm-repository-using-github-pages https://helm.sh/docs/helm/helm_repo_index/","title":"Helm"},{"location":"referencesResearch/#site-abstraction-flux-etc","text":"https://fluxcd.io/flux/get-started/ https://fluxcd.io/flux/use-cases/karmada/ https://fluxcd.io/flux/use-cases/helm/ https://fluxcd.io/flux/components/helm/ https://fluxcd.io/flux/components/helm/options/ https://fluxcd.io/flux/components/helm/helmreleases/ https://fluxcd.io/flux/components/kustomize/api/v1/ https://fluxcd.io/flux/components/kustomize/kustomizations/ https://github.com/fluxcd/flux2-kustomize-helm-example https://fluxcd.io/flux/components/source/gitrepositories/#sourceignore-file https://fluxcd.io/flux/guides/helmreleases/ https://fluxcd.io/flux/components/source/helmrepositories/ https://fluxcd.io/blog/2023/12/flux-v2.2.0/ https://github.com/fluxcd/flux2/releases/tag/v2.2.0 https://fluxcd.io/flux/flux-e2e/ https://fluxcd.io/community/ https://fluxcd.io/flux/cheatsheets/troubleshooting/ https://www.digitalocean.com/community/developer-center/implementing-gitops-using-flux-cd https://fluxcd.io/flux/installation/configuration/optional-components/ https://fluxcd.io/flux/installation/configuration/boostrap-customization/ https://fluxcd.io/flux/installation/configuration/vertical-scaling/ https://fluxcd.io/flux/installation/configuration/multitenancy/ https://fluxcd.io/flux/faq/","title":"Site abstraction: Flux etc"},{"location":"referencesResearch/#kustomize","text":"https://fluxcd.io/flux/installation/bootstrap/generic-git-server/ https://kubernetes.io/docs/tasks/manage-kubernetes-objects/kustomization/ https://kubectl.docs.kubernetes.io/guides/extending_kustomize/ https://fluxcd.io/flux/components/kustomize/kustomizations/#patches https://kubectl.docs.kubernetes.io/references/kustomize/glossary/#patchjson6902 https://kubernetes.io/docs/reference/using-api/server-side-apply/ https://kubernetes.io/docs/reference/using-api/server-side-apply/#comparison-with-client-side-apply https://github.com/kubernetes-sigs/kustomize/blob/master/examples/jsonpatch.md https://kubectl.docs.kubernetes.io/references/kustomize/glossary/#patchstrategicmerge https://github.com/kubernetes/community/blob/master/contributors/devel/sig-api-machinery/strategic-merge-patch.md","title":"Kustomize"},{"location":"referencesResearch/#ansible","text":"https://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_module.html","title":"Ansible"},{"location":"referencesResearch/#s390x","text":"http://www.hercules-390.eu/ http://www.hercules-390.org/ http://www.linuxvirtualserver.org/ https://astr0baby.wordpress.com/2018/06/03/installing-ubuntu-18-04-server-s390x-in-hercules-mainframe-simulator/ https://hercstudio.sourceforge.io/ https://hercstudio.sourceforge.io/index.html https://hercstudio.sourceforge.io/ubuntu.html https://wiki.ubuntu.com/S390X https://www.howtoinstall.me/ubuntu/18-04/hercules/ https://ubuntu.com/download/server/s390x","title":"S390x"},{"location":"referencesResearch/#idrac","text":"https://docs.openstack.org/ironic/wallaby/admin/drivers/idrac.html https://www.dell.com/support/manuals/en-uk/idrac9-lifecycle-controller-v3.0-series/idrac_3.00.00.00_ug/idrac-licenses https://snippets.bentasker.co.uk/page-1708021031-racadm-cheatsheet-for-Dell-iDRAC-BASH.html https://github.com/Cizin/Idrac-cheat-sheet https://dl.dell.com/manuals/all-products/esuprt_software/esuprt_remote_ent_sys_mgmt/esuprt_rmte_ent_sys_rmte_access_cntrllr/integrated-dell-remote-access-cntrllr-7-v1.50.50_reference%20guide4_en-us.pdf https://jonamiki.com/2015/01/23/view-create-delete-virtual-raid-volumes-with-racadm-on-an-r720-server-dell-12g/","title":"IDRAC"},{"location":"referencesReserve/","text":"Reserve References These links are not directly related to the PodZone project, or Kubernetes upskilling. They are included as they are resources relevant to the ecosystem. Consumer Cloud https://nextcloud.com/ https://nextcloud.com/athome/ https://nextcloud.com/install/ https://github.com/nextcloud/all-in-one https://docs.kubesail.com/ https://docs.kubesail.com/getting-started/ https://docs.kubesail.com/templates/ https://photostructure.com/ https://www.inkandswitch.com/local-first/ https://news.ycombinator.com/item?id=35031109 https://serverworks.es/ https://serverworks.es/posts/running-my-cloud/ Kubernetes Repositories,Management platforms, Security and Governance https://blog.container-solutions.com/installing-a-registry-on-kubernetes-quickstart https://helm.sh/docs/topics/chart_repository/ https://helm.sh/docs/topics/provenance/ https://jfrog.com/ https://www.portainer.io/ https://juju.is/ https://www.redhat.com/en/technologies/cloud-computing/openshift https://www.rancher.com/community https://www.rancher.com/ https://www.portainer.io/portainer-vs-rancher-vs-openshift https://dyrectorio.com/ https://kubermachines.com/ https://arioslabs.io/products/klate/ https://www.flexiant.com/ https://kublr.com/ https://keybase.io/ https://github.com/alexellis/k3sup Networking / SDN https://documentation.ubuntu.com/lxd/en/latest/reference/network_ovn/ https://www.ovn.org/en/architecture/ https://documentation.ubuntu.com/lxd/en/latest/reference/network_macvlan/ https://documentation.ubuntu.com/lxd/en/latest/reference/network_sriov/ https://documentation.ubuntu.com/lxd/en/latest/reference/network_ovn/ https://documentation.ubuntu.com/lxd/en/latest/reference/network_physical https://wiki.ubuntu.com/FanNetworking https://ubuntu.com/blog/data-centre-networking-what-is-ovn https://documentation.ubuntu.com/lxd/en/latest/reference/network_bridge/ https://documentation.ubuntu.com/lxd/en/latest/howto/network_create/ https://github.com/canonical/microovn https://microk8s.io/docs/addon-kube-ovn https://github.com/kubeovn/kube-ovn/tree/master/docs https://kubeovn.github.io/docs/stable/en/ https://www.kube-ovn.io/ LXD LXC https://documentation.ubuntu.com/lxd/en/stable-5.0/authentication/ https://github.com/canonical/lxd-ui/wiki/Setup-local-LXD-cluster https://github.com/canonical/lxd-ui/issues/542 https://ubuntu.com/blog/lxd_ui https://github.com/canonical/lxd-ui https://linuxcontainers.org/lxc/getting-started/ https://discuss.linuxcontainers.org/t/using-host-gateway-for-dhcp-for-lxc-containers/14775 Openstack, MicroCloud https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-openstack.html https://discourse.ubuntu.com/t/tear-down-your-openstack-lab-environment/25078 https://askubuntu.com/questions/1483306/hangs-up-during-the-bootstrap-process-in-openstack https://www.openstack.org/ https://www.openstack.org/community https://www.openstack.org/marketplace/distros/distribution/canonical/canonical-s-charmed-openstack https://www.openstack.org/use-cases/bare-metal/ https://www.openstack.org/user-survey/2022-user-survey-report https://wiki.openstack.org/wiki/Heat https://microcloud.is/ https://microstack.run/docs/multi-node https://microstack.run/docs JUJU https://juju.is/ https://juju.is/docs/juju/configuration https://juju.is/docs/juju/integration https://juju.is/docs/juju/manage-applications https://juju.is/docs/juju/manage-machines https://juju.is/docs/juju/manage-same-model-integrations https://juju.is/docs/juju/tutorial https://juju.is/docs/sdk/build-and-deploy-minimal-machine-charm https://juju.is/docs/sdk https://juju.is/model-driven-operations-manifesto MAAS https://maas.io/docs/how-to-manage-ip-ranges https://maas.io/docs/how-to-install-maas https://maas.io/docs/about-cloud-networking https://maas.io/docs/about-dhcp https://maas.io/docs/about-maas-networks https://maas.io/docs/about-tcp-ip-networks https://maas.io/docs/bootstrap-maas https://maas.io/docs/cloud-networking-essentials-for-maas https://maas.io/docs/explanation https://maas.io/docs/how-to-guides https://maas.io/docs/installation-requirements https://maas.io/docs/overview-of-maas https://maas.io/docs/reference https://maas.io/tutorials/build-a-maas-and-lxd-environment-in-30-minutes-with-multipass-on-ubuntu#1-overview https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-maas.html https://launchpad.net/maas/+series Cloudinit https://cloud-init.io/ https://cloudinit.readthedocs.io/en/latest/ https://cloudinit.readthedocs.io/en/latest/reference/datasources/nocloud.html https://cloudinit.readthedocs.io/en/latest/reference/examples.html https://cloudinit.readthedocs.io/en/latest/reference/modules.html https://cloudinit.readthedocs.io/en/latest/tutorial/lxd.html https://docs.ansible.com/ansible/latest/cli/ansible-pull.html Networking https://ubuntu.com/core/docs/networkmanager/networkmanager-and-netplan https://help.ubuntu.com/community/NetworkManager https://people.ubuntu.com/~slyon/netplan-docs/examples/ Secret Management https://fluxcd.io/flux/guides/mozilla-sops/ https://github.com/getsops/sops Unsorted https://cloud.redhat.com/blog/introducing-the-operator-framework https://airflow.apache.org/ https://blog.devgenius.io/setting-up-apache-airflow-on-kubernetes-with-gitsync-beaac2e397f3 https://book.kubebuilder.io/ https://book.kubebuilder.io/quick-start https://charmhub.io/jupyter-ui https://dansdatathoughts.substack.com/p/from-s3-to-r2-an-economic-opportunity https://docs.openstack.org/openstack-ansible-os_ironic/latest/ https://docs.oracle.com/cd/E19683-01/816-5042/auto32/index.html https://en.wikipedia.org/wiki/1-Wire https://en.wikipedia.org/wiki/Fog_computing https://en.wikipedia.org/wiki/FreeBSD_jail https://en.wikipedia.org/wiki/FreeRTOS https://en.wikipedia.org/wiki/Government_Digital_Service https://en.wikipedia.org/wiki/IA-64 https://en.wikipedia.org/wiki/IBM_Z https://en.wikipedia.org/wiki/Kernel-based_Virtual_Machine https://en.wikipedia.org/wiki/Mirantis https://en.wikipedia.org/wiki/OpenStack https://en.wikipedia.org/wiki/Preboot_Execution_Environment https://en.wikipedia.org/wiki/QEMU https://en.wikipedia.org/wiki/Redundant_array_of_independent_memory https://en.wikipedia.org/wiki/Rust_(programming_language) https://en.wikipedia.org/wiki/Scala_(programming_language) https://en.wikipedia.org/wiki/Trusted_Platform_Module https://en.wikipedia.org/wiki/Twelve-Factor_App_methodology https://en.wikipedia.org/wiki/TypeScript https://en.wikipedia.org/wiki/UEFI https://en.wikipedia.org/wiki/Z/Architecture https://blog.frankel.ch/hard-things-computer-science/ 4 https://ubuntu.com/blog/451-research-benchmarks-public-and-private-infrastructure-cost https://ubuntu.com/blog/bootstack-managed-cloud-factsheet-2 https://ubuntu.com/blog/canonical-kubernetes-for-financial-services https://ubuntu.com/blog/data-ops-at-petabyte-scale https://ubuntu.com/blog/diataxis-a-new-foundation-for-canonical-documentation https://kodekloud.com/blog/kubectl-cp/ https://kodekloud.com/blog/kubernetes-headless-service/ https://medium.com/jaegertracing/a-guide-to-deploying-jaeger-on-kubernetes-in-production-69afb9a7c8e5 https://www.portainer.io/kubernetes-management-platform https://www.pulumi.com/registry/packages/kubernetes/api-docs/yaml/configfile/ https://www.weave.works/docs/net/latest/kubernetes/kube-addon/ https://forum.snapcraft.io/t/cloud-init-with-netplan/1301/2 https://forum.snapcraft.io/t/data-locations/24905 https://forum.snapcraft.io/t/how-to-preconfigure-custom-image/4154 https://forum.snapcraft.io/t/preconfigure-ubuntu-core-image-that-does-not-require-store-account-login-on-first-boot/7994 https://forum.snapcraft.io/t/quickstart-guide/3876 https://forum.snapcraft.io/t/the-snap-format/698 https://gateway-api.sigs.k8s.io/ https://gateway-api.sigs.k8s.io/concepts/glossary/ https://gateway-api.sigs.k8s.io/concepts/roles-and-personas/ https://gateway-api.sigs.k8s.io/concepts/service-facets/ https://freshtomato.org/ https://gist.github.com/tuannvm/0fc6e94a3759c91b1abe71c149152f77 https://git.yourcmc.ru/vitalif/vitastor/src/branch/master/README.md https://github.com/axians/meta-microservicebus https://github.com/canonical/k8s-dqlite https://github.com/dexidp/dex https://github.com/fralau/mkdocs-mermaid2-plugin https://github.com/GoogleContainerTools/kaniko https://github.com/jetstack/kube-lego#kube-lego https://github.com/jordanwilson230/kubectl-plugins https://github.com/kelseyhightower/confd https://github.com/Masterminds/sprig https://go.dev/blog/using-go-modules https://gopaddle.io/ https://github.com/spacewalkproject/spacewalk https://kafka.apache.org/ https://kafka.apache.org/intro https://kafka.apache.org/quickstart https://kafka.apache.org/uses https://docs.parseplatform.org/ https://docs.parseplatform.org/parse-server/guide/ https://docs.saltproject.io/en/latest/ref/cli/salt-minion.html https://docs.saltproject.io/en/master/topics/tutorials/walkthrough.html https://docs.swimm.io/ https://fedoraproject.org/coreos/ https://github.com/tektoncd/pipeline/ https://hackernoon.com/managing-ubuntu-snaps-the-stuff-no-one-tells-you-625dfbe4b26c https://hackernoon.com/what-is-fluid-computing-its-applications-and-the-future-ahead-nnh30ea https://hadoop.apache.org/ https://help.ubuntu.com/community/IPMI https://hub.datree.io/built-in-rules https://hub.docker.com/u/ubuntu https://inaccel.com/ https://ipwithease.com/vlan-vs-vxlan/ https://ipwithease.com/vxlan-and-otv/ https://ipxe.org/ https://istio.io/ https://katacontainers.io/ https://krew.sigs.k8s.io/docs/user-guide/setup/install/ https://kroki.io/ https://kubespray.io/#/ https://layers.openembedded.org/layerindex/branch/master/layers/ https://levelup.gitconnected.com/12-microservices-pattern-i-wish-i-knew-before-the-system-design-interview-5c35919f16a2 https://linbit.com/linstor/ https://linkerd.io/ https://longhorn.io/docs/archives/1.1.1/snapshots-and-backups/csi-snapshot-support/enable-csi-snapshot-support/ https://mia-platform.eu/ https://mir-server.io/ubuntu-frame https://mobyproject.org/ https://mqtt.org/ https://netplan.io/ https://netplan.readthedocs.io/en/stable/examples/ https://news.ycombinator.com/item?id=31605302 https://nodered.org/ https://openbuildservice.org/ https://pressbooks-dev.oer.hawaii.edu/principlesofeconomics/chapter/10-2-oligopoly/ https://stacklok.com/minder https://stacklok.com/trusty https://packaging.python.org/en/latest/tutorials/installing-packages/#installing-from-local-archives https://pkg.go.dev/text/template https://snapcraft.io/docs/adding-snap-configuration https://snapcraft.io/docs/configuration-in-snaps https://techcrunch.com/2019/05/15/vmware-acquires-bitnami-to-deliver-packaged-applications-anywhere/ https://suitecrm.com/ https://techcrunch.com/2023/08/31/best-practices-for-cloud-finops/ https://ubuntu.com/blog/tag/hadoop https://traefik.io/traefik/ https://toml.io/en/ https://ubuntu.com/core/docs/networkmanager https://ubuntu.com/server/docs/network-configuration https://ubuntu.com/server/docs/rock-images/introduction https://voidlinux.org/ https://wiki.adamsweet.org/doku.php?id=ipmi_on_linux https://wiki.linuxfoundation.org/networking/bonding https://wiki.ubuntu.com/FanNetworking https://www.bloorresearch.com/technology/big-software/ https://www.asrock.com/mb/Intel/H61M-VS3/index.asp https://www.cloudsigma.com/ https://www.devspace.sh/component-chart/docs/introduction https://www.devspace.sh/docs/getting-started/introduction https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-20-04 https://www.docker.com/blog/how-to-build-and-test-your-docker-images-in-the-cloud-with-docker-hub/ https://www.freedesktop.org/software/systemd/man/systemd-networkd.service.html https://www.howtogeek.com/50787/add-a-user-to-a-group-or-second-group-on-linux/ https://www.getport.io/ https://www.ibm.com/linuxone https://www.ibm.com/products/linuxone-4 https://www.infoq.com/news/2014/03/docker_0_9/ https://www.jetbrains.com/space/ https://www.kube-ovn.io/ https://www.kubeflow.org/ https://www.kubeflow.org/docs/components/pipelines/v1/introduction/ https://www.lifewire.com/definition-of-tftp-817576 https://www.linkedin.com/pulse/pxe-boot-apple-mac-out-touching-keyboard-eric-bruno/ https://www.linuxandubuntu.com/home/ubuntu-pro-vs-ubuntu?expand_article=1 https://www.oracle.com/corporate/acquisitions/dyn/technologies/ecommerce-customer-faq.html https://www.portainer.io/ https://www.rackspace.com/ https://www.rancher.com/ https://www.redhat.com/sysadmin/analyze-processes-lsof https://www.sobyte.net/post/2021-06/several-ways-to-stop-goroutine-in-golang/ https://www.sqlalchemy.org/ https://www.techtarget.com/searchnetworking/definition/Preboot-Execution-Environment https://www.terraform.io/ https://www.theregister.com/2019/06/25/oracle_dyn_cloud_axed_2020/ https://www.zdnet.com/article/programming-languages-developers-reveal-what-they-love-and-loathe-and-what-pays-best/ https://www.sigstore.dev/ https://www.upbound.io/ https://www.wireguard.com/ https://www.wiz.io/ Serverless https://www.serverless.com/framework/docs/providers/kubeless/guide/intro https://www.cncf.io/blog/2020/04/13/serverless-open-source-frameworks-openfaas-knative-more/ https://alternativeto.net/software/openfaas/ https://docs.openfaas.com/deployment/kubernetes/ https://www.openfaas.com/pricing/ https://blog.alexellis.io/serverless-kubernetes-on-raspberry-pi/ New https://wiki.ubuntu.com/Minimal https://linux.die.net/man/8/dmidecode https://www.ibm.com/docs/en/spectrumvirtualsoftw/8.2.x?topic=planning-iscsi-overview https://betterprogramming.pub/strato-dyndns-controller-for-kubernetes-9a59ae426c5b https://codeburst.io/ddclient-c9a6ac1d8f81 https://morioh.com/a/a7abca2fa0c4/how-to-setup-a-free-dynamic-dns-service-with-ddclient-on-kubernetes https://www.kubecost.com/kubernetes-best-practices/kubernetes-external-service/ https://en.wikipedia.org/wiki/TUN/TAP https://wiki.ubuntu.com/PlanetUbuntu https://wiki.ubuntu.com/Membership http://www.catb.org/~esr/writings/magic-cauldron/magic-cauldron.html https://www.sanitarium.net/jokes/getjoke.cgi?41 https://developer.ibm.com/articles/compare-deep-learning-frameworks/ https://developer.ibm.com/articles/cc-machine-learning-deep-learning-architectures/ https://developer.ibm.com/components/tekton/ https://developer.ibm.com/ https://www.seebs.net/faqs/manager.html https://www.seebs.net/faqs/hacker.html https://en.wikipedia.org/wiki/The_Magic_Cauldron_(essay) https://en.wikipedia.org/wiki/Homesteading_the_Noosphere https://ideas.ted.com/sick-and-tired-of-the-culture-of-contempt-here-are-5-ways-you-can-subvert-it/ https://blog.aurynn.com/2015/12/16-contempt-culture https://www.sangoma.com/products/open-source/ https://docs.asterisk.org/About-the-Project/A-Brief-History-of-the-Asterisk-Project/ https://clusterlabs.org/pacemaker/ https://corosync.github.io/corosync/ https://en.wikipedia.org/wiki/Corosync_Cluster_Engine https://en.wikipedia.org/wiki/Hyper-converged_infrastructure https://en.wikipedia.org/wiki/Proxmox_Virtual_Environment https://upload.wikimedia.org/wikipedia/commons/7/79/UbuntuFamilyTree1210.svg https://github.com/canonical/microceph/blob/main/HACKING.md https://github.com/spf13/cobra https://discuss.linuxcontainers.org/t/introducing-microceph/15457 https://rook.io/docs/rook/v1.3/ceph-quickstart.html https://rook.io/docs/rook/v1.3/ceph-filesystem.html https://blog.linuxmint.com/?p=3766 https://blog.linuxmint.com/?p=3906 https://linuxmint-user-guide.readthedocs.io/en/latest/snap.html https://en.wikipedia.org/wiki/Snap_(software) https://0pointer.de/blog/projects/the-biggest-myths.html https://thenewstack.io/unix-greatest-inspiration-behind-systemd/ https://laptop.org/ https://news.ycombinator.com/item?id=35166317 https://wiki.ubuntu.com/Lvm https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/enable-metrics/ https://docs.ceph.com/en/quincy/mgr/dashboard/ https://grafana.com/docs/grafana/latest/fundamentals/intro-to-prometheus/ https://jonathangazeley.com/2020/09/10/building-a-hyperconverged-kubernetes-cluster-with-microk8s-and-ceph/ https://docs.ceph.com/en/latest/mgr/orchestrator/ https://www.digitalocean.com/community/tutorials/how-to-set-up-wireguard-on-ubuntu-22-04 https://apps.apple.com/us/app/wireguard/id1451685025?mt=12 https://nordvpn.com/blog/vpn-wireguard/ https://vitux.com/how-to-install-wireguard-vpn-on-ubuntu-22-04/ https://www.digitalocean.com/community/tutorials/how-to-set-up-wireguard-on-ubuntu-22-04 https://discuss.linuxcontainers.org/t/introducing-microceph/15457/47 https://discuss.linuxcontainers.org/t/introducing-microceph/15457/45 https://github.com/canonical/microceph/issues/251#issuecomment-1809014963 https://github.com/canonical/microceph/issues/146 https://github.com/canonical/microceph/issues/254 https://docs.ceph.com/en/mimic/start/quick-ceph-deploy/ https://medium.com/cts-technologies/are-kubernetes-days-numbered-a3c267e65ee9 https://www.theregister.com/2021/03/22/canonical_flutter/ https://martinfowler.com/bliki/CrossPlatformMobile.html https://canonical.com/blog/bring-multi-platform-apps-to-linux-desktop-with-flutter-3 https://pub.dev/publishers/canonical.com/packages https://github.com/firecracker-microvm/firecracker/blob/main/docs/prod-host-setup.md https://aws.amazon.com/fargate/ https://aws.amazon.com/lambda/ https://github.com/firecracker-microvm/firecracker https://opensource.com/article/19/3/rust-virtual-machine https://chromium.googlesource.com/chromiumos/platform/crosvm/ https://opensource.com/article/19/3/rust-virtual-machine https://canonical.com/blog/how-we-designed-the-new-ubuntu-desktop-installer https://foundation.rust-lang.org/news/2021-02-08-hello-world/ https://aturon.github.io/tech/2018/05/25/listening-part-1/ https://aturon.github.io/tech/2018/06/02/listening-part-2/ https://aturon.github.io/tech/2018/06/18/listening-part-3/ https://marc.info/?l=linux-kernel&m=137391223711946&w=2 https://marc.info/?l=linux-kernel&m=136130347127908&w=2 https://aturon.github.io/personal/2019/06/24/survivor-skills/ https://aturon.github.io/personal/2020/09/13/grief-trauma-healing/ https://bholley.net/blog/2017/stylo.html https://helm.sh/docs/chart_best_practices/templates/ https://helm.sh/docs/chart_template_guide/accessing_files/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-csi-common-issues/ https://github.com/rook/rook/tree/master/deploy/examples https://rook.io/docs/rook/v1.12/Storage-Configuration/Shared-Filesystem-CephFS/filesystem-storage/ https://docs.ceph.com/en/mimic/cephfs/createfs/ https://docs.ceph.com/en/mimic/start/quick-cephfs/ https://access.redhat.com/documentation/en-us/red_hat_ceph_storage/3/html/ceph_file_system_guide/introduction-to-ceph-file-system https://helm.sh/docs/helm/helm_pull/ https://kubesail.com/template/loopDelicious/ddclient https://ubuntu.com/blog/why-and-how-to-use-rust-on-ubuntu https://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html https://llvm.org/ https://en.wikipedia.org/wiki/Dunning%E2%80%93Kruger_effect https://docs.rs/springtime/latest/springtime/ https://robert.ocallahan.org/2017/07/confession-of-cc-programmer.html https://foundation.rust-lang.org/news/2021-03-18-introducing-bobby-holley/ https://foundation.rust-lang.org/news/2021-02-08-hello-world/ https://opensource.com/article/21/3/rust-programmer https://opensource.com/article/22/12/learn-rust https://github.com/rust-embedded/rust-raspberrypi-OS-tutorials https://github.com/golemparts/rppal https://www.freecodecamp.org/news/embedded-rust-programming-on-raspberry-pi-zero-w/ https://forums.raspberrypi.com/viewtopic.php?t=353488 https://canonical.com/blog/tag/flutter https://github.com/GoogleChrome/lighthouse/ https://backstage.io/docs/overview/architecture-overview https://backstage.io/docs/features/software-catalog/ https://backstage.io/plugins/ https://backstage.io/blog/2022/03/16/backstage-turns-two/ https://backstage.io/docs/overview/what-is-backstage https://www.businessinsider.in/tech/enterprise/news/the-ceo-of-developer-startup-sentry-explains-the-huge-change-it-made-to-its-business-to-prevent-amazon-and-other-startups-from-profiting-off-its-code/articleshow/72096570.cms https://www.confluent.io/confluent-community-license-faq/ https://www.confluent.io/blog/license-changes-confluent-platform https://stackoverflow.com/questions/67562194/ksql-in-aws-msk https://aws.amazon.com/marketplace/pp/prodview-g6kmcxajfu3bw https://www.confluent.io/resources/confluent-cloud-vs-amazon-msk/ https://www.kai-waehner.de/blog/2022/08/30/when-not-to-choose-amazon-msk-serverless-for-apache-kafka/ https://www.datacenterknowledge.com/open-source/confluent-creates-new-open-source-license-stop-cloud-poaching https://www.datacenterknowledge.com/open-source/7-open-source-tools-consider-your-data-center https://nmap.org/book/man.html https://opendcim.org/ https://thenewstack.io/making-europes-romantic-open-source-world-more-practical/ https://spacelift.io/blog/spacelift-latest-statement-on-hashicorp-bsl https://spacelift.io/blog/opentf-announcing-terraform-fork https://www.terraform.io/use-cases/infrastructure-as-code https://www.hashicorp.com/products/terraform https://ubuntu.com/blog/if-youre-still-using-ifconfig-youre-living-in-the-past https://www.oracle.com/technical-resources/articles/it-infrastructure/admin-manage-vbox-cli.html https://www.virtualbox.org/manual/ch08.html https://www.cyberithub.com/vboxmanage-an-introduction-to-virtualbox-cli-with-examples/","title":"Reserve References"},{"location":"referencesReserve/#reserve-references","text":"These links are not directly related to the PodZone project, or Kubernetes upskilling. They are included as they are resources relevant to the ecosystem.","title":"Reserve References"},{"location":"referencesReserve/#consumer-cloud","text":"https://nextcloud.com/ https://nextcloud.com/athome/ https://nextcloud.com/install/ https://github.com/nextcloud/all-in-one https://docs.kubesail.com/ https://docs.kubesail.com/getting-started/ https://docs.kubesail.com/templates/ https://photostructure.com/ https://www.inkandswitch.com/local-first/ https://news.ycombinator.com/item?id=35031109 https://serverworks.es/ https://serverworks.es/posts/running-my-cloud/","title":"Consumer Cloud"},{"location":"referencesReserve/#kubernetes-repositoriesmanagement-platforms-security-and-governance","text":"https://blog.container-solutions.com/installing-a-registry-on-kubernetes-quickstart https://helm.sh/docs/topics/chart_repository/ https://helm.sh/docs/topics/provenance/ https://jfrog.com/ https://www.portainer.io/ https://juju.is/ https://www.redhat.com/en/technologies/cloud-computing/openshift https://www.rancher.com/community https://www.rancher.com/ https://www.portainer.io/portainer-vs-rancher-vs-openshift https://dyrectorio.com/ https://kubermachines.com/ https://arioslabs.io/products/klate/ https://www.flexiant.com/ https://kublr.com/ https://keybase.io/ https://github.com/alexellis/k3sup","title":"Kubernetes Repositories,Management platforms, Security and Governance"},{"location":"referencesReserve/#networking-sdn","text":"https://documentation.ubuntu.com/lxd/en/latest/reference/network_ovn/ https://www.ovn.org/en/architecture/ https://documentation.ubuntu.com/lxd/en/latest/reference/network_macvlan/ https://documentation.ubuntu.com/lxd/en/latest/reference/network_sriov/ https://documentation.ubuntu.com/lxd/en/latest/reference/network_ovn/ https://documentation.ubuntu.com/lxd/en/latest/reference/network_physical https://wiki.ubuntu.com/FanNetworking https://ubuntu.com/blog/data-centre-networking-what-is-ovn https://documentation.ubuntu.com/lxd/en/latest/reference/network_bridge/ https://documentation.ubuntu.com/lxd/en/latest/howto/network_create/ https://github.com/canonical/microovn https://microk8s.io/docs/addon-kube-ovn https://github.com/kubeovn/kube-ovn/tree/master/docs https://kubeovn.github.io/docs/stable/en/ https://www.kube-ovn.io/","title":"Networking / SDN"},{"location":"referencesReserve/#lxd-lxc","text":"https://documentation.ubuntu.com/lxd/en/stable-5.0/authentication/ https://github.com/canonical/lxd-ui/wiki/Setup-local-LXD-cluster https://github.com/canonical/lxd-ui/issues/542 https://ubuntu.com/blog/lxd_ui https://github.com/canonical/lxd-ui https://linuxcontainers.org/lxc/getting-started/ https://discuss.linuxcontainers.org/t/using-host-gateway-for-dhcp-for-lxc-containers/14775","title":"LXD LXC"},{"location":"referencesReserve/#openstack-microcloud","text":"https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-openstack.html https://discourse.ubuntu.com/t/tear-down-your-openstack-lab-environment/25078 https://askubuntu.com/questions/1483306/hangs-up-during-the-bootstrap-process-in-openstack https://www.openstack.org/ https://www.openstack.org/community https://www.openstack.org/marketplace/distros/distribution/canonical/canonical-s-charmed-openstack https://www.openstack.org/use-cases/bare-metal/ https://www.openstack.org/user-survey/2022-user-survey-report https://wiki.openstack.org/wiki/Heat https://microcloud.is/ https://microstack.run/docs/multi-node https://microstack.run/docs","title":"Openstack, MicroCloud"},{"location":"referencesReserve/#juju","text":"https://juju.is/ https://juju.is/docs/juju/configuration https://juju.is/docs/juju/integration https://juju.is/docs/juju/manage-applications https://juju.is/docs/juju/manage-machines https://juju.is/docs/juju/manage-same-model-integrations https://juju.is/docs/juju/tutorial https://juju.is/docs/sdk/build-and-deploy-minimal-machine-charm https://juju.is/docs/sdk https://juju.is/model-driven-operations-manifesto","title":"JUJU"},{"location":"referencesReserve/#maas","text":"https://maas.io/docs/how-to-manage-ip-ranges https://maas.io/docs/how-to-install-maas https://maas.io/docs/about-cloud-networking https://maas.io/docs/about-dhcp https://maas.io/docs/about-maas-networks https://maas.io/docs/about-tcp-ip-networks https://maas.io/docs/bootstrap-maas https://maas.io/docs/cloud-networking-essentials-for-maas https://maas.io/docs/explanation https://maas.io/docs/how-to-guides https://maas.io/docs/installation-requirements https://maas.io/docs/overview-of-maas https://maas.io/docs/reference https://maas.io/tutorials/build-a-maas-and-lxd-environment-in-30-minutes-with-multipass-on-ubuntu#1-overview https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-maas.html https://launchpad.net/maas/+series","title":"MAAS"},{"location":"referencesReserve/#cloudinit","text":"https://cloud-init.io/ https://cloudinit.readthedocs.io/en/latest/ https://cloudinit.readthedocs.io/en/latest/reference/datasources/nocloud.html https://cloudinit.readthedocs.io/en/latest/reference/examples.html https://cloudinit.readthedocs.io/en/latest/reference/modules.html https://cloudinit.readthedocs.io/en/latest/tutorial/lxd.html https://docs.ansible.com/ansible/latest/cli/ansible-pull.html","title":"Cloudinit"},{"location":"referencesReserve/#networking","text":"https://ubuntu.com/core/docs/networkmanager/networkmanager-and-netplan https://help.ubuntu.com/community/NetworkManager https://people.ubuntu.com/~slyon/netplan-docs/examples/","title":"Networking"},{"location":"referencesReserve/#secret-management","text":"https://fluxcd.io/flux/guides/mozilla-sops/ https://github.com/getsops/sops","title":"Secret Management"},{"location":"referencesReserve/#unsorted","text":"https://cloud.redhat.com/blog/introducing-the-operator-framework https://airflow.apache.org/ https://blog.devgenius.io/setting-up-apache-airflow-on-kubernetes-with-gitsync-beaac2e397f3 https://book.kubebuilder.io/ https://book.kubebuilder.io/quick-start https://charmhub.io/jupyter-ui https://dansdatathoughts.substack.com/p/from-s3-to-r2-an-economic-opportunity https://docs.openstack.org/openstack-ansible-os_ironic/latest/ https://docs.oracle.com/cd/E19683-01/816-5042/auto32/index.html https://en.wikipedia.org/wiki/1-Wire https://en.wikipedia.org/wiki/Fog_computing https://en.wikipedia.org/wiki/FreeBSD_jail https://en.wikipedia.org/wiki/FreeRTOS https://en.wikipedia.org/wiki/Government_Digital_Service https://en.wikipedia.org/wiki/IA-64 https://en.wikipedia.org/wiki/IBM_Z https://en.wikipedia.org/wiki/Kernel-based_Virtual_Machine https://en.wikipedia.org/wiki/Mirantis https://en.wikipedia.org/wiki/OpenStack https://en.wikipedia.org/wiki/Preboot_Execution_Environment https://en.wikipedia.org/wiki/QEMU https://en.wikipedia.org/wiki/Redundant_array_of_independent_memory https://en.wikipedia.org/wiki/Rust_(programming_language) https://en.wikipedia.org/wiki/Scala_(programming_language) https://en.wikipedia.org/wiki/Trusted_Platform_Module https://en.wikipedia.org/wiki/Twelve-Factor_App_methodology https://en.wikipedia.org/wiki/TypeScript https://en.wikipedia.org/wiki/UEFI https://en.wikipedia.org/wiki/Z/Architecture https://blog.frankel.ch/hard-things-computer-science/ 4 https://ubuntu.com/blog/451-research-benchmarks-public-and-private-infrastructure-cost https://ubuntu.com/blog/bootstack-managed-cloud-factsheet-2 https://ubuntu.com/blog/canonical-kubernetes-for-financial-services https://ubuntu.com/blog/data-ops-at-petabyte-scale https://ubuntu.com/blog/diataxis-a-new-foundation-for-canonical-documentation https://kodekloud.com/blog/kubectl-cp/ https://kodekloud.com/blog/kubernetes-headless-service/ https://medium.com/jaegertracing/a-guide-to-deploying-jaeger-on-kubernetes-in-production-69afb9a7c8e5 https://www.portainer.io/kubernetes-management-platform https://www.pulumi.com/registry/packages/kubernetes/api-docs/yaml/configfile/ https://www.weave.works/docs/net/latest/kubernetes/kube-addon/ https://forum.snapcraft.io/t/cloud-init-with-netplan/1301/2 https://forum.snapcraft.io/t/data-locations/24905 https://forum.snapcraft.io/t/how-to-preconfigure-custom-image/4154 https://forum.snapcraft.io/t/preconfigure-ubuntu-core-image-that-does-not-require-store-account-login-on-first-boot/7994 https://forum.snapcraft.io/t/quickstart-guide/3876 https://forum.snapcraft.io/t/the-snap-format/698 https://gateway-api.sigs.k8s.io/ https://gateway-api.sigs.k8s.io/concepts/glossary/ https://gateway-api.sigs.k8s.io/concepts/roles-and-personas/ https://gateway-api.sigs.k8s.io/concepts/service-facets/ https://freshtomato.org/ https://gist.github.com/tuannvm/0fc6e94a3759c91b1abe71c149152f77 https://git.yourcmc.ru/vitalif/vitastor/src/branch/master/README.md https://github.com/axians/meta-microservicebus https://github.com/canonical/k8s-dqlite https://github.com/dexidp/dex https://github.com/fralau/mkdocs-mermaid2-plugin https://github.com/GoogleContainerTools/kaniko https://github.com/jetstack/kube-lego#kube-lego https://github.com/jordanwilson230/kubectl-plugins https://github.com/kelseyhightower/confd https://github.com/Masterminds/sprig https://go.dev/blog/using-go-modules https://gopaddle.io/ https://github.com/spacewalkproject/spacewalk https://kafka.apache.org/ https://kafka.apache.org/intro https://kafka.apache.org/quickstart https://kafka.apache.org/uses https://docs.parseplatform.org/ https://docs.parseplatform.org/parse-server/guide/ https://docs.saltproject.io/en/latest/ref/cli/salt-minion.html https://docs.saltproject.io/en/master/topics/tutorials/walkthrough.html https://docs.swimm.io/ https://fedoraproject.org/coreos/ https://github.com/tektoncd/pipeline/ https://hackernoon.com/managing-ubuntu-snaps-the-stuff-no-one-tells-you-625dfbe4b26c https://hackernoon.com/what-is-fluid-computing-its-applications-and-the-future-ahead-nnh30ea https://hadoop.apache.org/ https://help.ubuntu.com/community/IPMI https://hub.datree.io/built-in-rules https://hub.docker.com/u/ubuntu https://inaccel.com/ https://ipwithease.com/vlan-vs-vxlan/ https://ipwithease.com/vxlan-and-otv/ https://ipxe.org/ https://istio.io/ https://katacontainers.io/ https://krew.sigs.k8s.io/docs/user-guide/setup/install/ https://kroki.io/ https://kubespray.io/#/ https://layers.openembedded.org/layerindex/branch/master/layers/ https://levelup.gitconnected.com/12-microservices-pattern-i-wish-i-knew-before-the-system-design-interview-5c35919f16a2 https://linbit.com/linstor/ https://linkerd.io/ https://longhorn.io/docs/archives/1.1.1/snapshots-and-backups/csi-snapshot-support/enable-csi-snapshot-support/ https://mia-platform.eu/ https://mir-server.io/ubuntu-frame https://mobyproject.org/ https://mqtt.org/ https://netplan.io/ https://netplan.readthedocs.io/en/stable/examples/ https://news.ycombinator.com/item?id=31605302 https://nodered.org/ https://openbuildservice.org/ https://pressbooks-dev.oer.hawaii.edu/principlesofeconomics/chapter/10-2-oligopoly/ https://stacklok.com/minder https://stacklok.com/trusty https://packaging.python.org/en/latest/tutorials/installing-packages/#installing-from-local-archives https://pkg.go.dev/text/template https://snapcraft.io/docs/adding-snap-configuration https://snapcraft.io/docs/configuration-in-snaps https://techcrunch.com/2019/05/15/vmware-acquires-bitnami-to-deliver-packaged-applications-anywhere/ https://suitecrm.com/ https://techcrunch.com/2023/08/31/best-practices-for-cloud-finops/ https://ubuntu.com/blog/tag/hadoop https://traefik.io/traefik/ https://toml.io/en/ https://ubuntu.com/core/docs/networkmanager https://ubuntu.com/server/docs/network-configuration https://ubuntu.com/server/docs/rock-images/introduction https://voidlinux.org/ https://wiki.adamsweet.org/doku.php?id=ipmi_on_linux https://wiki.linuxfoundation.org/networking/bonding https://wiki.ubuntu.com/FanNetworking https://www.bloorresearch.com/technology/big-software/ https://www.asrock.com/mb/Intel/H61M-VS3/index.asp https://www.cloudsigma.com/ https://www.devspace.sh/component-chart/docs/introduction https://www.devspace.sh/docs/getting-started/introduction https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-20-04 https://www.docker.com/blog/how-to-build-and-test-your-docker-images-in-the-cloud-with-docker-hub/ https://www.freedesktop.org/software/systemd/man/systemd-networkd.service.html https://www.howtogeek.com/50787/add-a-user-to-a-group-or-second-group-on-linux/ https://www.getport.io/ https://www.ibm.com/linuxone https://www.ibm.com/products/linuxone-4 https://www.infoq.com/news/2014/03/docker_0_9/ https://www.jetbrains.com/space/ https://www.kube-ovn.io/ https://www.kubeflow.org/ https://www.kubeflow.org/docs/components/pipelines/v1/introduction/ https://www.lifewire.com/definition-of-tftp-817576 https://www.linkedin.com/pulse/pxe-boot-apple-mac-out-touching-keyboard-eric-bruno/ https://www.linuxandubuntu.com/home/ubuntu-pro-vs-ubuntu?expand_article=1 https://www.oracle.com/corporate/acquisitions/dyn/technologies/ecommerce-customer-faq.html https://www.portainer.io/ https://www.rackspace.com/ https://www.rancher.com/ https://www.redhat.com/sysadmin/analyze-processes-lsof https://www.sobyte.net/post/2021-06/several-ways-to-stop-goroutine-in-golang/ https://www.sqlalchemy.org/ https://www.techtarget.com/searchnetworking/definition/Preboot-Execution-Environment https://www.terraform.io/ https://www.theregister.com/2019/06/25/oracle_dyn_cloud_axed_2020/ https://www.zdnet.com/article/programming-languages-developers-reveal-what-they-love-and-loathe-and-what-pays-best/ https://www.sigstore.dev/ https://www.upbound.io/ https://www.wireguard.com/ https://www.wiz.io/","title":"Unsorted"},{"location":"referencesReserve/#serverless","text":"https://www.serverless.com/framework/docs/providers/kubeless/guide/intro https://www.cncf.io/blog/2020/04/13/serverless-open-source-frameworks-openfaas-knative-more/ https://alternativeto.net/software/openfaas/ https://docs.openfaas.com/deployment/kubernetes/ https://www.openfaas.com/pricing/ https://blog.alexellis.io/serverless-kubernetes-on-raspberry-pi/","title":"Serverless"},{"location":"referencesReserve/#new","text":"https://wiki.ubuntu.com/Minimal https://linux.die.net/man/8/dmidecode https://www.ibm.com/docs/en/spectrumvirtualsoftw/8.2.x?topic=planning-iscsi-overview https://betterprogramming.pub/strato-dyndns-controller-for-kubernetes-9a59ae426c5b https://codeburst.io/ddclient-c9a6ac1d8f81 https://morioh.com/a/a7abca2fa0c4/how-to-setup-a-free-dynamic-dns-service-with-ddclient-on-kubernetes https://www.kubecost.com/kubernetes-best-practices/kubernetes-external-service/ https://en.wikipedia.org/wiki/TUN/TAP https://wiki.ubuntu.com/PlanetUbuntu https://wiki.ubuntu.com/Membership http://www.catb.org/~esr/writings/magic-cauldron/magic-cauldron.html https://www.sanitarium.net/jokes/getjoke.cgi?41 https://developer.ibm.com/articles/compare-deep-learning-frameworks/ https://developer.ibm.com/articles/cc-machine-learning-deep-learning-architectures/ https://developer.ibm.com/components/tekton/ https://developer.ibm.com/ https://www.seebs.net/faqs/manager.html https://www.seebs.net/faqs/hacker.html https://en.wikipedia.org/wiki/The_Magic_Cauldron_(essay) https://en.wikipedia.org/wiki/Homesteading_the_Noosphere https://ideas.ted.com/sick-and-tired-of-the-culture-of-contempt-here-are-5-ways-you-can-subvert-it/ https://blog.aurynn.com/2015/12/16-contempt-culture https://www.sangoma.com/products/open-source/ https://docs.asterisk.org/About-the-Project/A-Brief-History-of-the-Asterisk-Project/ https://clusterlabs.org/pacemaker/ https://corosync.github.io/corosync/ https://en.wikipedia.org/wiki/Corosync_Cluster_Engine https://en.wikipedia.org/wiki/Hyper-converged_infrastructure https://en.wikipedia.org/wiki/Proxmox_Virtual_Environment https://upload.wikimedia.org/wikipedia/commons/7/79/UbuntuFamilyTree1210.svg https://github.com/canonical/microceph/blob/main/HACKING.md https://github.com/spf13/cobra https://discuss.linuxcontainers.org/t/introducing-microceph/15457 https://rook.io/docs/rook/v1.3/ceph-quickstart.html https://rook.io/docs/rook/v1.3/ceph-filesystem.html https://blog.linuxmint.com/?p=3766 https://blog.linuxmint.com/?p=3906 https://linuxmint-user-guide.readthedocs.io/en/latest/snap.html https://en.wikipedia.org/wiki/Snap_(software) https://0pointer.de/blog/projects/the-biggest-myths.html https://thenewstack.io/unix-greatest-inspiration-behind-systemd/ https://laptop.org/ https://news.ycombinator.com/item?id=35166317 https://wiki.ubuntu.com/Lvm https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/enable-metrics/ https://docs.ceph.com/en/quincy/mgr/dashboard/ https://grafana.com/docs/grafana/latest/fundamentals/intro-to-prometheus/ https://jonathangazeley.com/2020/09/10/building-a-hyperconverged-kubernetes-cluster-with-microk8s-and-ceph/ https://docs.ceph.com/en/latest/mgr/orchestrator/ https://www.digitalocean.com/community/tutorials/how-to-set-up-wireguard-on-ubuntu-22-04 https://apps.apple.com/us/app/wireguard/id1451685025?mt=12 https://nordvpn.com/blog/vpn-wireguard/ https://vitux.com/how-to-install-wireguard-vpn-on-ubuntu-22-04/ https://www.digitalocean.com/community/tutorials/how-to-set-up-wireguard-on-ubuntu-22-04 https://discuss.linuxcontainers.org/t/introducing-microceph/15457/47 https://discuss.linuxcontainers.org/t/introducing-microceph/15457/45 https://github.com/canonical/microceph/issues/251#issuecomment-1809014963 https://github.com/canonical/microceph/issues/146 https://github.com/canonical/microceph/issues/254 https://docs.ceph.com/en/mimic/start/quick-ceph-deploy/ https://medium.com/cts-technologies/are-kubernetes-days-numbered-a3c267e65ee9 https://www.theregister.com/2021/03/22/canonical_flutter/ https://martinfowler.com/bliki/CrossPlatformMobile.html https://canonical.com/blog/bring-multi-platform-apps-to-linux-desktop-with-flutter-3 https://pub.dev/publishers/canonical.com/packages https://github.com/firecracker-microvm/firecracker/blob/main/docs/prod-host-setup.md https://aws.amazon.com/fargate/ https://aws.amazon.com/lambda/ https://github.com/firecracker-microvm/firecracker https://opensource.com/article/19/3/rust-virtual-machine https://chromium.googlesource.com/chromiumos/platform/crosvm/ https://opensource.com/article/19/3/rust-virtual-machine https://canonical.com/blog/how-we-designed-the-new-ubuntu-desktop-installer https://foundation.rust-lang.org/news/2021-02-08-hello-world/ https://aturon.github.io/tech/2018/05/25/listening-part-1/ https://aturon.github.io/tech/2018/06/02/listening-part-2/ https://aturon.github.io/tech/2018/06/18/listening-part-3/ https://marc.info/?l=linux-kernel&m=137391223711946&w=2 https://marc.info/?l=linux-kernel&m=136130347127908&w=2 https://aturon.github.io/personal/2019/06/24/survivor-skills/ https://aturon.github.io/personal/2020/09/13/grief-trauma-healing/ https://bholley.net/blog/2017/stylo.html https://helm.sh/docs/chart_best_practices/templates/ https://helm.sh/docs/chart_template_guide/accessing_files/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-csi-common-issues/ https://github.com/rook/rook/tree/master/deploy/examples https://rook.io/docs/rook/v1.12/Storage-Configuration/Shared-Filesystem-CephFS/filesystem-storage/ https://docs.ceph.com/en/mimic/cephfs/createfs/ https://docs.ceph.com/en/mimic/start/quick-cephfs/ https://access.redhat.com/documentation/en-us/red_hat_ceph_storage/3/html/ceph_file_system_guide/introduction-to-ceph-file-system https://helm.sh/docs/helm/helm_pull/ https://kubesail.com/template/loopDelicious/ddclient https://ubuntu.com/blog/why-and-how-to-use-rust-on-ubuntu https://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html https://llvm.org/ https://en.wikipedia.org/wiki/Dunning%E2%80%93Kruger_effect https://docs.rs/springtime/latest/springtime/ https://robert.ocallahan.org/2017/07/confession-of-cc-programmer.html https://foundation.rust-lang.org/news/2021-03-18-introducing-bobby-holley/ https://foundation.rust-lang.org/news/2021-02-08-hello-world/ https://opensource.com/article/21/3/rust-programmer https://opensource.com/article/22/12/learn-rust https://github.com/rust-embedded/rust-raspberrypi-OS-tutorials https://github.com/golemparts/rppal https://www.freecodecamp.org/news/embedded-rust-programming-on-raspberry-pi-zero-w/ https://forums.raspberrypi.com/viewtopic.php?t=353488 https://canonical.com/blog/tag/flutter https://github.com/GoogleChrome/lighthouse/ https://backstage.io/docs/overview/architecture-overview https://backstage.io/docs/features/software-catalog/ https://backstage.io/plugins/ https://backstage.io/blog/2022/03/16/backstage-turns-two/ https://backstage.io/docs/overview/what-is-backstage https://www.businessinsider.in/tech/enterprise/news/the-ceo-of-developer-startup-sentry-explains-the-huge-change-it-made-to-its-business-to-prevent-amazon-and-other-startups-from-profiting-off-its-code/articleshow/72096570.cms https://www.confluent.io/confluent-community-license-faq/ https://www.confluent.io/blog/license-changes-confluent-platform https://stackoverflow.com/questions/67562194/ksql-in-aws-msk https://aws.amazon.com/marketplace/pp/prodview-g6kmcxajfu3bw https://www.confluent.io/resources/confluent-cloud-vs-amazon-msk/ https://www.kai-waehner.de/blog/2022/08/30/when-not-to-choose-amazon-msk-serverless-for-apache-kafka/ https://www.datacenterknowledge.com/open-source/confluent-creates-new-open-source-license-stop-cloud-poaching https://www.datacenterknowledge.com/open-source/7-open-source-tools-consider-your-data-center https://nmap.org/book/man.html https://opendcim.org/ https://thenewstack.io/making-europes-romantic-open-source-world-more-practical/ https://spacelift.io/blog/spacelift-latest-statement-on-hashicorp-bsl https://spacelift.io/blog/opentf-announcing-terraform-fork https://www.terraform.io/use-cases/infrastructure-as-code https://www.hashicorp.com/products/terraform https://ubuntu.com/blog/if-youre-still-using-ifconfig-youre-living-in-the-past https://www.oracle.com/technical-resources/articles/it-infrastructure/admin-manage-vbox-cli.html https://www.virtualbox.org/manual/ch08.html https://www.cyberithub.com/vboxmanage-an-introduction-to-virtualbox-cli-with-examples/","title":"New"},{"location":"referencesTroubleshooting/","text":"Troubleshooting References Troubleshooting https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs Discussions https://askubuntu.com/questions/1192923/is-it-possible-to-install-microk8s-on-ubuntu-core-18 https://askubuntu.com/questions/1455839/ubunto-core-22-04-raspberry-pi-linux-modules-extra-raspi https://askubuntu.com/questions/178712/how-to-increase-swap-space https://askubuntu.com/questions/778392/install-second-network-interface-on-virtualized-ubuntu-server https://blog.kubovy.eu/2020/05/16/retrieve-tls-certificates-from-kubernetes/ https://cert-manager.io/docs/troubleshooting/ https://cert-manager.io/docs/troubleshooting/acme/ https://discuss.elastic.co/t/filebeat-not-able-to-find-logs-on-microk8/182023 https://discuss.hashicorp.com/t/0-3-nodes-are-available-pod-has-unbound-immediate-persistentvolumeclaims/51642 https://discuss.hashicorp.com/t/vagrant-multiple-vms-with-unique-ip-address-on-public-network-using-dhcp/36374 https://forum.opensearch.org/t/3-node-opensearch-cluster-not-able-initialized/13934 https://forum.opensearch.org/t/config-changes-not-applying/14547 https://forum.opensearch.org/t/kubernetes-opensearch-deployment-persistentvolume-controller-no-persistent-volumes-available-for-this-claim-and-no-storage-class-is-set/8876 https://forum.opensearch.org/t/opensearch-dashboards-server-is-not-ready-yet/12970/2 https://forum.snapcraft.io/t/cloud-init-with-netplan/1301/2 https://forum.snapcraft.io/t/data-locations/24905 https://forum.snapcraft.io/t/how-to-preconfigure-custom-image/4154 https://forum.snapcraft.io/t/preconfigure-ubuntu-core-image-that-does-not-require-store-account-login-on-first-boot/7994 https://forum.snapcraft.io/t/quickstart-guide/3876 https://forum.snapcraft.io/t/the-snap-format/698 https://github.com/kubernetes/dashboard/issues/3322 https://saturncloud.io/blog/solving-the-pod-has-unbound-immediate-persistentvolumeclaims-issue-in-kubernetes-nfs-volume/ https://serverfault.com/questions/870483/nfs-and-all-squash-confusions https://serverfault.com/questions/906083/how-to-mount-volume-with-specific-uid-in-kubernetes-pod https://spacelift.io/blog/restart-kubernetes-pods-with-kubectl https://stackoverflow.com/questions/12538162/setting-a-vms-mac-address-in-vagrant https://stackoverflow.com/questions/20819786/nfsnobody-user-privileges https://stackoverflow.com/questions/41325087/what-is-the-difference-between-a-pod-and-a-deployment https://stackoverflow.com/questions/42793382/exec-commands-on-kubernetes-pods-with-root-access https://stackoverflow.com/questions/43544370/kubernetes-how-to-set-volumemount-user-group-and-file-permissions https://stackoverflow.com/questions/46351051/permission-denied-when-chown-on-elasticsearch-data-directory-in-kubernetes-state https://stackoverflow.com/questions/51358856/kubernetes-cant-delete-persistentvolumeclaim-pvc https://stackoverflow.com/questions/51445846/elasticsearch-max-virtual-memory-areas-vm-max-map-count-65530-is-too-low-inc https://stackoverflow.com/questions/51657271/passing-in-environment-variables-into-docker-running-in-kubernetes https://stackoverflow.com/questions/55780083/error-no-persistent-volumes-available-for-this-claim-and-no-storage-class-is-se https://stackoverflow.com/questions/57683206/what-is-the-reverse-of-kubectl-apply https://stackoverflow.com/questions/62049953/microk8s-ingress-or-loadbalancer-not-working-in-local-single-node-cluster https://stackoverflow.com/questions/63346728/issuing-certificate-as-secret-does-not-exist https://superuser.com/questions/878807/how-to-boot-apple-mac-via-pxe-custom-mini-linux https://techoverflow.net/2020/04/18/how-to-fix-elasticsearch-docker-accessdeniedexception-usr-share-elasticsearch-data-nodes/ https://unix.stackexchange.com/questions/106304/route-add-no-longer-works-when-i-connected-to-vpn-via-cisco-anyconnect-client/501094#501094 https://www.autodesk.com/support/technical/article/caas/sfdcarticles/sfdcarticles/Enabling-network-NFS-shares-in-Mac-OS-X.html https://www.datree.io/resources/kubernetes-troubleshooting-fixing-persistentvolumeclaims-error https://komodor.com/learn/how-to-fix-crashloopbackoff-kubernetes-error/ https://medium.com/@olivier.gaumond/why-am-i-able-to-bind-a-privileged-port-in-my-container-without-the-net-bind-service-capability-60972a4d5496 https://saturncloud.io/blog/how-to-log-in-to-the-microk8s-kubernetes-dashboard-a-guide-for-data-scientists/ https://saturncloud.io/blog/solving-kubernetes-nfs-persistent-volumes-permission-denied-a-guide/ https://saturncloud.io/blog/solving-the-pod-has-unbound-immediate-persistentvolumeclaims-issue-in-kubernetes-nfs-volume/ https://serverfault.com/questions/870483/nfs-and-all-squash-confusions https://serverfault.com/questions/906083/how-to-mount-volume-with-specific-uid-in-kubernetes-pod https://unix.stackexchange.com/questions/106304/route-add-no-longer-works-when-i-connected-to-vpn-via-cisco-anyconnect-client/501094#501094 https://github.com/canonical/microk8s/issues/2108 https://github.com/canonical/microk8s/issues/276 https://github.com/canonical/microk8s/issues/4041 https://github.com/elastic/helm-charts/issues/137 https://github.com/hashicorp/vagrant/issues/9200 https://github.com/pires/kubernetes-elasticsearch-cluster/issues/205 https://stackoverflow.com/questions/23396679/vagrant-setting-a-vms-mac-address-in-a-private-network-hostonly https://stackoverflow.com/questions/12538162/setting-a-vms-mac-address-in-vagrant https://stackoverflow.com/questions/26246840/how-to-set-eth0-mac-address-in-vagrant-with-the-vmware-provisioner https://stackoverflow.com/questions/39655478/update-vms-bridged-mac-address-with-vagrant https://developer.hashicorp.com/vagrant/docs/vagrantfile/machine_settings#config-vm-base_mac https://stackoverflow.com/questions/56243121/can-i-set-custom-ports-for-a-kubernetes-ingress-to-listen-on-besides-80-443 https://stackoverflow.com/questions/19648088/pass-environment-variables-to-vagrant-shell-provisioner https://stackoverflow.com/questions/33250304/how-to-automatically-select-bridged-network-interfaces-in-vagrant https://linux.die.net/man/8/useradd https://stackoverflow.com/questions/30075461/how-do-i-add-my-own-public-key-to-vagrant-vm https://stackoverflow.com/questions/29450404/is-there-a-default-password-to-connect-to-vagrant-when-using-homestead-ssh-for https://github.com/MicrosoftEdge/dev.microsoftedge.com-vms/issues/21 https://stackoverflow.com/questions/19648088/pass-environment-variables-to-vagrant-shell-provisioner https://github.com/hashicorp/vagrant/issues/7015 https://unix.stackexchange.com/questions/52313/how-to-get-execution-time-of-a-script-effectively https://serverfault.com/questions/628989/how-to-set-default-ansible-username-password-for-ssh-connection https://stackoverflow.com/questions/56243121/can-i-set-custom-ports-for-a-kubernetes-ingress-to-listen-on-besides-80-443 https://stackoverflow.com/questions/37434598/ansible-sudo-without-password https://medium.com/programmers-journey/dead-simple-include-env-variables-in-kubernetes-deployment-yaml-1c0e8f859fde https://stackoverflow.com/questions/44637996/docker-compose-up-postgresql-error-chown-changing-ownership-of-var-lib-postg https://www.itwonderlab.com/postgres-kubernetes-nfs-volume/ https://stackoverflow.com/questions/24288616/permission-denied-on-accessing-host-directory-in-docker https://stackoverflow.com/questions/51000791/how-to-mount-hostpath-volume-in-kubernetes-with-selinux/51026623#51026623 https://www.thegeekstuff.com/2017/07/chcon-command-examples/ https://github.com/docker-library/postgres/issues/116 https://forums.rancher.com/t/statefulset-postgres-chmod-changing-permissions-of-var-run-postgresql-operation-not-permitted-chown-changing-ownership-of-var-lib-postgresql-data-pgdata-operation-not-permitted/21080 https://www.itwonderlab.com/postgres-kubernetes-nfs-volume/ https://gist.github.com/FarooqKhan/7a81b1aa8167f1a927b82731ec435872 https://www.crunchydata.com/blog/stateful-postgres-storage-using-kubernetes https://stackoverflow.com/questions/65046709/what-is-the-correct-way-to-manage-kubernetes-nfs-pv-permissions-for-postgres https://stackoverflow.com/questions/44637996/docker-compose-up-postgresql-error-chown-changing-ownership-of-var-lib-postg https://medium.com/@panda1100/solutions-for-operation-not-permitted-error-when-postgresql-is-running-on-docker-using-vagrants-3db360ca2c03 https://github.com/docker-library/postgres/issues/361 https://stackoverflow.com/questions/63602827/rookio-ceph-cluster-mon-c-is-low-on-available-space-message https://superuser.com/questions/131519/what-is-this-dm-0-device/131520 https://askubuntu.com/questions/1406697/extend-lvm-size https://packetpushers.net/ubuntu-extend-your-default-lvm-space/ https://www.baeldung.com/linux/apfs-partition-mount https://packages.fedoraproject.org/pkgs/apfs-fuse/apfs-fuse/ https://linuxconfig.org/how-to-install-g-the-c-compiler-on-ubuntu-22-04-lts-jammy-jellyfish-linux https://linuxnewbieguide.org/how-to-mount-macos-apfs-disk-volumes-in-linux/ https://github.com/libyal/libfvde/wiki/Mounting https://askubuntu.com/questions/1148390/mount-macbook-partition-on-ubuntu-unknown-filesystem-hfs-apfs https://packetpushers.net/ubuntu-extend-your-default-lvm-space/ https://github.com/canonical/microk8s/issues/885 https://askubuntu.com/questions/406787/best-way-add-nopasswd-vagrant-user https://stackoverflow.com/questions/57570423/net-http-request-canceled-while-waiting-for-connection-client-timeout-exceeded https://stackoverflow.com/questions/51963258/unable-to-get-monitor-info-from-dns-srv-with-service-name-ceph-mon https://github.com/rook/rook/issues/3595 https://github.com/rook/rook/issues/11521 https://forum.proxmox.com/threads/ceph-mirroring-unable-to-get-monitor-info-from-dns-srv-with-service-name-ceph-mon.128066/ https://superuser.com/questions/1306167/how-is-passwordless-sudo-achieved-for-the-vagrant-user https://askubuntu.com/questions/406787/best-way-add-nopasswd-vagrant-user https://superuser.com/questions/1623376/how-can-i-make-my-own-account-a-sudoers-on-virtualbox https://askubuntu.com/questions/406787/best-way-add-nopasswd-vagrant-user https://stackoverflow.com/questions/44315842/execute-a-command-by-switching-to-root-user-in-ansible https://stackoverflow.com/questions/39522326/how-do-i-append-a-large-amount-of-text-to-a-file-using-ansible https://www.reddit.com/r/ansible/comments/sn9l9d/microk8s_join_cluster_with_ansible/ https://docs.ansible.com/ansible/latest/collections/community/general/snap_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/blockinfile_module.html https://www.lakshminp.com/installing-microk8s-using-ansible/ https://fabianlee.org/2021/07/25/kubernetes-microk8s-cluster-on-ubuntu-using-ansible/ https://www.reddit.com/r/ansible/comments/sn9l9d/microk8s_join_cluster_with_ansible/ https://stackoverflow.com/questions/30226113/ansible-ssh-prompt-known-hosts-issue https://www.freekb.net/Article?id=2986 https://serverfault.com/questions/537060/how-to-see-stdout-of-ansible-commands https://serverfault.com/questions/1108319/checking-missing-nodes-in-microk8s-cluster-with-ansible https://stackoverflow.com/questions/39769560/cant-change-base-memory-in-virtualbox https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/configuration https://stackoverflow.com/questions/12308149/how-do-i-increase-the-ram-and-set-up-host-only-networking-in-vagrant https://www.thisprogrammingthing.com/2021/Vagrant-Development-Environment-Customizing-The-Amount-of-RAM/ https://www.virtualbox.org/manual/ch12.html https://documentation.suse.com/ses/7.1/html/ses-all/bp-troubleshooting-dashboard.html https://discuss.linuxcontainers.org/t/introducing-microceph/15457/42 https://stackoverflow.com/questions/69322849/rook-ceph-provisioning-issue https://github.com/rook/rook/issues/11464 https://lists.ceph.io/hyperkitty/list/ceph-users@ceph.io/thread/ZJIAEWGCAFAMNAPOXFW7FIKJVLYWHZPG/ https://forum.proxmox.com/threads/ceph-pacific-issue.127987/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-common-issues/ https://stackoverflow.com/questions/65593899/ceph-health-warn-degraded-data-redundancy-pgs-undersized-after-reweighting https://github.com/rook/rook/issues/8749 https://github.com/rook/rook/issues/8696 https://github.com/rook/rook/issues/8727 https://stackoverflow.com/questions/63974879/microk8s-metallb-ingress-nginx-how-to-route-external-traffic https://stackoverflow.com/questions/43941772/get-yaml-for-deployed-kubernetes-services https://stackoverflow.com/questions/69048829/need-support-on-using-git-sync-and-persistent-volumes https://github.com/kubernetes/kubernetes/issues/20466 https://stackoverflow.com/questions/51317681/how-to-mount-the-sub-path-of-pvc-to-the-specific-path-in-container https://kubernetes.github.io/ingress-nginx/examples/rewrite/#app-root https://v0-3-0--metallb.netlify.app/tutorial/arp/ https://metallb.universe.tf/troubleshooting/ https://github.com/kubernetes-sigs/kind/issues/1449 https://community.temporal.io/t/deadline-exceeded-error-with-helm-charts-deployment/3636/9 https://github.com/cert-manager/cert-manager/issues/2517 https://stackoverflow.com/questions/75546753/ceph-fix-activeundersizeddegraded-pgs-after-removing-an-osd https://www.reddit.com/r/ceph/comments/11ehf6u/pgs_stuck_in_undersized_mode_for_a_long_time/ https://ceph-users.ceph.narkive.com/GfJL0JTk/pg-status-is-active-undersized-degraded https://forum.proxmox.com/threads/change-num-replicas-on-ceph-rool-online.25904/ https://forum.proxmox.com/threads/please-help-ceph-pool-stuck-at-undersized-degraded-remapped-backfill_toofull-peered.121690/ https://forum.proxmox.com/threads/ceph-pool-created-using-mgr.120226/ https://stackoverflow.com/questions/63456581/1-pg-undersized-health-warn-in-rook-ceph-on-single-node-clusterminikube?rq=3 https://h30434.www3.hp.com/t5/Desktop-Hardware-and-Upgrade-Questions/HP-t630-Thin-Client-will-it-accept-SSD-M-2-SATA-storage/td-p/8833395 https://forums.servethehome.com/index.php?threads/does-hp-thin-client-t630-support-nvme.28141/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-common-issues/ https://discuss.linuxcontainers.org/t/microceph-with-more-than-3-nodes/17469 https://docs.ceph.com/en/latest/mgr/orchestrator_modules/ https://stackoverflow.com/questions/38959525/hide-git-directory-or-file-with-apache https://tecadmin.net/block-git-directory-in-apache-nginx/ https://serverfault.com/questions/128069/how-do-i-prevent-apache-from-serving-the-git-directory https://helm.sh/docs/helm/helm_uninstall/ https://canonical-microcloud.readthedocs-hosted.com/en/latest/how-to/commands/ https://microcloud.is/ https://ubuntu.com/blog/one_command_micro_cloud https://stackoverflow.com/questions/51718202/helm-how-to-define-release-name-value https://github.com/helm/helm/issues/6992 https://stackoverflow.com/questions/51783651/how-to-create-a-namespace-if-it-doesnt-exists-from-helm-templates https://stackoverflow.com/questions/52636571/how-to-pass-dynamic-arguments-to-a-helm-chart-that-runs-a-job https://kubernetes.io/docs/concepts/storage/volumes/#using-subpath https://stackoverflow.com/questions/65399714/what-is-the-difference-between-subpath-and-mountpath-in-kubernetes https://multipass.run/docs/authenticating-clients https://github.com/canonical/multipass/issues/1714 https://github.com/canonical/multipass/issues/973 https://bugs.launchpad.net/juju/+bug/1892389 https://stackoverflow.com/questions/61069841/helm-template-debug-or-helm-install-dry-run-debug-which-is-best https://helm.sh/docs/chart_template_guide/debugging/ https://github.com/helm/helm/issues/4574 https://github.com/bitnami/charts/issues/2720 https://serverfault.com/questions/356493/apache2-why-limitexcept-parameter-results-deny-not-allowed-here-error-in-vi https://kodekloud.com/blog/debug-crashloopbackoff/ https://discuss.elastic.co/t/filebeat-not-able-to-find-logs-on-microk8/182023 https://discuss.hashicorp.com/t/0-3-nodes-are-available-pod-has-unbound-immediate-persistentvolumeclaims/51642 https://stackoverflow.com/questions/33415913/whats-the-best-way-to-share-mount-one-file-into-a-pod/43404857#43404857 https://stackoverflow.com/questions/47305658/install-snap-packages-with-ansible https://stackoverflow.com/questions/73421967/how-to-use-git-sync-image-as-a-sidecar-in-kubernetes-that-git-pulls-periodically https://release.com/blog/kubernetes-how-to-debug-crashloopbackoff-in-a-container https://askubuntu.com/questions/1482503/ubuntu-server-22-04-3-lts-system-has-been-minimized https://ansiblepilot.medium.com/ansible-troubleshooting-error-no-module-named-markupsafe-8c9f45dae5b5 https://askubuntu.com/questions/1379866/not-showing-available-ram https://www.reddit.com/r/kubernetes/comments/ypfi4l/how_to_create_readwritemany_persistent_volumes/ https://github.com/rook/rook/issues/5936 https://github.com/rook/rook/issues/4209 https://github.com/canonical/microceph/issues/23 https://github.com/canonical/microceph/issues/145 https://github.com/canonical/microceph/issues/251 https://github.com/canonical/microceph/issues https://stackoverflow.com/questions/63781025/microk8s-remote-with-kubectl-you-must-be-logged-in-to-the-server-unauthorized https://github.com/helm/helm/issues/3134","title":"Troubleshooting References"},{"location":"referencesTroubleshooting/#troubleshooting-references","text":"","title":"Troubleshooting References"},{"location":"referencesTroubleshooting/#troubleshooting","text":"https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs","title":"Troubleshooting"},{"location":"referencesTroubleshooting/#discussions","text":"https://askubuntu.com/questions/1192923/is-it-possible-to-install-microk8s-on-ubuntu-core-18 https://askubuntu.com/questions/1455839/ubunto-core-22-04-raspberry-pi-linux-modules-extra-raspi https://askubuntu.com/questions/178712/how-to-increase-swap-space https://askubuntu.com/questions/778392/install-second-network-interface-on-virtualized-ubuntu-server https://blog.kubovy.eu/2020/05/16/retrieve-tls-certificates-from-kubernetes/ https://cert-manager.io/docs/troubleshooting/ https://cert-manager.io/docs/troubleshooting/acme/ https://discuss.elastic.co/t/filebeat-not-able-to-find-logs-on-microk8/182023 https://discuss.hashicorp.com/t/0-3-nodes-are-available-pod-has-unbound-immediate-persistentvolumeclaims/51642 https://discuss.hashicorp.com/t/vagrant-multiple-vms-with-unique-ip-address-on-public-network-using-dhcp/36374 https://forum.opensearch.org/t/3-node-opensearch-cluster-not-able-initialized/13934 https://forum.opensearch.org/t/config-changes-not-applying/14547 https://forum.opensearch.org/t/kubernetes-opensearch-deployment-persistentvolume-controller-no-persistent-volumes-available-for-this-claim-and-no-storage-class-is-set/8876 https://forum.opensearch.org/t/opensearch-dashboards-server-is-not-ready-yet/12970/2 https://forum.snapcraft.io/t/cloud-init-with-netplan/1301/2 https://forum.snapcraft.io/t/data-locations/24905 https://forum.snapcraft.io/t/how-to-preconfigure-custom-image/4154 https://forum.snapcraft.io/t/preconfigure-ubuntu-core-image-that-does-not-require-store-account-login-on-first-boot/7994 https://forum.snapcraft.io/t/quickstart-guide/3876 https://forum.snapcraft.io/t/the-snap-format/698 https://github.com/kubernetes/dashboard/issues/3322 https://saturncloud.io/blog/solving-the-pod-has-unbound-immediate-persistentvolumeclaims-issue-in-kubernetes-nfs-volume/ https://serverfault.com/questions/870483/nfs-and-all-squash-confusions https://serverfault.com/questions/906083/how-to-mount-volume-with-specific-uid-in-kubernetes-pod https://spacelift.io/blog/restart-kubernetes-pods-with-kubectl https://stackoverflow.com/questions/12538162/setting-a-vms-mac-address-in-vagrant https://stackoverflow.com/questions/20819786/nfsnobody-user-privileges https://stackoverflow.com/questions/41325087/what-is-the-difference-between-a-pod-and-a-deployment https://stackoverflow.com/questions/42793382/exec-commands-on-kubernetes-pods-with-root-access https://stackoverflow.com/questions/43544370/kubernetes-how-to-set-volumemount-user-group-and-file-permissions https://stackoverflow.com/questions/46351051/permission-denied-when-chown-on-elasticsearch-data-directory-in-kubernetes-state https://stackoverflow.com/questions/51358856/kubernetes-cant-delete-persistentvolumeclaim-pvc https://stackoverflow.com/questions/51445846/elasticsearch-max-virtual-memory-areas-vm-max-map-count-65530-is-too-low-inc https://stackoverflow.com/questions/51657271/passing-in-environment-variables-into-docker-running-in-kubernetes https://stackoverflow.com/questions/55780083/error-no-persistent-volumes-available-for-this-claim-and-no-storage-class-is-se https://stackoverflow.com/questions/57683206/what-is-the-reverse-of-kubectl-apply https://stackoverflow.com/questions/62049953/microk8s-ingress-or-loadbalancer-not-working-in-local-single-node-cluster https://stackoverflow.com/questions/63346728/issuing-certificate-as-secret-does-not-exist https://superuser.com/questions/878807/how-to-boot-apple-mac-via-pxe-custom-mini-linux https://techoverflow.net/2020/04/18/how-to-fix-elasticsearch-docker-accessdeniedexception-usr-share-elasticsearch-data-nodes/ https://unix.stackexchange.com/questions/106304/route-add-no-longer-works-when-i-connected-to-vpn-via-cisco-anyconnect-client/501094#501094 https://www.autodesk.com/support/technical/article/caas/sfdcarticles/sfdcarticles/Enabling-network-NFS-shares-in-Mac-OS-X.html https://www.datree.io/resources/kubernetes-troubleshooting-fixing-persistentvolumeclaims-error https://komodor.com/learn/how-to-fix-crashloopbackoff-kubernetes-error/ https://medium.com/@olivier.gaumond/why-am-i-able-to-bind-a-privileged-port-in-my-container-without-the-net-bind-service-capability-60972a4d5496 https://saturncloud.io/blog/how-to-log-in-to-the-microk8s-kubernetes-dashboard-a-guide-for-data-scientists/ https://saturncloud.io/blog/solving-kubernetes-nfs-persistent-volumes-permission-denied-a-guide/ https://saturncloud.io/blog/solving-the-pod-has-unbound-immediate-persistentvolumeclaims-issue-in-kubernetes-nfs-volume/ https://serverfault.com/questions/870483/nfs-and-all-squash-confusions https://serverfault.com/questions/906083/how-to-mount-volume-with-specific-uid-in-kubernetes-pod https://unix.stackexchange.com/questions/106304/route-add-no-longer-works-when-i-connected-to-vpn-via-cisco-anyconnect-client/501094#501094 https://github.com/canonical/microk8s/issues/2108 https://github.com/canonical/microk8s/issues/276 https://github.com/canonical/microk8s/issues/4041 https://github.com/elastic/helm-charts/issues/137 https://github.com/hashicorp/vagrant/issues/9200 https://github.com/pires/kubernetes-elasticsearch-cluster/issues/205 https://stackoverflow.com/questions/23396679/vagrant-setting-a-vms-mac-address-in-a-private-network-hostonly https://stackoverflow.com/questions/12538162/setting-a-vms-mac-address-in-vagrant https://stackoverflow.com/questions/26246840/how-to-set-eth0-mac-address-in-vagrant-with-the-vmware-provisioner https://stackoverflow.com/questions/39655478/update-vms-bridged-mac-address-with-vagrant https://developer.hashicorp.com/vagrant/docs/vagrantfile/machine_settings#config-vm-base_mac https://stackoverflow.com/questions/56243121/can-i-set-custom-ports-for-a-kubernetes-ingress-to-listen-on-besides-80-443 https://stackoverflow.com/questions/19648088/pass-environment-variables-to-vagrant-shell-provisioner https://stackoverflow.com/questions/33250304/how-to-automatically-select-bridged-network-interfaces-in-vagrant https://linux.die.net/man/8/useradd https://stackoverflow.com/questions/30075461/how-do-i-add-my-own-public-key-to-vagrant-vm https://stackoverflow.com/questions/29450404/is-there-a-default-password-to-connect-to-vagrant-when-using-homestead-ssh-for https://github.com/MicrosoftEdge/dev.microsoftedge.com-vms/issues/21 https://stackoverflow.com/questions/19648088/pass-environment-variables-to-vagrant-shell-provisioner https://github.com/hashicorp/vagrant/issues/7015 https://unix.stackexchange.com/questions/52313/how-to-get-execution-time-of-a-script-effectively https://serverfault.com/questions/628989/how-to-set-default-ansible-username-password-for-ssh-connection https://stackoverflow.com/questions/56243121/can-i-set-custom-ports-for-a-kubernetes-ingress-to-listen-on-besides-80-443 https://stackoverflow.com/questions/37434598/ansible-sudo-without-password https://medium.com/programmers-journey/dead-simple-include-env-variables-in-kubernetes-deployment-yaml-1c0e8f859fde https://stackoverflow.com/questions/44637996/docker-compose-up-postgresql-error-chown-changing-ownership-of-var-lib-postg https://www.itwonderlab.com/postgres-kubernetes-nfs-volume/ https://stackoverflow.com/questions/24288616/permission-denied-on-accessing-host-directory-in-docker https://stackoverflow.com/questions/51000791/how-to-mount-hostpath-volume-in-kubernetes-with-selinux/51026623#51026623 https://www.thegeekstuff.com/2017/07/chcon-command-examples/ https://github.com/docker-library/postgres/issues/116 https://forums.rancher.com/t/statefulset-postgres-chmod-changing-permissions-of-var-run-postgresql-operation-not-permitted-chown-changing-ownership-of-var-lib-postgresql-data-pgdata-operation-not-permitted/21080 https://www.itwonderlab.com/postgres-kubernetes-nfs-volume/ https://gist.github.com/FarooqKhan/7a81b1aa8167f1a927b82731ec435872 https://www.crunchydata.com/blog/stateful-postgres-storage-using-kubernetes https://stackoverflow.com/questions/65046709/what-is-the-correct-way-to-manage-kubernetes-nfs-pv-permissions-for-postgres https://stackoverflow.com/questions/44637996/docker-compose-up-postgresql-error-chown-changing-ownership-of-var-lib-postg https://medium.com/@panda1100/solutions-for-operation-not-permitted-error-when-postgresql-is-running-on-docker-using-vagrants-3db360ca2c03 https://github.com/docker-library/postgres/issues/361 https://stackoverflow.com/questions/63602827/rookio-ceph-cluster-mon-c-is-low-on-available-space-message https://superuser.com/questions/131519/what-is-this-dm-0-device/131520 https://askubuntu.com/questions/1406697/extend-lvm-size https://packetpushers.net/ubuntu-extend-your-default-lvm-space/ https://www.baeldung.com/linux/apfs-partition-mount https://packages.fedoraproject.org/pkgs/apfs-fuse/apfs-fuse/ https://linuxconfig.org/how-to-install-g-the-c-compiler-on-ubuntu-22-04-lts-jammy-jellyfish-linux https://linuxnewbieguide.org/how-to-mount-macos-apfs-disk-volumes-in-linux/ https://github.com/libyal/libfvde/wiki/Mounting https://askubuntu.com/questions/1148390/mount-macbook-partition-on-ubuntu-unknown-filesystem-hfs-apfs https://packetpushers.net/ubuntu-extend-your-default-lvm-space/ https://github.com/canonical/microk8s/issues/885 https://askubuntu.com/questions/406787/best-way-add-nopasswd-vagrant-user https://stackoverflow.com/questions/57570423/net-http-request-canceled-while-waiting-for-connection-client-timeout-exceeded https://stackoverflow.com/questions/51963258/unable-to-get-monitor-info-from-dns-srv-with-service-name-ceph-mon https://github.com/rook/rook/issues/3595 https://github.com/rook/rook/issues/11521 https://forum.proxmox.com/threads/ceph-mirroring-unable-to-get-monitor-info-from-dns-srv-with-service-name-ceph-mon.128066/ https://superuser.com/questions/1306167/how-is-passwordless-sudo-achieved-for-the-vagrant-user https://askubuntu.com/questions/406787/best-way-add-nopasswd-vagrant-user https://superuser.com/questions/1623376/how-can-i-make-my-own-account-a-sudoers-on-virtualbox https://askubuntu.com/questions/406787/best-way-add-nopasswd-vagrant-user https://stackoverflow.com/questions/44315842/execute-a-command-by-switching-to-root-user-in-ansible https://stackoverflow.com/questions/39522326/how-do-i-append-a-large-amount-of-text-to-a-file-using-ansible https://www.reddit.com/r/ansible/comments/sn9l9d/microk8s_join_cluster_with_ansible/ https://docs.ansible.com/ansible/latest/collections/community/general/snap_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/blockinfile_module.html https://www.lakshminp.com/installing-microk8s-using-ansible/ https://fabianlee.org/2021/07/25/kubernetes-microk8s-cluster-on-ubuntu-using-ansible/ https://www.reddit.com/r/ansible/comments/sn9l9d/microk8s_join_cluster_with_ansible/ https://stackoverflow.com/questions/30226113/ansible-ssh-prompt-known-hosts-issue https://www.freekb.net/Article?id=2986 https://serverfault.com/questions/537060/how-to-see-stdout-of-ansible-commands https://serverfault.com/questions/1108319/checking-missing-nodes-in-microk8s-cluster-with-ansible https://stackoverflow.com/questions/39769560/cant-change-base-memory-in-virtualbox https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/configuration https://stackoverflow.com/questions/12308149/how-do-i-increase-the-ram-and-set-up-host-only-networking-in-vagrant https://www.thisprogrammingthing.com/2021/Vagrant-Development-Environment-Customizing-The-Amount-of-RAM/ https://www.virtualbox.org/manual/ch12.html https://documentation.suse.com/ses/7.1/html/ses-all/bp-troubleshooting-dashboard.html https://discuss.linuxcontainers.org/t/introducing-microceph/15457/42 https://stackoverflow.com/questions/69322849/rook-ceph-provisioning-issue https://github.com/rook/rook/issues/11464 https://lists.ceph.io/hyperkitty/list/ceph-users@ceph.io/thread/ZJIAEWGCAFAMNAPOXFW7FIKJVLYWHZPG/ https://forum.proxmox.com/threads/ceph-pacific-issue.127987/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-common-issues/ https://stackoverflow.com/questions/65593899/ceph-health-warn-degraded-data-redundancy-pgs-undersized-after-reweighting https://github.com/rook/rook/issues/8749 https://github.com/rook/rook/issues/8696 https://github.com/rook/rook/issues/8727 https://stackoverflow.com/questions/63974879/microk8s-metallb-ingress-nginx-how-to-route-external-traffic https://stackoverflow.com/questions/43941772/get-yaml-for-deployed-kubernetes-services https://stackoverflow.com/questions/69048829/need-support-on-using-git-sync-and-persistent-volumes https://github.com/kubernetes/kubernetes/issues/20466 https://stackoverflow.com/questions/51317681/how-to-mount-the-sub-path-of-pvc-to-the-specific-path-in-container https://kubernetes.github.io/ingress-nginx/examples/rewrite/#app-root https://v0-3-0--metallb.netlify.app/tutorial/arp/ https://metallb.universe.tf/troubleshooting/ https://github.com/kubernetes-sigs/kind/issues/1449 https://community.temporal.io/t/deadline-exceeded-error-with-helm-charts-deployment/3636/9 https://github.com/cert-manager/cert-manager/issues/2517 https://stackoverflow.com/questions/75546753/ceph-fix-activeundersizeddegraded-pgs-after-removing-an-osd https://www.reddit.com/r/ceph/comments/11ehf6u/pgs_stuck_in_undersized_mode_for_a_long_time/ https://ceph-users.ceph.narkive.com/GfJL0JTk/pg-status-is-active-undersized-degraded https://forum.proxmox.com/threads/change-num-replicas-on-ceph-rool-online.25904/ https://forum.proxmox.com/threads/please-help-ceph-pool-stuck-at-undersized-degraded-remapped-backfill_toofull-peered.121690/ https://forum.proxmox.com/threads/ceph-pool-created-using-mgr.120226/ https://stackoverflow.com/questions/63456581/1-pg-undersized-health-warn-in-rook-ceph-on-single-node-clusterminikube?rq=3 https://h30434.www3.hp.com/t5/Desktop-Hardware-and-Upgrade-Questions/HP-t630-Thin-Client-will-it-accept-SSD-M-2-SATA-storage/td-p/8833395 https://forums.servethehome.com/index.php?threads/does-hp-thin-client-t630-support-nvme.28141/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-common-issues/ https://discuss.linuxcontainers.org/t/microceph-with-more-than-3-nodes/17469 https://docs.ceph.com/en/latest/mgr/orchestrator_modules/ https://stackoverflow.com/questions/38959525/hide-git-directory-or-file-with-apache https://tecadmin.net/block-git-directory-in-apache-nginx/ https://serverfault.com/questions/128069/how-do-i-prevent-apache-from-serving-the-git-directory https://helm.sh/docs/helm/helm_uninstall/ https://canonical-microcloud.readthedocs-hosted.com/en/latest/how-to/commands/ https://microcloud.is/ https://ubuntu.com/blog/one_command_micro_cloud https://stackoverflow.com/questions/51718202/helm-how-to-define-release-name-value https://github.com/helm/helm/issues/6992 https://stackoverflow.com/questions/51783651/how-to-create-a-namespace-if-it-doesnt-exists-from-helm-templates https://stackoverflow.com/questions/52636571/how-to-pass-dynamic-arguments-to-a-helm-chart-that-runs-a-job https://kubernetes.io/docs/concepts/storage/volumes/#using-subpath https://stackoverflow.com/questions/65399714/what-is-the-difference-between-subpath-and-mountpath-in-kubernetes https://multipass.run/docs/authenticating-clients https://github.com/canonical/multipass/issues/1714 https://github.com/canonical/multipass/issues/973 https://bugs.launchpad.net/juju/+bug/1892389 https://stackoverflow.com/questions/61069841/helm-template-debug-or-helm-install-dry-run-debug-which-is-best https://helm.sh/docs/chart_template_guide/debugging/ https://github.com/helm/helm/issues/4574 https://github.com/bitnami/charts/issues/2720 https://serverfault.com/questions/356493/apache2-why-limitexcept-parameter-results-deny-not-allowed-here-error-in-vi https://kodekloud.com/blog/debug-crashloopbackoff/ https://discuss.elastic.co/t/filebeat-not-able-to-find-logs-on-microk8/182023 https://discuss.hashicorp.com/t/0-3-nodes-are-available-pod-has-unbound-immediate-persistentvolumeclaims/51642 https://stackoverflow.com/questions/33415913/whats-the-best-way-to-share-mount-one-file-into-a-pod/43404857#43404857 https://stackoverflow.com/questions/47305658/install-snap-packages-with-ansible https://stackoverflow.com/questions/73421967/how-to-use-git-sync-image-as-a-sidecar-in-kubernetes-that-git-pulls-periodically https://release.com/blog/kubernetes-how-to-debug-crashloopbackoff-in-a-container https://askubuntu.com/questions/1482503/ubuntu-server-22-04-3-lts-system-has-been-minimized https://ansiblepilot.medium.com/ansible-troubleshooting-error-no-module-named-markupsafe-8c9f45dae5b5 https://askubuntu.com/questions/1379866/not-showing-available-ram https://www.reddit.com/r/kubernetes/comments/ypfi4l/how_to_create_readwritemany_persistent_volumes/ https://github.com/rook/rook/issues/5936 https://github.com/rook/rook/issues/4209 https://github.com/canonical/microceph/issues/23 https://github.com/canonical/microceph/issues/145 https://github.com/canonical/microceph/issues/251 https://github.com/canonical/microceph/issues https://stackoverflow.com/questions/63781025/microk8s-remote-with-kubectl-you-must-be-logged-in-to-the-server-unauthorized https://github.com/helm/helm/issues/3134","title":"Discussions"},{"location":"requirementBackground/","text":"Background Since the late 1990s, a number of websites, applications and services have been implemented on a local site, some exposed to the Internet, and some for network internal access only. This infrastructures has served the requirements of a few people, and legal entities, some of which still have dependencies on these services. This functionality has been built as a residential on-premise set of solutions running on workstation hardware repurposed as servers, the first of these being a \"Alf\", a 75 MHz Pentium, with 40 M RAM. While it is difficult to imagine now, Alf, with it's limited resources by today's standards, would have run the Slackware distribution of Linux, with an application written for the Zope object publishing platform, with Postgres as database server. It would have provided additional services alongside the application server solution. None of these services were exposed on the Internet until about 2005. The first domain invoice was issued in 2008, before which free dynamic dns domains were used to serve applications and content. The first application running on-premise was a line of business application for property syndicate management, property rental management, and general purpose book-keeping and accounting reporting functionality. Over time, personal blogs, online book sales, and a cake marketing site were added. On site services grew to include mail archives, file serving, and several minecraft worlds. Of these all, the syndicate management and accounting applications are still critical, with the mail and file store solutions being used only occasionally. Faced with the shutdown of the site, and the absence of a suitable replacement site for four to six months, a plan is required to provide ongoing services. The services will need to run with no change in service delivery, after the current physical site is shut down. For some months a new site will not be available, so accommodation for the services will need to be arranged in the intervening months. High Level Roadmap The following implementation approach will be taken: Migrate the services to a redundant highly available configuration, on site, using a set of servers, and related network configuration. Arrange rented / shared accommodation, and set the servers and networking up to be remotely accessed and administered. All source information, including site code and data to be available independently of the site, on the Internet, to support second site build. When relocated, set up an equivalent new site, providing site redundancy.","title":"Background"},{"location":"requirementBackground/#background","text":"Since the late 1990s, a number of websites, applications and services have been implemented on a local site, some exposed to the Internet, and some for network internal access only. This infrastructures has served the requirements of a few people, and legal entities, some of which still have dependencies on these services. This functionality has been built as a residential on-premise set of solutions running on workstation hardware repurposed as servers, the first of these being a \"Alf\", a 75 MHz Pentium, with 40 M RAM. While it is difficult to imagine now, Alf, with it's limited resources by today's standards, would have run the Slackware distribution of Linux, with an application written for the Zope object publishing platform, with Postgres as database server. It would have provided additional services alongside the application server solution. None of these services were exposed on the Internet until about 2005. The first domain invoice was issued in 2008, before which free dynamic dns domains were used to serve applications and content. The first application running on-premise was a line of business application for property syndicate management, property rental management, and general purpose book-keeping and accounting reporting functionality. Over time, personal blogs, online book sales, and a cake marketing site were added. On site services grew to include mail archives, file serving, and several minecraft worlds. Of these all, the syndicate management and accounting applications are still critical, with the mail and file store solutions being used only occasionally. Faced with the shutdown of the site, and the absence of a suitable replacement site for four to six months, a plan is required to provide ongoing services. The services will need to run with no change in service delivery, after the current physical site is shut down. For some months a new site will not be available, so accommodation for the services will need to be arranged in the intervening months.","title":"Background"},{"location":"requirementBackground/#high-level-roadmap","text":"The following implementation approach will be taken: Migrate the services to a redundant highly available configuration, on site, using a set of servers, and related network configuration. Arrange rented / shared accommodation, and set the servers and networking up to be remotely accessed and administered. All source information, including site code and data to be available independently of the site, on the Internet, to support second site build. When relocated, set up an equivalent new site, providing site redundancy.","title":"High Level Roadmap"},{"location":"requirementBusinessBrief/","text":"QApps Business Brief Business Brief: As-is Services include QApps Accounting, and line of business functions for property syndication, and property rental closed corporates. These are currently running in an Ubuntu VirtualBox client instance hosted on an Ubuntu host (bukit). Also running in the VirtualBox client is a mail server, serving a static email archive. An Apache server is running at OS level on the Ubuntu host, serving static web pages. The Ubuntu host runs on-premise, connected to the internet via a fibre router. The fibre router provides bukit with a static IP and port forwarding of https traffic on the dynamic WAN address to port 443 for the Apache server, and port 8080 for the Zope listener. The static email archive is not accessible from the Internet. The hostname \"qsolutions.endoftheinternet.org\" is resolved to the WAN address using DynDns . Let's Encrypt is used as CA for the SSL certificate. Backups are stored on premise, distributed across hosts, with ad-hoc manual copy onto off-premise media Assets (various ownership and type, including images, videos, and documents) are stored on premise, distributed across hosts, with ad-hoc manual copy onto off-premise media Business Brief: To-be Consolidation of web apps and content Build Zope and Postgresql platform for legacy applications Build automated load of apps and data Consolidation of hardware and network solution, with secure external access, on current SA site. Local relocation of site to shared accommodation in SA On arrival in UK, build redundant site in temporary accommodation Local relocation of site to permanent accommodation in UK Distributed Storage for assets Backup storage to iCloud GitHub for config, docs and code Backup GitHub to Storage IoT Edge presence on each premise MVP deliverables Containerised Services: Zope Postgres Mail Apache Minecraft Operationalisation: Combine Zope and Apache traffic onto one listener Send DB backups to iCloud Remote admin: Secure external access Access cluster from tools on laptop client from internet Workload success criteria [X] https access from on site browser [X] https access from off site browser [X] Web: Browse static sites [X] Web: Download ebooks [ ] QApps application server: Generate and View accounting report, Add and view transaction. [ ] Mail: Access Medico-Legal mail archive from 3rd party mac client","title":"QApps Business Brief"},{"location":"requirementBusinessBrief/#qapps-business-brief","text":"","title":"QApps Business Brief"},{"location":"requirementBusinessBrief/#business-brief-as-is","text":"Services include QApps Accounting, and line of business functions for property syndication, and property rental closed corporates. These are currently running in an Ubuntu VirtualBox client instance hosted on an Ubuntu host (bukit). Also running in the VirtualBox client is a mail server, serving a static email archive. An Apache server is running at OS level on the Ubuntu host, serving static web pages. The Ubuntu host runs on-premise, connected to the internet via a fibre router. The fibre router provides bukit with a static IP and port forwarding of https traffic on the dynamic WAN address to port 443 for the Apache server, and port 8080 for the Zope listener. The static email archive is not accessible from the Internet. The hostname \"qsolutions.endoftheinternet.org\" is resolved to the WAN address using DynDns . Let's Encrypt is used as CA for the SSL certificate. Backups are stored on premise, distributed across hosts, with ad-hoc manual copy onto off-premise media Assets (various ownership and type, including images, videos, and documents) are stored on premise, distributed across hosts, with ad-hoc manual copy onto off-premise media","title":"Business Brief: As-is"},{"location":"requirementBusinessBrief/#business-brief-to-be","text":"Consolidation of web apps and content Build Zope and Postgresql platform for legacy applications Build automated load of apps and data Consolidation of hardware and network solution, with secure external access, on current SA site. Local relocation of site to shared accommodation in SA On arrival in UK, build redundant site in temporary accommodation Local relocation of site to permanent accommodation in UK Distributed Storage for assets Backup storage to iCloud GitHub for config, docs and code Backup GitHub to Storage IoT Edge presence on each premise","title":"Business Brief: To-be"},{"location":"requirementBusinessBrief/#mvp-deliverables","text":"Containerised Services: Zope Postgres Mail Apache Minecraft Operationalisation: Combine Zope and Apache traffic onto one listener Send DB backups to iCloud Remote admin: Secure external access Access cluster from tools on laptop client from internet","title":"MVP deliverables"},{"location":"requirementBusinessBrief/#workload-success-criteria","text":"[X] https access from on site browser [X] https access from off site browser [X] Web: Browse static sites [X] Web: Download ebooks [ ] QApps application server: Generate and View accounting report, Add and view transaction. [ ] Mail: Access Medico-Legal mail archive from 3rd party mac client","title":"Workload success criteria"},{"location":"requirementIntroduction/","text":"Introduction The requirements will be documented, first by providing some detail on the background environment and the high level road-map. The business requirement is then documented as a \"Business Brief\". This includes \"As-is\" and \"To-be\" descriptions, and define Minimum Viable Product (MVP) definition, with operational imperatives. Workload success criteria, in the form of high level test results to be met for the MVP iteration are also defined.","title":"Introduction"},{"location":"requirementIntroduction/#introduction","text":"The requirements will be documented, first by providing some detail on the background environment and the high level road-map. The business requirement is then documented as a \"Business Brief\". This includes \"As-is\" and \"To-be\" descriptions, and define Minimum Viable Product (MVP) definition, with operational imperatives. Workload success criteria, in the form of high level test results to be met for the MVP iteration are also defined.","title":"Introduction"},{"location":"requirementRadio/","text":"Radio Requirements Build a radio station on the kubernetes cluster. The Minimum Viable Product uses existing infrastructure, audio equipment and vinyl library. Minimum Viable Product Themes Icecast - Stream audio tracks from network file storage DJ - Schedule playlists of uploaded content Radio - Stream in from icecast source for broadcast from a DJ installation Listener - View Radio Station web page with embedded playback and schedule Functional Breakdown MVP Use cases [X] Admin: Create Programme Manager [X] Programme Manager: Create DJ user [X] Programme Manager: Create Show [X] DJ: Create Playlist [X] DJ: Upload tracks [X] DJ: Add track to playlist [X] DJ: Assign tracks and playlist to Show Non-Functional Requirements [X] Security: Administration access [X] Radio: Domain registration and email forwarding: radio@muso.club [ ] Social media registrations [X] YouTube channel [X] Website: DJ Profiles [ ] Website: Social media links [ ] Icecast: Configure for directory listing [ ] Failover: Automated recovery on node failure Tasklist Issues and bugs [X] Media upload limited to 8MB - configure for 15MB [ ] Media upload limited to 15MB - configure for +++MB [ ] Router: Losing port forwarding [ ] Buffer size gives 10s delay before a listener plays [ ] Fix Radio incoming streaming sources Station Build [X] Library: 12\" Vinyl {clean, sort, select and record} [X] Library: 7\" Vinyl {clean, sort, select and record} [X] CD Library: Select and dub [X] Turntables [X] Mixer [X] Microphone [X] Audio Interface: vinyl [X] Audio Interface: live streaming [X] Hardware: k8s cluster dev (devcluster) [X] Hardware: k8s cluster prod (norham) [X] Installation: Admin tools {kubectl,k8s} [X] Installation: DJ Tools: butt {vinyl recording, live streaming} [X] Installation: DJ Tools: mixxx {DJ session, with microphone} System Build [X] Flex radio system definition [X] Ingress for Radio Console [X] Ingress for Media Upload [X] Ingress for Radio Listener [X] Ingress for Field streaming client [X] Configuration: ogg -> mp3 stream [X] Default schedule [ ] YouTube interviews [ ] Intros, Exits, and Jingles [ ] Media kit [X] Site Copy [X] Bio Template [ ] About Us [ ] Build: Backup and restore [X] Email address [X] Social Media: YouTube [ ] Paperwork (see below) [X] Security: override chart default passwords [ ] Bulk track upload [ ] Fallback Icecast stream Jingles Muso Club: Music is for playing. But you can listen to it. Muso Club Radio: From the InterWeb, into your head! Join the club. Radio@MusoClub Bio Template Featured image Logo Contact details YouTube interview Free-form Bio paragraph Regular or upcoming gigs Social media links Audio tracks Radio@Muso.Club YouTube interviews Welcome to Music Club! Today we're going to be interviewing <> Hi <>! Welcome to the Music Club. We're going to ask you a few questions for your biography on Radio@MusicClub. Are you ready to go? In which month of the year were you born? What is your first memory of music? What music did your parents listen to? What are your top 3 favourite genres? Any genre you prefer not to hear? What music do you most like to listen to at different times of the day? In the morning In the afternoon In the evening In the late evening Do you ever need there to be no music? For how long can you handle silence? What music do you most like making? Favourite musical instrument to listen to? What is your favourite concert memory? Did you learn to play a musical instrument as a kid? And sing? Favourite musical instrument to play? Next 3 most favourite instruments to play? Do you have a Best Gig ? Worst gig ? Any upcoming gigs? If you could jam with any artist, who would it be? For your bio, which of the answers above would you most like included in a description of you? Interviews: [ ] Niko: Musician Interviewer [ ] Thandi: Creatives [ ] Torrell: Featured Musician [ ] Johnathan: Featured Musician [ ] Kholeho: Featured Musician Default Schedule Build themed playlists for daily use (to fill the programme in POV phase), for example: Classical Blues Jazz Class of '84 60s Favourite Females Reggae Rock As collaborators come on line, starting in POV phase, substitute playlist slots with: Live performances Live DJ slots Original Collections Talk shows Interviews {starting with DJs and Collaborators} Record these, where applicable for re-run purposes. Test [X] DJ Creation [X] Playlist creation [X] Session (repeat) creation [X] Streaming session from BUTT [X] Streaming session from MIXXX [X] Streaming session from iziCast iPhone [X] Streaming session from Field Audio Interface [X] Off-premise session streaming [X] Streaming authentication and cut-over [X] Audio file upload [X] DJ Creation [X] Playlist creation [X] Session (repeat) creation [X] Listening client: Mac browser [X] Listening client: Windows browser [X] Listening client: iPhone browser [ ] Listening client: Android browser [X] Backup: Station [ ] Backup: Media [X] Backup: Website [ ] Restore: Station [ ] Restore: Media [X] Restore: Website [X] Listening soak [ ] Listening load [ ] Failover Operations and Management Interest gauged positive on all engagements checked. [X] Creative Brief for site structure, branding and content {Thandi} [ ] Domain and iconography specification {All} [ ] Role Player: DJs {Torrell, Knott, Amy, Sub Templa, Lash, Cal, Tommy Lewis} [ ] Role Player: Technical Administrator {Jim, + protege} [ ] Role Player: Station Administrator {Tom} [ ] Role Player: Field Support {Max, Charles, Martin, Torrell} [ ] Role Player: Administrators {users, backups, tech support} [ ] Role Player: Program Managers {Stew, Torrell} [ ] Role Player: DJ Onboarding {djclient,bio,branding} [ ] Role Player: Radio Site Management [ ] Role Player: Campaign Manager {Gabby, Kanye} [ ] Role Player: YouTube Channel {Kanye} [ ] Role Player: Sponsor/Owner {Martin, Charles, Stew, Jay} [ ] Role Player: Advertising sales {Kanye} DJ Onboarding Torrell Michael Gabby Palmer Amy Willow Stewart Jonathan Casa Luna Nathan and Sarah Michael - (heavy sessions) Paperwork [ ] DJ, Artist consent process [ ] DJ Onboarding process [ ] Station Scheduling process [X] Broadcast Licencing commitments [ ] Collaborator agreements [ ] Radio Directory listings [ ] Site maintenance: DJ and Artist Bios","title":"Radio Requirements"},{"location":"requirementRadio/#radio-requirements","text":"Build a radio station on the kubernetes cluster. The Minimum Viable Product uses existing infrastructure, audio equipment and vinyl library.","title":"Radio Requirements"},{"location":"requirementRadio/#minimum-viable-product-themes","text":"Icecast - Stream audio tracks from network file storage DJ - Schedule playlists of uploaded content Radio - Stream in from icecast source for broadcast from a DJ installation Listener - View Radio Station web page with embedded playback and schedule","title":"Minimum Viable Product Themes"},{"location":"requirementRadio/#functional-breakdown","text":"","title":"Functional Breakdown"},{"location":"requirementRadio/#mvp-use-cases","text":"[X] Admin: Create Programme Manager [X] Programme Manager: Create DJ user [X] Programme Manager: Create Show [X] DJ: Create Playlist [X] DJ: Upload tracks [X] DJ: Add track to playlist [X] DJ: Assign tracks and playlist to Show","title":"MVP Use cases"},{"location":"requirementRadio/#non-functional-requirements","text":"[X] Security: Administration access [X] Radio: Domain registration and email forwarding: radio@muso.club [ ] Social media registrations [X] YouTube channel [X] Website: DJ Profiles [ ] Website: Social media links [ ] Icecast: Configure for directory listing [ ] Failover: Automated recovery on node failure","title":"Non-Functional Requirements"},{"location":"requirementRadio/#tasklist","text":"","title":"Tasklist"},{"location":"requirementRadio/#issues-and-bugs","text":"[X] Media upload limited to 8MB - configure for 15MB [ ] Media upload limited to 15MB - configure for +++MB [ ] Router: Losing port forwarding [ ] Buffer size gives 10s delay before a listener plays [ ] Fix Radio incoming streaming sources","title":"Issues and bugs"},{"location":"requirementRadio/#station-build","text":"[X] Library: 12\" Vinyl {clean, sort, select and record} [X] Library: 7\" Vinyl {clean, sort, select and record} [X] CD Library: Select and dub [X] Turntables [X] Mixer [X] Microphone [X] Audio Interface: vinyl [X] Audio Interface: live streaming [X] Hardware: k8s cluster dev (devcluster) [X] Hardware: k8s cluster prod (norham) [X] Installation: Admin tools {kubectl,k8s} [X] Installation: DJ Tools: butt {vinyl recording, live streaming} [X] Installation: DJ Tools: mixxx {DJ session, with microphone}","title":"Station Build"},{"location":"requirementRadio/#system-build","text":"[X] Flex radio system definition [X] Ingress for Radio Console [X] Ingress for Media Upload [X] Ingress for Radio Listener [X] Ingress for Field streaming client [X] Configuration: ogg -> mp3 stream [X] Default schedule [ ] YouTube interviews [ ] Intros, Exits, and Jingles [ ] Media kit [X] Site Copy [X] Bio Template [ ] About Us [ ] Build: Backup and restore [X] Email address [X] Social Media: YouTube [ ] Paperwork (see below) [X] Security: override chart default passwords [ ] Bulk track upload [ ] Fallback Icecast stream","title":"System Build"},{"location":"requirementRadio/#jingles","text":"Muso Club: Music is for playing. But you can listen to it. Muso Club Radio: From the InterWeb, into your head! Join the club. Radio@MusoClub","title":"Jingles"},{"location":"requirementRadio/#bio-template","text":"Featured image Logo Contact details YouTube interview Free-form Bio paragraph Regular or upcoming gigs Social media links Audio tracks","title":"Bio Template"},{"location":"requirementRadio/#radiomusoclub-youtube-interviews","text":"Welcome to Music Club! Today we're going to be interviewing <> Hi <>! Welcome to the Music Club. We're going to ask you a few questions for your biography on Radio@MusicClub. Are you ready to go? In which month of the year were you born? What is your first memory of music? What music did your parents listen to? What are your top 3 favourite genres? Any genre you prefer not to hear? What music do you most like to listen to at different times of the day? In the morning In the afternoon In the evening In the late evening Do you ever need there to be no music? For how long can you handle silence? What music do you most like making? Favourite musical instrument to listen to? What is your favourite concert memory? Did you learn to play a musical instrument as a kid? And sing? Favourite musical instrument to play? Next 3 most favourite instruments to play? Do you have a Best Gig ? Worst gig ? Any upcoming gigs? If you could jam with any artist, who would it be? For your bio, which of the answers above would you most like included in a description of you? Interviews: [ ] Niko: Musician Interviewer [ ] Thandi: Creatives [ ] Torrell: Featured Musician [ ] Johnathan: Featured Musician [ ] Kholeho: Featured Musician","title":"Radio@Muso.Club YouTube interviews"},{"location":"requirementRadio/#default-schedule","text":"Build themed playlists for daily use (to fill the programme in POV phase), for example: Classical Blues Jazz Class of '84 60s Favourite Females Reggae Rock As collaborators come on line, starting in POV phase, substitute playlist slots with: Live performances Live DJ slots Original Collections Talk shows Interviews {starting with DJs and Collaborators} Record these, where applicable for re-run purposes.","title":"Default Schedule"},{"location":"requirementRadio/#test","text":"[X] DJ Creation [X] Playlist creation [X] Session (repeat) creation [X] Streaming session from BUTT [X] Streaming session from MIXXX [X] Streaming session from iziCast iPhone [X] Streaming session from Field Audio Interface [X] Off-premise session streaming [X] Streaming authentication and cut-over [X] Audio file upload [X] DJ Creation [X] Playlist creation [X] Session (repeat) creation [X] Listening client: Mac browser [X] Listening client: Windows browser [X] Listening client: iPhone browser [ ] Listening client: Android browser [X] Backup: Station [ ] Backup: Media [X] Backup: Website [ ] Restore: Station [ ] Restore: Media [X] Restore: Website [X] Listening soak [ ] Listening load [ ] Failover","title":"Test"},{"location":"requirementRadio/#operations-and-management","text":"Interest gauged positive on all engagements checked. [X] Creative Brief for site structure, branding and content {Thandi} [ ] Domain and iconography specification {All} [ ] Role Player: DJs {Torrell, Knott, Amy, Sub Templa, Lash, Cal, Tommy Lewis} [ ] Role Player: Technical Administrator {Jim, + protege} [ ] Role Player: Station Administrator {Tom} [ ] Role Player: Field Support {Max, Charles, Martin, Torrell} [ ] Role Player: Administrators {users, backups, tech support} [ ] Role Player: Program Managers {Stew, Torrell} [ ] Role Player: DJ Onboarding {djclient,bio,branding} [ ] Role Player: Radio Site Management [ ] Role Player: Campaign Manager {Gabby, Kanye} [ ] Role Player: YouTube Channel {Kanye} [ ] Role Player: Sponsor/Owner {Martin, Charles, Stew, Jay} [ ] Role Player: Advertising sales {Kanye}","title":"Operations and Management"},{"location":"requirementRadio/#dj-onboarding","text":"Torrell Michael Gabby Palmer Amy Willow Stewart Jonathan Casa Luna Nathan and Sarah Michael - (heavy sessions)","title":"DJ Onboarding"},{"location":"requirementRadio/#paperwork","text":"[ ] DJ, Artist consent process [ ] DJ Onboarding process [ ] Station Scheduling process [X] Broadcast Licencing commitments [ ] Collaborator agreements [ ] Radio Directory listings [ ] Site maintenance: DJ and Artist Bios","title":"Paperwork"},{"location":"technicalApplication/","text":"Application Build Platform requirement Zope Python based Application server Python Postgress driver Zope Postgres driver wrapper Postgress Database Database GUI Migration Move ularu VM from bukit (to be recovered) to antecessor Export VM in .ova format Test on james (final target server) Importing VM on james VBoxManage import UbuntuAppServerClean202401.ova --dry-run VBoxManage import UbuntuAppServerClean202401.ova VBoxManage list vms VBoxManage startvm \"Ubuntu App Server\" --type headless Waiting for VM \"Ubuntu App Server\" to power on... VBoxManage: error: Nonexistent host networking interface, name 'enp3s0f0' (VERR_INTERNAL_ERROR) VBoxManage: error: Details: code NS_ERROR_FAILURE (0x80004005), component ConsoleWrap, interface IConsole ip address show | grep enp 2: enp1s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000 inet 192.168.0.14/24 metric 100 brd 192.168.0.255 scope global enp1s0 VBoxManage showvminfo \"Ubuntu App Server\" VBoxManage modifyvm \"Ubuntu App Server\" --nic2 bridged --bridgeadapter1 enp1s0 Did not work, needed to change <BridgedInterface name=\"enp1s0\"/> in /home/colleymj/VirtualBox VMs/Ubuntu App Server/Ubuntu App Server.vbox VBoxManage: error: AMD-V is disabled in the BIOS (or by the host OS) (VERR_SVM_DISABLED) VBoxManage modifyvm \"Ubuntu App Server\" --cpus 1 VBoxManage modifyvm \"Ubuntu App Server\" --paravirtprovider none Dyn DNS sudo apt install ddclient user; qapps hosts: southern.podzone.net,musings.thruhere.net,qsolutions.endoftheinternet.org,docs.podzone.net,mottttspot.servegame.org,poc.endoftheinternet.org Data take-on Postgress export from legacy implementation Import into new Postgress instance Implementation Zope Initial install of Plone, provides Zope 4, which is not backward compatable with the Zope 2 applications, so use a legacy zope image. Legacy Zope image selected: robcast/legacy-zope:2.13 Zope volume mounts: ./var/filestorage; ./var/blobstorage; ./products Postgres nfs not working for postgres volume, issues with chmod (as with OpenSearch) Use cluster-internal db GUI tool to avoid requirement to provide ingress for a database port.","title":"Application Build"},{"location":"technicalApplication/#application-build","text":"","title":"Application Build"},{"location":"technicalApplication/#platform-requirement","text":"Zope Python based Application server Python Postgress driver Zope Postgres driver wrapper Postgress Database Database GUI","title":"Platform requirement"},{"location":"technicalApplication/#migration","text":"Move ularu VM from bukit (to be recovered) to antecessor Export VM in .ova format Test on james (final target server)","title":"Migration"},{"location":"technicalApplication/#importing-vm-on-james","text":"VBoxManage import UbuntuAppServerClean202401.ova --dry-run VBoxManage import UbuntuAppServerClean202401.ova VBoxManage list vms VBoxManage startvm \"Ubuntu App Server\" --type headless Waiting for VM \"Ubuntu App Server\" to power on... VBoxManage: error: Nonexistent host networking interface, name 'enp3s0f0' (VERR_INTERNAL_ERROR) VBoxManage: error: Details: code NS_ERROR_FAILURE (0x80004005), component ConsoleWrap, interface IConsole ip address show | grep enp 2: enp1s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000 inet 192.168.0.14/24 metric 100 brd 192.168.0.255 scope global enp1s0 VBoxManage showvminfo \"Ubuntu App Server\" VBoxManage modifyvm \"Ubuntu App Server\" --nic2 bridged --bridgeadapter1 enp1s0 Did not work, needed to change <BridgedInterface name=\"enp1s0\"/> in /home/colleymj/VirtualBox VMs/Ubuntu App Server/Ubuntu App Server.vbox VBoxManage: error: AMD-V is disabled in the BIOS (or by the host OS) (VERR_SVM_DISABLED) VBoxManage modifyvm \"Ubuntu App Server\" --cpus 1 VBoxManage modifyvm \"Ubuntu App Server\" --paravirtprovider none","title":"Importing VM on james"},{"location":"technicalApplication/#dyn-dns","text":"sudo apt install ddclient user; qapps hosts: southern.podzone.net,musings.thruhere.net,qsolutions.endoftheinternet.org,docs.podzone.net,mottttspot.servegame.org,poc.endoftheinternet.org","title":"Dyn DNS"},{"location":"technicalApplication/#data-take-on","text":"Postgress export from legacy implementation Import into new Postgress instance","title":"Data take-on"},{"location":"technicalApplication/#implementation","text":"","title":"Implementation"},{"location":"technicalApplication/#zope","text":"Initial install of Plone, provides Zope 4, which is not backward compatable with the Zope 2 applications, so use a legacy zope image. Legacy Zope image selected: robcast/legacy-zope:2.13 Zope volume mounts: ./var/filestorage; ./var/blobstorage; ./products","title":"Zope"},{"location":"technicalApplication/#postgres","text":"nfs not working for postgres volume, issues with chmod (as with OpenSearch) Use cluster-internal db GUI tool to avoid requirement to provide ingress for a database port.","title":"Postgres"},{"location":"technicalBuildPipeline/","text":"Build pipelines The term pipeline is used in this context as a set of interrelated automation steps that take as input a set of source code, and results in a change to the compute environment. Scope Preference will be given to a pipeline that executes independently of developer, admin, or cluster CLI dependencies. The following build processes are of interest: Content Pipeline: static sites; markdown, html, web resources; apache; git-sync API Pipeline: Java; Spring BOOT; gradle; container; kubernetes deploy IoT Pipeline: Embedded Linux; Yocto / OpenEmbedded / Buildroot / OpenWrt / LTIB Substrate Pipeline: Network boot, cloud-init https://cloudinit.readthedocs.io/en/latest/index.html API Pipeline: Tool evaluation Jib gradle plugin https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin kaniko Reference: https://github.com/GoogleContainerTools/kaniko kaniko is a tool to build container images from a Dockerfile, inside a container or Kubernetes cluster. kubectl build https://github.com/kvaps/kubectl-build Use kubectl plugin Could be useful for desktop prototyping, do not see it useful in a pipeline BuildKit CLI https://github.com/vmware-archive/buildkit-cli-for-kubectl BuildKit CLI for kubectl is a tool for building OCI and Docker images with your kubernetes cluster. Could be useful for desktop prototyping, do not see it useful in a pipeline Github actions References: https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions https://docs.github.com/en/actions/publishing-packages/publishing-docker-images https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry https://docs.github.com/en/packages/managing-github-packages-using-github-actions-workflows/publishing-and-installing-a-package-with-github-actions https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-gradle https://github.com/marketplace/actions/build-and-push-docker-images https://docs.github.com/en/packages/managing-github-packages-using-github-actions-workflows/publishing-and-installing-a-package-with-github-actions General references https://artifacthub.io/ https://artifacthub.io/docs/topics/repositories/ https://belowthemalt.com/2022/09/18/setup-of-spring-boot-application-initialization-of-postgresql-database-on-kubernetes-part-2/ https://github.com/mkjelland/spring-boot-postgres-on-k8s-sample https://github.com/rajeshsgr/order-svc-k8/tree/main https://www.springcloud.io/post/2022-09/spring-boot-k8s-posgresl/#gsc.tab=0","title":"Build pipelines"},{"location":"technicalBuildPipeline/#build-pipelines","text":"The term pipeline is used in this context as a set of interrelated automation steps that take as input a set of source code, and results in a change to the compute environment.","title":"Build pipelines"},{"location":"technicalBuildPipeline/#scope","text":"Preference will be given to a pipeline that executes independently of developer, admin, or cluster CLI dependencies. The following build processes are of interest: Content Pipeline: static sites; markdown, html, web resources; apache; git-sync API Pipeline: Java; Spring BOOT; gradle; container; kubernetes deploy IoT Pipeline: Embedded Linux; Yocto / OpenEmbedded / Buildroot / OpenWrt / LTIB Substrate Pipeline: Network boot, cloud-init https://cloudinit.readthedocs.io/en/latest/index.html","title":"Scope"},{"location":"technicalBuildPipeline/#api-pipeline-tool-evaluation","text":"","title":"API Pipeline: Tool evaluation"},{"location":"technicalBuildPipeline/#jib-gradle-plugin","text":"https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin","title":"Jib gradle plugin"},{"location":"technicalBuildPipeline/#kaniko","text":"Reference: https://github.com/GoogleContainerTools/kaniko kaniko is a tool to build container images from a Dockerfile, inside a container or Kubernetes cluster.","title":"kaniko"},{"location":"technicalBuildPipeline/#kubectl-build","text":"https://github.com/kvaps/kubectl-build Use kubectl plugin Could be useful for desktop prototyping, do not see it useful in a pipeline","title":"kubectl build"},{"location":"technicalBuildPipeline/#buildkit-cli","text":"https://github.com/vmware-archive/buildkit-cli-for-kubectl BuildKit CLI for kubectl is a tool for building OCI and Docker images with your kubernetes cluster. Could be useful for desktop prototyping, do not see it useful in a pipeline","title":"BuildKit CLI"},{"location":"technicalBuildPipeline/#github-actions","text":"References: https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions https://docs.github.com/en/actions/publishing-packages/publishing-docker-images https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry https://docs.github.com/en/packages/managing-github-packages-using-github-actions-workflows/publishing-and-installing-a-package-with-github-actions https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-gradle https://github.com/marketplace/actions/build-and-push-docker-images https://docs.github.com/en/packages/managing-github-packages-using-github-actions-workflows/publishing-and-installing-a-package-with-github-actions","title":"Github actions"},{"location":"technicalBuildPipeline/#general-references","text":"https://artifacthub.io/ https://artifacthub.io/docs/topics/repositories/ https://belowthemalt.com/2022/09/18/setup-of-spring-boot-application-initialization-of-postgresql-database-on-kubernetes-part-2/ https://github.com/mkjelland/spring-boot-postgres-on-k8s-sample https://github.com/rajeshsgr/order-svc-k8/tree/main https://www.springcloud.io/post/2022-09/spring-boot-k8s-posgresl/#gsc.tab=0","title":"General references"},{"location":"technicalCeph/","text":"Persistent data Original cluster external storage used an nfs server, which represents a single point of failure, and is replaced with a Ceph cluster. In addition, there are unsolved issues with postgres and Opensearch using NFS as a storage class, specifically failing on chown operations. We use the Canonical MicroSeph distribution of Ceph, and build a cluster using the hosts sigiriya , james , and bukit . Before starting, check that the ubuntu installations have allocate sufficient space for the root filesystem. I found that only 100G of a 2TB drive was assigned to the root logical volume, which caused ceph cluster failure because the OS disk was above 80%. Preparation To resize root partition to use all of the available space: To display volume information: `sudo vgdisplay`` To extend the logical volume for the root partition: lvextend -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv To resize the root partition: resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv Installing microceph On all hosts in the cluster, install MicroCeph: sudo snap install microceph On Sigiriya (the master), bootstrap: sudo microceph cluster bootstrap To prep to add james: sudo microceph cluster add james This provides a key to be used on James, where we run: sudo microceph cluster join <token> Similarly, to add bukit, on Sigiriya, run: - sudo microceph cluster add bukit On Bukit sudo microceph cluster join <token> Next create (where using loopback volumes) and add disks To create a loopback disk: #!/bin/bash loop_file=\"$(sudo mktemp -p /mnt XXXX.img)\" sudo truncate -s 60G \"${loop_file}\" loop_dev=\"$(sudo losetup --show -f \"${loop_file}\")\" minor=\"${loop_dev##/dev/loop}\" sudo mknod -m 0660 \"/dev/sdib\" b 7 \"${minor}\" Add a disk to each node in the cluster: sudo microceph disk add --wipe \"/dev/sdXX\" Additional basic setups, for test cluster: sudo microceph.ceph config set global osd_pool_default_size 2 sudo microceph.ceph config set mgr mgr_standby_modules false sudo microceph.ceph config set osd osd_crush_chooseleaf_type 0 Installing the ceph dashboard To expose the dashboard over https, use the prod k8s Certificate Manager to get a certificate from LetsEncrypt, and create secret ceph-cert To extract it from k8s: kubectl get secret ceph-cert -o json | jq -r '.data.[\"tls.key\"]' | base64 -d >ceph.key kubectl get secret ceph-cert -o json | jq -r '.data.[\"tls.crt\"]' | base64 -d >ceph.crt To enable ceph dashboard: sudo ceph mgr module enable dashboard sudo ceph dashboard set-ssl-certificate -i - < /home/colleymj/ceph/ceph.crt sudo ceph dashboard set-ssl-certificate-key -i - < /home/colleymj/ceph/ceph.key Add a user: echo <> |sudo ceph dashboard ac-user-create colleymj -i - administrator Get endpoint dashboard ULR: sudo ceph mgr services If there is an issue with the standard port: sudo ceph config set mgr mgr/dashboard/ssl_server_port 8081 Or the host: ceph config set mgr mgr/dashboard/server_addr 192.168.0.6 Connecting microk8s to the ceph cluster NOTE: A single node k8s cluster required 4GB RAM and 4 CPUs, else did not complete installation NOTE: \"Before enabling the rook-ceph addon on a strictly confined MicroK8s, make sure the rbd kernel module is loaded with sudo modprobe rbd .\" : Configure microk8s cluster: sudo microk8s enable rook-ceph We can now connect the k8s cluster to external storage We need ceph.conf, and ceph.keyring to attach, which can be found in the microceph snap directory: /var/snap/microceph/current/conf Using config and key: sudo microk8s connect-external-ceph --ceph-conf ceph.conf --keyring ceph.keyring --rbd-pool southcluster_rbd Some ceph CLI commands sudo microceph status sudo microceph cluster config get cluster_network sudo microceph cluster config list sudo microceph cluster list sudo microceph disk list sudo microceph.ceph status Ceph References for FS https://docs.ceph.com/en/quincy/cephfs/createfs/ https://github.com/rook/rook/blob/master/deploy/examples/filesystem.yaml https://rook.io/docs/rook/latest/CRDs/Cluster/external-cluster/ https://rook.io/docs/rook/latest-release/Getting-Started/example-configurations/#shared-filesystem","title":"Persistent data"},{"location":"technicalCeph/#persistent-data","text":"Original cluster external storage used an nfs server, which represents a single point of failure, and is replaced with a Ceph cluster. In addition, there are unsolved issues with postgres and Opensearch using NFS as a storage class, specifically failing on chown operations. We use the Canonical MicroSeph distribution of Ceph, and build a cluster using the hosts sigiriya , james , and bukit . Before starting, check that the ubuntu installations have allocate sufficient space for the root filesystem. I found that only 100G of a 2TB drive was assigned to the root logical volume, which caused ceph cluster failure because the OS disk was above 80%.","title":"Persistent data"},{"location":"technicalCeph/#preparation","text":"To resize root partition to use all of the available space: To display volume information: `sudo vgdisplay`` To extend the logical volume for the root partition: lvextend -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv To resize the root partition: resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv","title":"Preparation"},{"location":"technicalCeph/#installing-microceph","text":"On all hosts in the cluster, install MicroCeph: sudo snap install microceph On Sigiriya (the master), bootstrap: sudo microceph cluster bootstrap To prep to add james: sudo microceph cluster add james This provides a key to be used on James, where we run: sudo microceph cluster join <token> Similarly, to add bukit, on Sigiriya, run: - sudo microceph cluster add bukit On Bukit sudo microceph cluster join <token> Next create (where using loopback volumes) and add disks To create a loopback disk: #!/bin/bash loop_file=\"$(sudo mktemp -p /mnt XXXX.img)\" sudo truncate -s 60G \"${loop_file}\" loop_dev=\"$(sudo losetup --show -f \"${loop_file}\")\" minor=\"${loop_dev##/dev/loop}\" sudo mknod -m 0660 \"/dev/sdib\" b 7 \"${minor}\" Add a disk to each node in the cluster: sudo microceph disk add --wipe \"/dev/sdXX\" Additional basic setups, for test cluster: sudo microceph.ceph config set global osd_pool_default_size 2 sudo microceph.ceph config set mgr mgr_standby_modules false sudo microceph.ceph config set osd osd_crush_chooseleaf_type 0","title":"Installing microceph"},{"location":"technicalCeph/#installing-the-ceph-dashboard","text":"To expose the dashboard over https, use the prod k8s Certificate Manager to get a certificate from LetsEncrypt, and create secret ceph-cert To extract it from k8s: kubectl get secret ceph-cert -o json | jq -r '.data.[\"tls.key\"]' | base64 -d >ceph.key kubectl get secret ceph-cert -o json | jq -r '.data.[\"tls.crt\"]' | base64 -d >ceph.crt To enable ceph dashboard: sudo ceph mgr module enable dashboard sudo ceph dashboard set-ssl-certificate -i - < /home/colleymj/ceph/ceph.crt sudo ceph dashboard set-ssl-certificate-key -i - < /home/colleymj/ceph/ceph.key Add a user: echo <> |sudo ceph dashboard ac-user-create colleymj -i - administrator Get endpoint dashboard ULR: sudo ceph mgr services If there is an issue with the standard port: sudo ceph config set mgr mgr/dashboard/ssl_server_port 8081 Or the host: ceph config set mgr mgr/dashboard/server_addr 192.168.0.6","title":"Installing the ceph dashboard"},{"location":"technicalCeph/#connecting-microk8s-to-the-ceph-cluster","text":"NOTE: A single node k8s cluster required 4GB RAM and 4 CPUs, else did not complete installation NOTE: \"Before enabling the rook-ceph addon on a strictly confined MicroK8s, make sure the rbd kernel module is loaded with sudo modprobe rbd .\" : Configure microk8s cluster: sudo microk8s enable rook-ceph We can now connect the k8s cluster to external storage We need ceph.conf, and ceph.keyring to attach, which can be found in the microceph snap directory: /var/snap/microceph/current/conf Using config and key: sudo microk8s connect-external-ceph --ceph-conf ceph.conf --keyring ceph.keyring --rbd-pool southcluster_rbd","title":"Connecting microk8s to the ceph cluster"},{"location":"technicalCeph/#some-ceph-cli-commands","text":"sudo microceph status sudo microceph cluster config get cluster_network sudo microceph cluster config list sudo microceph cluster list sudo microceph disk list sudo microceph.ceph status","title":"Some ceph CLI commands"},{"location":"technicalCeph/#ceph-references-for-fs","text":"https://docs.ceph.com/en/quincy/cephfs/createfs/ https://github.com/rook/rook/blob/master/deploy/examples/filesystem.yaml https://rook.io/docs/rook/latest/CRDs/Cluster/external-cluster/ https://rook.io/docs/rook/latest-release/Getting-Started/example-configurations/#shared-filesystem","title":"Ceph References for FS"},{"location":"technicalCluster/","text":"Implementation Notes Decisions Microk8s Kubernetes distribution Build tools (kubectl, calicoctl, ansible etc) on dolmen workstation k8s IOT Edge on anasazi RPi Implement ceph distributed storage - Migrate from nfs on sigiriya Secure ingress host based routing Network Fibre router: Static IPs for control plane and worker nodes Fibre router: (As-is) Dynamic DNS for qsolutions.endoftheinternet.org Fibre router: Port forwarding: 443 to k8s L2 load-balancer (As-is goes to dolmen) Fibre router: Restrict DHCP IP allocation range for clients to 192.168.0.2 - 192.168.0.120 MetalLB: IP address range: 192.168.0.131-192.168.0.140 DynDns: Update IP address using ddclient To dev, test and debug ingress, add: qapps.does-it.net Cluster installation and configuration On each node, run sudo snap install microk8s --channel=1.30/stable --classic On the master node, run sudo microk8s add-node (once for each of the other node), and run the resulting join command on the other node. This can be automated with ansible. Then, on any node, run: sudo microk8s enable metrics-server sudo microk8s enable rook-ceph ; See technicalCeph.md for more details sudo microk8s connect-external-ceph ; Run this on the same node that microceph running. sudo microk8s enable metallb sudo microk8s enable cert-manager The following has been migrated to flex, together with cluster infrastructure components: sudo microk8s helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --create-namespace NOTE: This gives ingressClassName: nginx Infrastructure Test: musings over https with git-sync An installation of static-site, with default configuration (musings): NOTE: WAN port forwarding to the metallb IP address is required for certificates to be issued. helm install musings-01 --debug --namespace musings --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' This install tests the following cluster capabilities: L2 load balancer Ingress Certificate Manager To install podzone docs: helm install podzone-01 --debug --namespace podzone --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' --values valuespodzone.yaml Ceph configuration microk8s enable rook-ceph ; See technicalCeph.md for more details microk8s connect-external-ceph --ceph-conf ceph.conf --keyring ceph.keyring --rbd-pool microk8s_rbd Rolling maintenance In order to upgrade the nodes of the cluster, take one node out of service at a time. Take a node out of service: kubectl drain --ignore-daemonsets --delete-emptydir-data <node name> --delete-emptydir-data is required if use is made of local storage. To bring the node back in to the cluster: kubectl uncordon <node name> Cluster substrate maintenance Cluster substrate here refers to kubernetes distribution installation, in this case Canonical's MicroK8s , including any add-ons. Canonical: Practically, as soon as the admin enables an addon he is expected to own its maintenance. We are offering new versions of the addon enable/disable scripts and in order to get them the admin would need to microk8s addons repo update <repo> Reference: https://github.com/canonical/microk8s-core-addons/issues/255 . Libretime Helm Chart implications The following section is copied from Helm chart documentation, at https://github.com/MoTTTT/libretime-helm/blob/main/AnalysisNotes.md , and should be read in the context of the libretime workload. The Cluster Substrate is an environmental dependency for the repeatable functioning of the libretime helm chart. Testing of the chart has been done on the following environment: Minimum server configuration: Single node k8s \"cluster\". Operating system: Ubuntu 22.04 minimised. Kubernetes storage volumes: MicroCeph. Used for the postgres database in the libretime use-case. NFS storage for media input, media storage, and database backups. Microk8s {channel 1.30/stable, channel 1.30/stable}, with the following add-ons enabled and configured: metrics-server : For exposing cpu and ram usage metrics. cert-manager : For providing https certificates to the cluster. metallb : A cluster load balancer for traffic from the Internet, from a port forwarded on the Internet gateway. rook-ceph : For supporting ceph storage to the cluster. connect-external-ceph : This is a microk8s command that can be run once the rook-ceph add-on is enabled, to enable the consumption of the external Microceph volume for the database. ingress-nginx : For supporting cluster level listeners for Internet traffic. Repeatable automated build from Bare Metal on a unit scale The choice of repeatability of deployment from Bare Metal is driven by the interest in self-hosted solutions. With the growing acceptance of Kubernetes as a generalised computing substrate, coupled with support in the Kubernetes ecosystem for GitOps, there is opportunity for abstracting entire solutions into a single set of files, in a naturally change-controlled way. If the cluster is bootstrapped with a flex repo after a clean Microk8s install, all the above configuration can be managed using GitOps. For the dev environment build, the public repo at https://github.com/MoTTTT/podzonedev-gitops.git can be cloned and adjusted for local off cluster infrastructure dependencies before bootstrapping a cluster with flex. The notion of bootstrapping the cluster for GitOps before any add-ons or configuration is attractive. So the candidate gitops repo can be cloned to provide the minimum configuration repeatable install from bare metal on a unit scale, that configures the environment, and then deploys the radio chart. Scaling out involves joining nodes to the cluster using microk8s CLI, but a design goal is for a single node cluster to work for the purposes of ensuring an efficient, repeatable development, quality assurance, or production environment. Ubuntu unattended-updates Most of the time the unattended-updates feature in Ubuntu works well without evidence or artefacts. However, over the course of two phases of a project, microk8s nodes became broken to the extent that five out of ten nodes were not starting up, and off the network. Initial assumptions indicating SATA SSD failure (hardware tests failing, over-interpretation of M.2 module led colouring, etc), followed by motherboard failure (unable to boot a freshly installed OS on a new SSD) were wrong. False negatives due to DisplayPort behaviour over-interpretation added to the inaccuracy of these assumptions. With the assistance of the HP T630 BIOS diagnostics, unit level issues were eliminated, as were SSD and RAM. This also exposed DisplayPort inconsistent behaviour. Even cold start did not give consistent DisplayPort behaviour introduced during a failed boot. In any case the issue was identified to be apparent in a specific linux kernel that had been introduced during unattended-updates. Specifying linux kernel version on Ubuntu 22.04 Server minimised installation To access the grub boot menu, press right-shift at power up. You can at this stage try the current kernel in recovery mode, or a previous kernel. Note that a previous kernel will not be an option on a fresh install, even from an old Ubuntu Server 22.04 USB drive, if the machine was on the network during install. Note also that selecting no to using the latest installer, and also cancelling the update at the end of the installation only leaves the newest kernel in place. However, if the kernel does boot in recovery mode of the only kernel, a known-good kernel for your hardware can be installed (together with the matching headers package). Once you have a kernel that works (in all modes) installed, you can set grub up to boot to the last selected mode as follows: Set the following in /etc/default/grub GRUB_DEFAULT=saved GRUB_SAVEDEFAULT=true On a minimised install, you may need to install an editor, or use sed and echo to achieve these changes. Reload grub: sudo update-grub Reboot with grub menu, select preferred kernel, allow boot to finish, and then reboot as normal to test. OS Installation USB Installer: Ubuntu Server Minimized 22.04.03 Use MoTTTT GitHub account to pull authorized_keys Set time-zone: sudo timedatectl set-timezone Europe/London","title":"Implementation Notes"},{"location":"technicalCluster/#implementation-notes","text":"","title":"Implementation Notes"},{"location":"technicalCluster/#decisions","text":"Microk8s Kubernetes distribution Build tools (kubectl, calicoctl, ansible etc) on dolmen workstation k8s IOT Edge on anasazi RPi Implement ceph distributed storage - Migrate from nfs on sigiriya Secure ingress host based routing","title":"Decisions"},{"location":"technicalCluster/#network","text":"Fibre router: Static IPs for control plane and worker nodes Fibre router: (As-is) Dynamic DNS for qsolutions.endoftheinternet.org Fibre router: Port forwarding: 443 to k8s L2 load-balancer (As-is goes to dolmen) Fibre router: Restrict DHCP IP allocation range for clients to 192.168.0.2 - 192.168.0.120 MetalLB: IP address range: 192.168.0.131-192.168.0.140 DynDns: Update IP address using ddclient To dev, test and debug ingress, add: qapps.does-it.net","title":"Network"},{"location":"technicalCluster/#cluster-installation-and-configuration","text":"On each node, run sudo snap install microk8s --channel=1.30/stable --classic On the master node, run sudo microk8s add-node (once for each of the other node), and run the resulting join command on the other node. This can be automated with ansible. Then, on any node, run: sudo microk8s enable metrics-server sudo microk8s enable rook-ceph ; See technicalCeph.md for more details sudo microk8s connect-external-ceph ; Run this on the same node that microceph running. sudo microk8s enable metallb sudo microk8s enable cert-manager The following has been migrated to flex, together with cluster infrastructure components: sudo microk8s helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --create-namespace NOTE: This gives ingressClassName: nginx","title":"Cluster installation and configuration"},{"location":"technicalCluster/#infrastructure-test-musings-over-https-with-git-sync","text":"An installation of static-site, with default configuration (musings): NOTE: WAN port forwarding to the metallb IP address is required for certificates to be issued. helm install musings-01 --debug --namespace musings --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' This install tests the following cluster capabilities: L2 load balancer Ingress Certificate Manager To install podzone docs: helm install podzone-01 --debug --namespace podzone --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' --values valuespodzone.yaml","title":"Infrastructure Test: musings over https with git-sync"},{"location":"technicalCluster/#ceph-configuration","text":"microk8s enable rook-ceph ; See technicalCeph.md for more details microk8s connect-external-ceph --ceph-conf ceph.conf --keyring ceph.keyring --rbd-pool microk8s_rbd","title":"Ceph configuration"},{"location":"technicalCluster/#rolling-maintenance","text":"In order to upgrade the nodes of the cluster, take one node out of service at a time. Take a node out of service: kubectl drain --ignore-daemonsets --delete-emptydir-data <node name> --delete-emptydir-data is required if use is made of local storage. To bring the node back in to the cluster: kubectl uncordon <node name>","title":"Rolling maintenance"},{"location":"technicalCluster/#cluster-substrate-maintenance","text":"Cluster substrate here refers to kubernetes distribution installation, in this case Canonical's MicroK8s , including any add-ons. Canonical: Practically, as soon as the admin enables an addon he is expected to own its maintenance. We are offering new versions of the addon enable/disable scripts and in order to get them the admin would need to microk8s addons repo update <repo> Reference: https://github.com/canonical/microk8s-core-addons/issues/255 .","title":"Cluster substrate maintenance"},{"location":"technicalCluster/#libretime-helm-chart-implications","text":"The following section is copied from Helm chart documentation, at https://github.com/MoTTTT/libretime-helm/blob/main/AnalysisNotes.md , and should be read in the context of the libretime workload. The Cluster Substrate is an environmental dependency for the repeatable functioning of the libretime helm chart. Testing of the chart has been done on the following environment: Minimum server configuration: Single node k8s \"cluster\". Operating system: Ubuntu 22.04 minimised. Kubernetes storage volumes: MicroCeph. Used for the postgres database in the libretime use-case. NFS storage for media input, media storage, and database backups. Microk8s {channel 1.30/stable, channel 1.30/stable}, with the following add-ons enabled and configured: metrics-server : For exposing cpu and ram usage metrics. cert-manager : For providing https certificates to the cluster. metallb : A cluster load balancer for traffic from the Internet, from a port forwarded on the Internet gateway. rook-ceph : For supporting ceph storage to the cluster. connect-external-ceph : This is a microk8s command that can be run once the rook-ceph add-on is enabled, to enable the consumption of the external Microceph volume for the database. ingress-nginx : For supporting cluster level listeners for Internet traffic.","title":"Libretime Helm Chart implications"},{"location":"technicalCluster/#repeatable-automated-build-from-bare-metal-on-a-unit-scale","text":"The choice of repeatability of deployment from Bare Metal is driven by the interest in self-hosted solutions. With the growing acceptance of Kubernetes as a generalised computing substrate, coupled with support in the Kubernetes ecosystem for GitOps, there is opportunity for abstracting entire solutions into a single set of files, in a naturally change-controlled way. If the cluster is bootstrapped with a flex repo after a clean Microk8s install, all the above configuration can be managed using GitOps. For the dev environment build, the public repo at https://github.com/MoTTTT/podzonedev-gitops.git can be cloned and adjusted for local off cluster infrastructure dependencies before bootstrapping a cluster with flex. The notion of bootstrapping the cluster for GitOps before any add-ons or configuration is attractive. So the candidate gitops repo can be cloned to provide the minimum configuration repeatable install from bare metal on a unit scale, that configures the environment, and then deploys the radio chart. Scaling out involves joining nodes to the cluster using microk8s CLI, but a design goal is for a single node cluster to work for the purposes of ensuring an efficient, repeatable development, quality assurance, or production environment.","title":"Repeatable automated build from Bare Metal on a unit scale"},{"location":"technicalCluster/#ubuntu-unattended-updates","text":"Most of the time the unattended-updates feature in Ubuntu works well without evidence or artefacts. However, over the course of two phases of a project, microk8s nodes became broken to the extent that five out of ten nodes were not starting up, and off the network. Initial assumptions indicating SATA SSD failure (hardware tests failing, over-interpretation of M.2 module led colouring, etc), followed by motherboard failure (unable to boot a freshly installed OS on a new SSD) were wrong. False negatives due to DisplayPort behaviour over-interpretation added to the inaccuracy of these assumptions. With the assistance of the HP T630 BIOS diagnostics, unit level issues were eliminated, as were SSD and RAM. This also exposed DisplayPort inconsistent behaviour. Even cold start did not give consistent DisplayPort behaviour introduced during a failed boot. In any case the issue was identified to be apparent in a specific linux kernel that had been introduced during unattended-updates.","title":"Ubuntu unattended-updates"},{"location":"technicalCluster/#specifying-linux-kernel-version-on-ubuntu-2204-server-minimised-installation","text":"To access the grub boot menu, press right-shift at power up. You can at this stage try the current kernel in recovery mode, or a previous kernel. Note that a previous kernel will not be an option on a fresh install, even from an old Ubuntu Server 22.04 USB drive, if the machine was on the network during install. Note also that selecting no to using the latest installer, and also cancelling the update at the end of the installation only leaves the newest kernel in place. However, if the kernel does boot in recovery mode of the only kernel, a known-good kernel for your hardware can be installed (together with the matching headers package). Once you have a kernel that works (in all modes) installed, you can set grub up to boot to the last selected mode as follows: Set the following in /etc/default/grub GRUB_DEFAULT=saved GRUB_SAVEDEFAULT=true On a minimised install, you may need to install an editor, or use sed and echo to achieve these changes. Reload grub: sudo update-grub Reboot with grub menu, select preferred kernel, allow boot to finish, and then reboot as normal to test.","title":"Specifying linux kernel version on Ubuntu 22.04 Server minimised installation"},{"location":"technicalCluster/#os-installation","text":"USB Installer: Ubuntu Server Minimized 22.04.03 Use MoTTTT GitHub account to pull authorized_keys Set time-zone: sudo timedatectl set-timezone Europe/London","title":"OS Installation"},{"location":"technicalCodeSnippets/","text":"Command line snippets Network port forwarding - Hypervisor Pluto lxc network forward create lxdbr0 192.168.1.84 sudo lxc network forward port add lxdbr0 192.168.1.84 tcp 2222 10.81.249.59 22 lxc network forward list lxdbr0 lxc network list maas sudo snap install --channel=3.5 maas sudo snap install maas-test-db sudo systemctl disable --now systemd-timesyncd sudo maas init region+rack --database-uri maas-test-db:/// sudo maas createadmin --username=colleymj --email=martinjcolley@gmail.com Network port forwarding - bare metal host to bare metal host Port forwarding from the ISP router to a metallbr listener on a machine running behind a wifi ethernet extender was not functional. This required the top-of-web router - which reverse-proxies http/s traffic to the various clusters - to be moved to a wired connection on the ISP router. The non-http/s traffic (icecast etc) had similar issues, and port forwarding on the top-of-web router was therefore added. Enable IP Forwarding: net.ipv4.ip_forward = 1 in /etc/sysctl.conf , and apply changes: sysctl -p Install IP Tables: apt install iptables-persistent For rudolfensis, with ethernet port enp1s0 , to route ports 8000 to 8002 to metallb listener 192.168.1.200 . iptables -t nat -A PREROUTING -i enp1s0 -p tcp --dport 8000 -j DNAT --to-destination 192.168.1.200:8000 iptables -t nat -A PREROUTING -i enp1s0 -p tcp --dport 8001 -j DNAT --to-destination 192.168.1.200:8001 iptables -t nat -A PREROUTING -i enp1s0 -p tcp --dport 8002 -j DNAT --to-destination 192.168.1.200:8002 iptables -t nat -A POSTROUTING -j MASQUERADE Save the rules: iptables-save > /etc/iptables/rules.v4 Check the rules: iptables -t nat -nvL Notes Port scanning reported the forwarded ports correctly, but browser requests timed out. It is understood from hints in the documentation that port forwarding needs to be to a DHCP client of the router. The wifi extender has it's own DHCP server, by default running in auto mode. Disabling the DHCP function in the management console did not change the behaviour, and new devices were still issued IPs by the wifi extender. References https://chrisshennan.com/blog/using-iptables-to-forward-ports Timezones To list timezones: timedatectl list-timezones Set for UK: timedatectl set-timezone Europe/London Squid proxy On rudolfensis: 192.168.1.145:3128 Install: sudo apt-get install squid Add entries in /etc/environment , and /etc/bash.bashrc export https_proxy=http://192.168.1.145:3128 export http_proxy=http://192.168.1.145:3128 export ftp_proxy=ftp://192.168.1.145:3128 In /etc/apt/apt.conf : Acquire::http::proxy \"http://192.168.1.145:3128/\"; Acquire::ftp::proxy \"ftp://192.168.1.145:3128/\"; Acquire::https::proxy \"https://192.168.1.145:3128/\"; Flux flux bootstrap github --token-auth --owner=MoTTTT --repository=admin --branch=main --path=clusters/my-cluster --personal git Push cloned repo to personal account: git remote set-url origin http://github.com/YOU/YOUR_REPO microk8s sudo snap install microk8s --channel=1.28/stable --classic sudo usermod -a -G microk8s $USER mkdir -p ~/.kube chmod 0700 ~/.kube helm helm repo add truecharts https://charts.truecharts.org/ helm pull [chart URL | repo/chartname] [...] [flags] helm package static-site cloudsmith push helm q-solutions/static-site static-site-0.1.0.tgz helm install musings-01 --debug --namespace musings --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' helm install podzone-01 --debug --namespace podzone --create-namespace --values valuespodzone.yaml . helm install podzone-01 --debug --namespace podzone static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' -f values.yaml - --values valuespodzone.yaml ceph sudo ceph config set mgr mgr/prometheus/server_addr sigiriya sudo ceph config set mgr mgr/prometheus/port 9090 https://docs.ceph.com/en/quincy/rados/operations/pools/#create-a-pool mount.ceph name@07fe3187-00d9-42a3-814b-72a4d5e7d5be.fs_name=/ /mnt/mycephfs -o mon_addr=1.2.3.4 sudo pro attach C13Nfcn8of2NLX4ZQbpN3zkEcT3WJZ Mount apple volume - ./apfs-fuse /dev/sdb2 /mt/sdb1 kubectl kubectl config set-context --current --namespace=<namespace-name> kubectl config set-context --current --namespace=admin kubectl drain --ignore-daemonsets <node name> kubectl uncordon <node name> kubectl get -n default serviceaccount kubeapps-operator -o yaml kubectl get pods --all-namespaces -o jsonpath=\"{..image}\" | tr -s '[[:space:]]' '\\n' | sort | uniq -c Aliases: alias ka=\"kubectl apply -f \" ; alias kd=\"kubectl delete -f \" kubectl api-resources Install bash completion on mac: brew install bash-completion source /opt/homebrew/etc/bash_completion source <(kubectl completion bash) # set up autocomplete in bash into the current shell, bash-completion package should be installed first. echo \"source <(kubectl completion bash)\" >> ~/.bashrc # add autocomplete permanently to your bash shell. ansible ansible southcluster -i inventory.yaml -m command -a \"free -m\" To accept new ssh keys: - ANSIBLE_HOST_KEY_CHECKING=false ansible all -m ping -i inventory.yaml ansible-playbook -i inventory.yaml playbook.yaml ansible-inventory -i inventory.yaml --list ansible devcluster -m ping -i inventory.yaml ansible-playbook -i inventory.yaml playbook-install-nfsclient.yaml - name: Install the package \"foo\" ansible.builtin.apt: name: foo apache enable site: a2ensite radio sudo systemctl restart apache2 sudo apachectl configtest sudo apache2ctl -t plone /usr/local/Plone/Python-2.7/bin/python /usr/local/Plone/zinstance/parts/instance/bin/interpreter /usr/local/Plone/buildout-cache/eggs/zdaemon-2.0.7-py2.7.egg/zdaemon/zdrun.py -S /usr/local/Plone/buildout-cache/eggs/Zope2-2.13.24-py2.7.egg/Zope2/Startup/zopeschema.xml -b 10 -d -s /usr/local/Plone/zinstance/var/instance/zopectlsock -x 0,2 -z /usr/local/Plone/zinstance/parts/instance /usr/local/Plone/Python-2.7/bin/python /usr/local/Plone/zinstance/parts/instance/bin/interpreter /usr/local/Plone/buildout-cache/eggs/Zope2-2.13.24-py2.7.egg/Zope2/Startup/run.py -C /usr/local/Plone/zinstance/parts/instance/etc/zope.conf /usr/local/Plone/Python-2.7/bin/python /usr/local/Plone/zinstance/parts/instance/bin/interpreter /usr/local/Plone/buildout-cache/eggs/Zope2-2.13.24-py2.7.egg/Zope2/Startup/run.py -C /usr/local/Plone/zinstance/parts/instance/etc/zope.conf docker pull robcast/legacy-zope docker pull robcast/legacy-zope:2.13 sudo usermod -aG sudo c Vagrant vagrant init techchad2022/ubuntu2204 vagrant up useradd -p <password> <username> vagrant destroy echo vagrant ALL=NOPASSWD:ALL > /etc/sudoers.d/vagrant echo colleymj ALL=NOPASSWD:ALL > /etc/sudoers.d/colleymj To allow IP to be assigned via DHCP simply use: config.vm.network \"public_network\" This way you don't need to deal with mac address, it will be generated on its own. If you need custom mac address attached to the network device then: config.vm.network \"public_network\", :mac=> \"080027xxxxxx\" Network, wi-fi hot-spot sudo nmcli connection add type bridge con-name 'Bridge' ifname bridge0 sudo nmcli connection add type ethernet slave-type bridge con-name 'Ethernet' ifname eth0 master bridge0 sudo nmcli connection add con-name 'Hotspot' ifname wlan0 type wifi slave-type bridge master bridge0 wifi mode ap wifi.ssid Hotspot wifi-sec.key-mgmt wpa-psk wifi-sec.proto rsn wifi-sec.pairwise ccmp wifi-sec.psk 61519400 sudo nmcli connection add type ethernet slave-type bridge con-name 'Ethernet' ifname eth0 master bridge0 sudo nmcli connection add con-name 'Hotspot' ifname wlan0 type wifi slave-type bridge master bridge0 wifi.mode ap wifi.ssid Hotspot wifi-sec.key-mgmt wpa-psk wifi-sec.proto rsn wifi-sec.pairwise ccmp wifi-sec.psk 61519400 sudo nmcli device wifi hotspot ssid podzone password xxx11111 sudo nmcli connection add con-name 'Hotspot' ifname wlan0 type wifi slave-type bridge master bridge0 wifi.mode ap wifi.ssid Hotspot wifi-sec.key-mgmt wpa-psk wifi-sec.proto rsn wifi-sec.pairwise ccmp wifi-sec.psk <hotspot-password> Volume management Swap file: dd if=/dev/zero of=/swapfile32G bs=1024 count=32M chmod 0600 swapfile32G mkswap swapfile32G dmsetup ls sudo lvdisplay lsblk --output NAME,KNAME,TYPE,SIZE,MOUNTPOINT sudo dmsetup info ubuntu--vg-ubuntu--lv lvdisplay pvdisplay raspberry pi set swapfile sudo nano /etc/dphys-swapfile: set CONF_SWAPSIZE=2048 sudo /etc/init.d/dphys-swapfile stop sudo /etc/init.d/dphys-swapfile start unix usermod -a -G sudo colleymj arp -n ip link show route ip route show ip link show ifconfig | grep -m 1 \"^[a-z0-9]*:\" | sed -e's/\\(^[a-z0-9]*\\):.*$/\\1/' | xargs -I {} sh -c \"ethtool {}\" ifconfig | grep -m 1 \"^[a-z0-9]*:\" | sed -e's/\\(^[a-z0-9]*\\):.*$/\\1/' | xargs -I {} sh -c \"sudo tcpdump -i {}\" ip address show ip route show ss -tunap sudo lsof -i @james Temporary DNS failure Error on apt operations: Temporary failure resolving 'gb.archive.ubuntu.com' echo \"nameserver 8.8.8.8\" | sudo tee /etc/resolv.conf > /dev/null Postgres kubectl rollout status deployment/postgres /mnt/vagrant-kubernetes 192.168.50.0/24(rw,sync,no_subtree_check,insecure,no_root_squash) export QAPPS_PASSWORD=\" \" envsubst < podzone-db.yaml | kubectl apply -f - Manual site updates #!/bin/bash mkdocs build apachepod=`kubectl get pods -n default -o json |jq -r .items[].metadata.name | grep apache` kubectl exec -n default $apachepod -- rm -R /var/www/html/podzone kubectl -n default cp ~/workspace/podzone/site/ $apachepod:/tmp/podzone/ kubectl exec -n default $apachepod -- chown -R nobody:nogroup /tmp/podzone/ kubectl exec -n default $apachepod -- mv /tmp/podzone /var/www/html kubectl exec apache-bf4996969-qnmqf -- rm -R /var/www/html/telling kubectl cp ~/workspace/telling/site/ apache-bf4996969-qnmqf:/tmp/telling/ kubectl exec apache-bf4996969-qnmqf -- chown -R nobody:nogroup /tmp/telling/ kubectl exec apache-bf4996969-qnmqf -- mv /tmp/telling /var/www/html kubectl cp ~/workspace/QApps/sites/index.html apache-bf4996969-qnmqf:/var/www.html/ Command line completion source <(kubectl completion bash) echo \"source <(kubectl completion bash)\" >> ~/.bashrc Jenkinsx Github token for jenkinsx: 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 kubectl create secret docker-registry regcred --docker-server= --docker-username= --docker-password= --docker-email= Zope Zope volume mounts: ./var/filestorage ./var/blobstorage ./products kubectl cp ~/.factorio/saves/k8s-test.zip factorio/factorio-0:/factorio/saves/ kubectl cp ~/.factorio/saves/k8s-test.zip factorio/factorio-0:/factorio/saves/ Upgrade: NOTE: did not result in rook-ceph add-on being available sudo microk8s disable dashboard microk8s disable metrics-server microk8s kubectl drain sigiriya --ignore-daemonsets sudo snap refresh microk8s --channel=1.28/stable microk8s kubectl uncordon sigiriya Opensearch Edit https://github.com/opensearch-project/helm-charts/blob/main/charts/opensearch/values.yaml for opensearch-bukit.yaml, opensearch-james.yaml, opensearch-sigiriya.yaml helm repo add opensearch https://opensearch-project.github.io/helm-charts/ helm install opensearch-master opensearch/opensearch -f opensearch-bukit.yaml helm install opensearch-client opensearch/opensearch -f opensearch-james.yaml helm install opensearch-data opensearch/opensearch -f opensearch-sigiriya.yaml helm install dashboards opensearch/opensearch-dashboards Opensearch dashboard: Get the application URL by running these commands: export POD_NAME=$(kubectl get pods --namespace default -l \"app.kubernetes.io/name=opensearch-dashboards,app.kubernetes.io/instance=dashboards\" -o jsonpath=\"{.items[0].metadata.name}\") export CONTAINER_PORT=$(kubectl get pod --namespace default $POD_NAME -o jsonpath=\"{.spec.containers[0].ports[0].containerPort}\") echo \"Visit http://127.0.0.1:8080 to use your application\" kubectl --namespace default port-forward $POD_NAME 8080:$CONTAINER_PORT token=$(kubectl -n kube-system get secret | grep default-token | cut -d \" \" -f1) kubectl -n kube-system describe secret $token kubectl logs --selector app=csi-nfs-controller -n kube-system -c nfs kubectl logs --selector app=csi-nfs-node -n kube-system -c nfs Observability has been enabled (user/pass: admin/prom-operator) kubectl -n kube-system describe certificate kubernetes-dashboard-stg kubectl create clusterrolebinding add-on-cluster-admin --clusterrole=cluster-admin --serviceaccount=kubernetes-dashboard:kubernetes-dashboard kubectl -n kube-system logs -f $(kubectl -n kube-system get pods -l app=cert-manager -o jsonpath=\"{.items[0].metadata.name}\") cert-manager kube-system describe certificate kubernetes-dashboard-stg kubectl logs deployment/cert-manager -n cert-manager sudo microk8s kubectl describe secret -n kube-system microk8s-dashboard-token kubectl logs podname -n namespace \u2013all-containers=true kubectl logs ingress-nginx-controller-7ddd87655-t2btf --all-containers --namespace ingress-nginx kubectl logs cert-manager-5d6bc46969-cqxnw -n cert-manager \u2013all-containers=true helm show values ingress-nginx --repo https://kubernetes.github.io/ingress-nginx kubectl get L2Advertisement --all-namespaces -o yaml kubectl get ipaddresspool --all-namespaces -o yaml kubectl -n ingress-nginx get svc kubectl describe pod cert-manager-5d6bc46969-xxxnt -n cert-manager sudo microk8s kubectl config view --raw > $HOME/.kube/config calicoctl --allow-version-mismatch get node -o yaml /Users/martincolley/workspace/Certs/qsolutions/{cert1.pem, chain1.pem, fullchain1.pem, privkey1.pem} kubectl create secret tls nginxsecret --key /Users/martincolley/workspace/Certs/qsolutions/privkey1.pem --cert /Users/martincolley/workspace/Certs/qsolutions/fullchain1.pem kubectl create configmap nginxconfigmap --from-file=nginx-default.conf brew install calicoctl grep -B 15 -A 15 IP_AUTODETECTION_METHOD /var/snap/microk8s/current/args/cni-network/cni.yaml kubectl create ingress demo-localhost --class=nginx --rule=\"levant/*=demo:80\" kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml nmcli connection add type bridge con-name localbr ifname localbr ipv4.method manual ipv4.addresses 10.13.31.1/24 sudo microk8s kubectl config view --raw > $HOME/.kube/config sudo usermod -a -G microk8s multipass launch --network en0 --network name=bridge0,mode=manual kubectl cluster-info dump kubectl get pods -n kube-system -o wide kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml sudo crictl --runtime-endpoint unix:///var/run/containerd/containerd.sock ps -a sudo crictl --runtime-endpoint unix:///var/run/containerd/containerd.sock ps -a | grep kube | grep -v pause sudo kubeadm init --control-plane-endpoint bukit --config kubeadm-config.yaml /snap/docker/2893/bin/containerd config default For snap docker installation (bukit): sudo kubeadm init --cri-socket unix:/run/snap.docker/containerd/containerd.sock --control-plane-endpoint bukit --dry-run For apt docker installation (james): sudo kubeadm init --control-plane-endpoint bukit --dry-run --config kubeadm-config.yaml systemctl enable kubelet.service kubectl version --client cat <<EOF | sudo tee /etc/modules-load.d/k8s.conf overlay br_netfilter EOF sudo modprobe overlay sudo modprobe br_netfilter cat <<EOF | sudo tee /etc/sysctl.d/k8s.conf net.bridge.bridge-nf-call-iptables = 1 net.bridge.bridge-nf-call-ip6tables = 1 net.ipv4.ip_forward = 1 EOF sudo sysctl --system Kubernetes host network IP range --service-cluster-ip-range=192.168.0.128/25 in /var/snap/microk8s/current/args/kube-apiserver /var/snap/microk8s/current/args/cni-network/cni.yaml edit /var/snap/microk8s/current/args/kube-apiserver and setting the following arguments: # /var/snap/microk8s/current/args/kube-apiserver --advertise-address=10.10.10.10 --bind-address=0.0.0.0 --secure-port=16443 CNI Pulgin: Calico, using 192.168.1.0/16: kubeadm init --pod-network-cidr=192.168.1.0/16 Full docker stack, packaged by docker: sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin Just runc and containerd, packaged by ubuntu: apt-get -y install containerd Containerd configuration requirements: Enable cri plugin in /etc/containerd/config.toml (achieved by overwriting the default file config.toml) Set cgroup driver to Systemd Configure k8s sandbox image The following achieves this: cat > /etc/containerd/config.toml <<EOF [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc] [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options] SystemdCgroup = true [plugins.\"io.containerd.grpc.v1.cri\"] sandbox_image = \"registry.k8s.io/pause:3.9\" EOF Restart containerd: systemctl restart containerd Init command: kubeadm init --config kubeadm-config.yaml Tasks: Cleanup to retdo kubeadm init kubectl drain --delete-emptydir-data --force --ignore-daemonsets kubeadm reset kubectl delete node clean /etc/cni/net.d","title":"Command line snippets"},{"location":"technicalCodeSnippets/#command-line-snippets","text":"","title":"Command line snippets"},{"location":"technicalCodeSnippets/#network-port-forwarding-hypervisor","text":"","title":"Network port forwarding - Hypervisor"},{"location":"technicalCodeSnippets/#pluto","text":"lxc network forward create lxdbr0 192.168.1.84 sudo lxc network forward port add lxdbr0 192.168.1.84 tcp 2222 10.81.249.59 22 lxc network forward list lxdbr0 lxc network list","title":"Pluto"},{"location":"technicalCodeSnippets/#maas","text":"sudo snap install --channel=3.5 maas sudo snap install maas-test-db sudo systemctl disable --now systemd-timesyncd sudo maas init region+rack --database-uri maas-test-db:/// sudo maas createadmin --username=colleymj --email=martinjcolley@gmail.com","title":"maas"},{"location":"technicalCodeSnippets/#network-port-forwarding-bare-metal-host-to-bare-metal-host","text":"Port forwarding from the ISP router to a metallbr listener on a machine running behind a wifi ethernet extender was not functional. This required the top-of-web router - which reverse-proxies http/s traffic to the various clusters - to be moved to a wired connection on the ISP router. The non-http/s traffic (icecast etc) had similar issues, and port forwarding on the top-of-web router was therefore added. Enable IP Forwarding: net.ipv4.ip_forward = 1 in /etc/sysctl.conf , and apply changes: sysctl -p Install IP Tables: apt install iptables-persistent For rudolfensis, with ethernet port enp1s0 , to route ports 8000 to 8002 to metallb listener 192.168.1.200 . iptables -t nat -A PREROUTING -i enp1s0 -p tcp --dport 8000 -j DNAT --to-destination 192.168.1.200:8000 iptables -t nat -A PREROUTING -i enp1s0 -p tcp --dport 8001 -j DNAT --to-destination 192.168.1.200:8001 iptables -t nat -A PREROUTING -i enp1s0 -p tcp --dport 8002 -j DNAT --to-destination 192.168.1.200:8002 iptables -t nat -A POSTROUTING -j MASQUERADE Save the rules: iptables-save > /etc/iptables/rules.v4 Check the rules: iptables -t nat -nvL","title":"Network port forwarding - bare metal host to bare metal host"},{"location":"technicalCodeSnippets/#notes","text":"Port scanning reported the forwarded ports correctly, but browser requests timed out. It is understood from hints in the documentation that port forwarding needs to be to a DHCP client of the router. The wifi extender has it's own DHCP server, by default running in auto mode. Disabling the DHCP function in the management console did not change the behaviour, and new devices were still issued IPs by the wifi extender.","title":"Notes"},{"location":"technicalCodeSnippets/#references","text":"https://chrisshennan.com/blog/using-iptables-to-forward-ports","title":"References"},{"location":"technicalCodeSnippets/#timezones","text":"To list timezones: timedatectl list-timezones Set for UK: timedatectl set-timezone Europe/London","title":"Timezones"},{"location":"technicalCodeSnippets/#squid-proxy","text":"On rudolfensis: 192.168.1.145:3128 Install: sudo apt-get install squid Add entries in /etc/environment , and /etc/bash.bashrc export https_proxy=http://192.168.1.145:3128 export http_proxy=http://192.168.1.145:3128 export ftp_proxy=ftp://192.168.1.145:3128 In /etc/apt/apt.conf : Acquire::http::proxy \"http://192.168.1.145:3128/\"; Acquire::ftp::proxy \"ftp://192.168.1.145:3128/\"; Acquire::https::proxy \"https://192.168.1.145:3128/\";","title":"Squid proxy"},{"location":"technicalCodeSnippets/#flux","text":"flux bootstrap github --token-auth --owner=MoTTTT --repository=admin --branch=main --path=clusters/my-cluster --personal","title":"Flux"},{"location":"technicalCodeSnippets/#git","text":"Push cloned repo to personal account: git remote set-url origin http://github.com/YOU/YOUR_REPO","title":"git"},{"location":"technicalCodeSnippets/#microk8s","text":"sudo snap install microk8s --channel=1.28/stable --classic sudo usermod -a -G microk8s $USER mkdir -p ~/.kube chmod 0700 ~/.kube","title":"microk8s"},{"location":"technicalCodeSnippets/#helm","text":"helm repo add truecharts https://charts.truecharts.org/ helm pull [chart URL | repo/chartname] [...] [flags] helm package static-site cloudsmith push helm q-solutions/static-site static-site-0.1.0.tgz helm install musings-01 --debug --namespace musings --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' helm install podzone-01 --debug --namespace podzone --create-namespace --values valuespodzone.yaml . helm install podzone-01 --debug --namespace podzone static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' -f values.yaml - --values valuespodzone.yaml","title":"helm"},{"location":"technicalCodeSnippets/#ceph","text":"sudo ceph config set mgr mgr/prometheus/server_addr sigiriya sudo ceph config set mgr mgr/prometheus/port 9090 https://docs.ceph.com/en/quincy/rados/operations/pools/#create-a-pool mount.ceph name@07fe3187-00d9-42a3-814b-72a4d5e7d5be.fs_name=/ /mnt/mycephfs -o mon_addr=1.2.3.4 sudo pro attach C13Nfcn8of2NLX4ZQbpN3zkEcT3WJZ Mount apple volume - ./apfs-fuse /dev/sdb2 /mt/sdb1","title":"ceph"},{"location":"technicalCodeSnippets/#kubectl","text":"kubectl config set-context --current --namespace=<namespace-name> kubectl config set-context --current --namespace=admin kubectl drain --ignore-daemonsets <node name> kubectl uncordon <node name> kubectl get -n default serviceaccount kubeapps-operator -o yaml kubectl get pods --all-namespaces -o jsonpath=\"{..image}\" | tr -s '[[:space:]]' '\\n' | sort | uniq -c Aliases: alias ka=\"kubectl apply -f \" ; alias kd=\"kubectl delete -f \" kubectl api-resources Install bash completion on mac: brew install bash-completion source /opt/homebrew/etc/bash_completion source <(kubectl completion bash) # set up autocomplete in bash into the current shell, bash-completion package should be installed first. echo \"source <(kubectl completion bash)\" >> ~/.bashrc # add autocomplete permanently to your bash shell.","title":"kubectl"},{"location":"technicalCodeSnippets/#ansible","text":"ansible southcluster -i inventory.yaml -m command -a \"free -m\" To accept new ssh keys: - ANSIBLE_HOST_KEY_CHECKING=false ansible all -m ping -i inventory.yaml ansible-playbook -i inventory.yaml playbook.yaml ansible-inventory -i inventory.yaml --list ansible devcluster -m ping -i inventory.yaml ansible-playbook -i inventory.yaml playbook-install-nfsclient.yaml - name: Install the package \"foo\" ansible.builtin.apt: name: foo","title":"ansible"},{"location":"technicalCodeSnippets/#apache","text":"enable site: a2ensite radio sudo systemctl restart apache2 sudo apachectl configtest sudo apache2ctl -t","title":"apache"},{"location":"technicalCodeSnippets/#plone","text":"/usr/local/Plone/Python-2.7/bin/python /usr/local/Plone/zinstance/parts/instance/bin/interpreter /usr/local/Plone/buildout-cache/eggs/zdaemon-2.0.7-py2.7.egg/zdaemon/zdrun.py -S /usr/local/Plone/buildout-cache/eggs/Zope2-2.13.24-py2.7.egg/Zope2/Startup/zopeschema.xml -b 10 -d -s /usr/local/Plone/zinstance/var/instance/zopectlsock -x 0,2 -z /usr/local/Plone/zinstance/parts/instance /usr/local/Plone/Python-2.7/bin/python /usr/local/Plone/zinstance/parts/instance/bin/interpreter /usr/local/Plone/buildout-cache/eggs/Zope2-2.13.24-py2.7.egg/Zope2/Startup/run.py -C /usr/local/Plone/zinstance/parts/instance/etc/zope.conf /usr/local/Plone/Python-2.7/bin/python /usr/local/Plone/zinstance/parts/instance/bin/interpreter /usr/local/Plone/buildout-cache/eggs/Zope2-2.13.24-py2.7.egg/Zope2/Startup/run.py -C /usr/local/Plone/zinstance/parts/instance/etc/zope.conf docker pull robcast/legacy-zope docker pull robcast/legacy-zope:2.13 sudo usermod -aG sudo c","title":"plone"},{"location":"technicalCodeSnippets/#vagrant","text":"vagrant init techchad2022/ubuntu2204 vagrant up useradd -p <password> <username> vagrant destroy echo vagrant ALL=NOPASSWD:ALL > /etc/sudoers.d/vagrant echo colleymj ALL=NOPASSWD:ALL > /etc/sudoers.d/colleymj To allow IP to be assigned via DHCP simply use: config.vm.network \"public_network\" This way you don't need to deal with mac address, it will be generated on its own. If you need custom mac address attached to the network device then: config.vm.network \"public_network\", :mac=> \"080027xxxxxx\"","title":"Vagrant"},{"location":"technicalCodeSnippets/#network-wi-fi-hot-spot","text":"sudo nmcli connection add type bridge con-name 'Bridge' ifname bridge0 sudo nmcli connection add type ethernet slave-type bridge con-name 'Ethernet' ifname eth0 master bridge0 sudo nmcli connection add con-name 'Hotspot' ifname wlan0 type wifi slave-type bridge master bridge0 wifi mode ap wifi.ssid Hotspot wifi-sec.key-mgmt wpa-psk wifi-sec.proto rsn wifi-sec.pairwise ccmp wifi-sec.psk 61519400 sudo nmcli connection add type ethernet slave-type bridge con-name 'Ethernet' ifname eth0 master bridge0 sudo nmcli connection add con-name 'Hotspot' ifname wlan0 type wifi slave-type bridge master bridge0 wifi.mode ap wifi.ssid Hotspot wifi-sec.key-mgmt wpa-psk wifi-sec.proto rsn wifi-sec.pairwise ccmp wifi-sec.psk 61519400 sudo nmcli device wifi hotspot ssid podzone password xxx11111 sudo nmcli connection add con-name 'Hotspot' ifname wlan0 type wifi slave-type bridge master bridge0 wifi.mode ap wifi.ssid Hotspot wifi-sec.key-mgmt wpa-psk wifi-sec.proto rsn wifi-sec.pairwise ccmp wifi-sec.psk <hotspot-password>","title":"Network, wi-fi hot-spot"},{"location":"technicalCodeSnippets/#volume-management","text":"Swap file: dd if=/dev/zero of=/swapfile32G bs=1024 count=32M chmod 0600 swapfile32G mkswap swapfile32G dmsetup ls sudo lvdisplay lsblk --output NAME,KNAME,TYPE,SIZE,MOUNTPOINT sudo dmsetup info ubuntu--vg-ubuntu--lv lvdisplay pvdisplay","title":"Volume management"},{"location":"technicalCodeSnippets/#raspberry-pi-set-swapfile","text":"sudo nano /etc/dphys-swapfile: set CONF_SWAPSIZE=2048 sudo /etc/init.d/dphys-swapfile stop sudo /etc/init.d/dphys-swapfile start","title":"raspberry pi set swapfile"},{"location":"technicalCodeSnippets/#unix","text":"usermod -a -G sudo colleymj arp -n ip link show route ip route show ip link show ifconfig | grep -m 1 \"^[a-z0-9]*:\" | sed -e's/\\(^[a-z0-9]*\\):.*$/\\1/' | xargs -I {} sh -c \"ethtool {}\" ifconfig | grep -m 1 \"^[a-z0-9]*:\" | sed -e's/\\(^[a-z0-9]*\\):.*$/\\1/' | xargs -I {} sh -c \"sudo tcpdump -i {}\" ip address show ip route show ss -tunap sudo lsof -i @james","title":"unix"},{"location":"technicalCodeSnippets/#temporary-dns-failure","text":"Error on apt operations: Temporary failure resolving 'gb.archive.ubuntu.com' echo \"nameserver 8.8.8.8\" | sudo tee /etc/resolv.conf > /dev/null","title":"Temporary DNS failure"},{"location":"technicalCodeSnippets/#postgres","text":"kubectl rollout status deployment/postgres /mnt/vagrant-kubernetes 192.168.50.0/24(rw,sync,no_subtree_check,insecure,no_root_squash) export QAPPS_PASSWORD=\" \" envsubst < podzone-db.yaml | kubectl apply -f -","title":"Postgres"},{"location":"technicalCodeSnippets/#manual-site-updates","text":"#!/bin/bash mkdocs build apachepod=`kubectl get pods -n default -o json |jq -r .items[].metadata.name | grep apache` kubectl exec -n default $apachepod -- rm -R /var/www/html/podzone kubectl -n default cp ~/workspace/podzone/site/ $apachepod:/tmp/podzone/ kubectl exec -n default $apachepod -- chown -R nobody:nogroup /tmp/podzone/ kubectl exec -n default $apachepod -- mv /tmp/podzone /var/www/html kubectl exec apache-bf4996969-qnmqf -- rm -R /var/www/html/telling kubectl cp ~/workspace/telling/site/ apache-bf4996969-qnmqf:/tmp/telling/ kubectl exec apache-bf4996969-qnmqf -- chown -R nobody:nogroup /tmp/telling/ kubectl exec apache-bf4996969-qnmqf -- mv /tmp/telling /var/www/html kubectl cp ~/workspace/QApps/sites/index.html apache-bf4996969-qnmqf:/var/www.html/","title":"Manual site updates"},{"location":"technicalCodeSnippets/#command-line-completion","text":"source <(kubectl completion bash) echo \"source <(kubectl completion bash)\" >> ~/.bashrc","title":"Command line completion"},{"location":"technicalCodeSnippets/#jenkinsx","text":"Github token for jenkinsx: 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 kubectl create secret docker-registry regcred --docker-server= --docker-username= --docker-password= --docker-email=","title":"Jenkinsx"},{"location":"technicalCodeSnippets/#zope","text":"Zope volume mounts: ./var/filestorage ./var/blobstorage ./products kubectl cp ~/.factorio/saves/k8s-test.zip factorio/factorio-0:/factorio/saves/ kubectl cp ~/.factorio/saves/k8s-test.zip factorio/factorio-0:/factorio/saves/","title":"Zope"},{"location":"technicalCodeSnippets/#upgrade-note-did-not-result-in-rook-ceph-add-on-being-available","text":"sudo microk8s disable dashboard microk8s disable metrics-server microk8s kubectl drain sigiriya --ignore-daemonsets sudo snap refresh microk8s --channel=1.28/stable microk8s kubectl uncordon sigiriya","title":"Upgrade: NOTE: did not result in rook-ceph add-on being available"},{"location":"technicalCodeSnippets/#opensearch","text":"Edit https://github.com/opensearch-project/helm-charts/blob/main/charts/opensearch/values.yaml for opensearch-bukit.yaml, opensearch-james.yaml, opensearch-sigiriya.yaml helm repo add opensearch https://opensearch-project.github.io/helm-charts/ helm install opensearch-master opensearch/opensearch -f opensearch-bukit.yaml helm install opensearch-client opensearch/opensearch -f opensearch-james.yaml helm install opensearch-data opensearch/opensearch -f opensearch-sigiriya.yaml helm install dashboards opensearch/opensearch-dashboards Opensearch dashboard: Get the application URL by running these commands: export POD_NAME=$(kubectl get pods --namespace default -l \"app.kubernetes.io/name=opensearch-dashboards,app.kubernetes.io/instance=dashboards\" -o jsonpath=\"{.items[0].metadata.name}\") export CONTAINER_PORT=$(kubectl get pod --namespace default $POD_NAME -o jsonpath=\"{.spec.containers[0].ports[0].containerPort}\") echo \"Visit http://127.0.0.1:8080 to use your application\" kubectl --namespace default port-forward $POD_NAME 8080:$CONTAINER_PORT token=$(kubectl -n kube-system get secret | grep default-token | cut -d \" \" -f1) kubectl -n kube-system describe secret $token kubectl logs --selector app=csi-nfs-controller -n kube-system -c nfs kubectl logs --selector app=csi-nfs-node -n kube-system -c nfs Observability has been enabled (user/pass: admin/prom-operator) kubectl -n kube-system describe certificate kubernetes-dashboard-stg kubectl create clusterrolebinding add-on-cluster-admin --clusterrole=cluster-admin --serviceaccount=kubernetes-dashboard:kubernetes-dashboard kubectl -n kube-system logs -f $(kubectl -n kube-system get pods -l app=cert-manager -o jsonpath=\"{.items[0].metadata.name}\") cert-manager kube-system describe certificate kubernetes-dashboard-stg kubectl logs deployment/cert-manager -n cert-manager sudo microk8s kubectl describe secret -n kube-system microk8s-dashboard-token kubectl logs podname -n namespace \u2013all-containers=true kubectl logs ingress-nginx-controller-7ddd87655-t2btf --all-containers --namespace ingress-nginx kubectl logs cert-manager-5d6bc46969-cqxnw -n cert-manager \u2013all-containers=true helm show values ingress-nginx --repo https://kubernetes.github.io/ingress-nginx kubectl get L2Advertisement --all-namespaces -o yaml kubectl get ipaddresspool --all-namespaces -o yaml kubectl -n ingress-nginx get svc kubectl describe pod cert-manager-5d6bc46969-xxxnt -n cert-manager sudo microk8s kubectl config view --raw > $HOME/.kube/config calicoctl --allow-version-mismatch get node -o yaml /Users/martincolley/workspace/Certs/qsolutions/{cert1.pem, chain1.pem, fullchain1.pem, privkey1.pem} kubectl create secret tls nginxsecret --key /Users/martincolley/workspace/Certs/qsolutions/privkey1.pem --cert /Users/martincolley/workspace/Certs/qsolutions/fullchain1.pem kubectl create configmap nginxconfigmap --from-file=nginx-default.conf brew install calicoctl grep -B 15 -A 15 IP_AUTODETECTION_METHOD /var/snap/microk8s/current/args/cni-network/cni.yaml kubectl create ingress demo-localhost --class=nginx --rule=\"levant/*=demo:80\" kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml nmcli connection add type bridge con-name localbr ifname localbr ipv4.method manual ipv4.addresses 10.13.31.1/24 sudo microk8s kubectl config view --raw > $HOME/.kube/config sudo usermod -a -G microk8s multipass launch --network en0 --network name=bridge0,mode=manual kubectl cluster-info dump kubectl get pods -n kube-system -o wide kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml sudo crictl --runtime-endpoint unix:///var/run/containerd/containerd.sock ps -a sudo crictl --runtime-endpoint unix:///var/run/containerd/containerd.sock ps -a | grep kube | grep -v pause sudo kubeadm init --control-plane-endpoint bukit --config kubeadm-config.yaml /snap/docker/2893/bin/containerd config default For snap docker installation (bukit): sudo kubeadm init --cri-socket unix:/run/snap.docker/containerd/containerd.sock --control-plane-endpoint bukit --dry-run For apt docker installation (james): sudo kubeadm init --control-plane-endpoint bukit --dry-run --config kubeadm-config.yaml systemctl enable kubelet.service kubectl version --client cat <<EOF | sudo tee /etc/modules-load.d/k8s.conf overlay br_netfilter EOF sudo modprobe overlay sudo modprobe br_netfilter cat <<EOF | sudo tee /etc/sysctl.d/k8s.conf net.bridge.bridge-nf-call-iptables = 1 net.bridge.bridge-nf-call-ip6tables = 1 net.ipv4.ip_forward = 1 EOF sudo sysctl --system Kubernetes host network IP range --service-cluster-ip-range=192.168.0.128/25 in /var/snap/microk8s/current/args/kube-apiserver /var/snap/microk8s/current/args/cni-network/cni.yaml edit /var/snap/microk8s/current/args/kube-apiserver and setting the following arguments: # /var/snap/microk8s/current/args/kube-apiserver --advertise-address=10.10.10.10 --bind-address=0.0.0.0 --secure-port=16443 CNI Pulgin: Calico, using 192.168.1.0/16: kubeadm init --pod-network-cidr=192.168.1.0/16 Full docker stack, packaged by docker: sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin Just runc and containerd, packaged by ubuntu: apt-get -y install containerd Containerd configuration requirements: Enable cri plugin in /etc/containerd/config.toml (achieved by overwriting the default file config.toml) Set cgroup driver to Systemd Configure k8s sandbox image The following achieves this: cat > /etc/containerd/config.toml <<EOF [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc] [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options] SystemdCgroup = true [plugins.\"io.containerd.grpc.v1.cri\"] sandbox_image = \"registry.k8s.io/pause:3.9\" EOF Restart containerd: systemctl restart containerd Init command: kubeadm init --config kubeadm-config.yaml","title":"Opensearch"},{"location":"technicalCodeSnippets/#tasks-cleanup-to-retdo-kubeadm-init","text":"kubectl drain --delete-emptydir-data --force --ignore-daemonsets kubeadm reset kubectl delete node clean /etc/cni/net.d","title":"Tasks: Cleanup to retdo kubeadm init"},{"location":"technicalConsumerCloud/","text":"Consumer Cloud Definition HG Insights defines Consumer Cloud in their Glossary as follows: Cloud computing offerings targeted toward individuals for personal use, such as Dropbox or iCloud. End users interact with consumer cloud\u2019s through highly interactive applications. When you store photos or documents in an app like Dropbox, you are interacting with their cloud, hence the consumer cloud. Consumer clouds are composed no differently from other cloud systems. The only difference is the B2C nature of their delivery. Most applications that interact directly with the customer can be classified as using a consumer cloud. In this sense, the term \"Consumer Cloud\" refers to Cloud service offerings targeting Consumers, as opposed to Business or Enterprise Cloud service provider customers. The definition of \"Cloud Consumer\" is consistently along the lines of \"a consumer of cloud services\". I am not aware of a formal definition for a Consumer built and managed Cloud Service . However this is the sense in which I would like to use the term. Consumer built and managed Cloud Service Since I have the skill-set to set up and manage server hardware, and the hardware necessary to suite the workload, I have always preferred self-hosting from my residential network, rather than to make use of hosting or cloud services. The relative costs of hosting and cloud services have been investigated on occasion over time, and not found suitable for this set of use-cases. Further, the inclination to own the computing fabric, rather than to rent capacity is strong, for the same reasons that owning property for my family's accommodation rather than renting property is preferable. Lastly, I have a personal professional interest in hardware and computing, and am prepared to develop this skill set in the re-architecture of the solution as an on-premise solution, using current cloud technologies. Alternatives While this definition of Consumer Cloud has a level of engineering skill required, it is easy to envision a future scenario where the components are commoditised to the extent that this is no longer the case. While this project's scope is focused on a set of Information Technology requirements such as file mail and application services, pre-built consumer grade appliances that come close to fulfilling the requirement are already available. These however invariably have a component of their offering that includes one or more vendor ecosystems . These typically require registering with and using, at run-time, Service Provider cloud services available only via the Internet to configure and manage the solution. So in a sense Consumer Cloud is already an offering on the market, if one understands the build part to refer to sourcing and installing an appliance, and one is not to fussy about committing to a dependency on vendor eco-systems. There are also a few platforms that play some role in empowering consumers - some positioned to support large organisations as well - to manage on-premise services and solutions without the vendor eco-system. These range from solutions focusing on putting a user's data back in their own sphere of influence - for reasons relating to Data Sovereignty - to solutions supporting home technicians and hobbyists get up and running with pre-packaged solutions for media servers, blog sites and the like. With the build part being relevant to me, and an aversion to committing to vendor ecosystems where avoidable, none of these solutions were a good fit for my set of use-cases. There is a sense in which vendor ecosystems are hard to avoid, if one includes the many middle-men in the software provisioning pipeline. This includes operating system release solutions, and the package management that runs on top of these. For this solution, at least the MVP portion, this is acceptable. There is a parallel initiative to investigate cloud at the edge and IoT. As the run-time for this initiative is Embedded Linux, a tool-chain to build an OS image for specifically targeted hardware is required. The tool-chain needs to build an image including operating system kernel, only the required support software, and one or more run-time applications. A k3s layer, which provides a light weight cloud (kubernetes) distribution will also be installed. It would be interesting to investigate using this same tool-chain to target the hardware used for the IT component, thus avoiding the vendor ecosystems used in the IT MVP solution. More about this elsewhere. Self Hosting Platforms It bears mentioning that there are a number of initiatives that provide infrastructure to remove barriers to entry for self-hosted IT at the Cloud level. Specifically, artefact hosting and aggregation platforms like Artifactory, and high level kubernetes management platforms like KubeApps https://kubeapps.dev/ provide valuable resources that make kubernetes accessible to consumers. Technical implementation With the points above in mind, the following imperatives are listed in bullet point form to inform further decision making: No public cloud runtime (day 1, day 2) dependencies Use of Consumer (commodity) components: Computing resources Networking Internet access Off grid (Internet disconnected) viability for services Of note are the remaining day zero dependencies. These include off-premise file, code and component storage, as well as domain serving and certificate issuing services. Once the envisaged multi-site solution is complete at least the storage solutions will be considered, for example replacing GitHub with the self-hosted solution Gitea, which I have implemented with success in an enterprise on-premise setting. For this specific initiative, procuring additional hardware to support a multi-site implementation is required. Second hand end-user hardware, with upgrades to RAM and storage will be used, as circumstances dictate.","title":"Consumer Cloud"},{"location":"technicalConsumerCloud/#consumer-cloud","text":"","title":"Consumer Cloud"},{"location":"technicalConsumerCloud/#definition","text":"HG Insights defines Consumer Cloud in their Glossary as follows: Cloud computing offerings targeted toward individuals for personal use, such as Dropbox or iCloud. End users interact with consumer cloud\u2019s through highly interactive applications. When you store photos or documents in an app like Dropbox, you are interacting with their cloud, hence the consumer cloud. Consumer clouds are composed no differently from other cloud systems. The only difference is the B2C nature of their delivery. Most applications that interact directly with the customer can be classified as using a consumer cloud. In this sense, the term \"Consumer Cloud\" refers to Cloud service offerings targeting Consumers, as opposed to Business or Enterprise Cloud service provider customers. The definition of \"Cloud Consumer\" is consistently along the lines of \"a consumer of cloud services\". I am not aware of a formal definition for a Consumer built and managed Cloud Service . However this is the sense in which I would like to use the term.","title":"Definition"},{"location":"technicalConsumerCloud/#consumer-built-and-managed-cloud-service","text":"Since I have the skill-set to set up and manage server hardware, and the hardware necessary to suite the workload, I have always preferred self-hosting from my residential network, rather than to make use of hosting or cloud services. The relative costs of hosting and cloud services have been investigated on occasion over time, and not found suitable for this set of use-cases. Further, the inclination to own the computing fabric, rather than to rent capacity is strong, for the same reasons that owning property for my family's accommodation rather than renting property is preferable. Lastly, I have a personal professional interest in hardware and computing, and am prepared to develop this skill set in the re-architecture of the solution as an on-premise solution, using current cloud technologies.","title":"Consumer built and managed Cloud Service"},{"location":"technicalConsumerCloud/#alternatives","text":"While this definition of Consumer Cloud has a level of engineering skill required, it is easy to envision a future scenario where the components are commoditised to the extent that this is no longer the case. While this project's scope is focused on a set of Information Technology requirements such as file mail and application services, pre-built consumer grade appliances that come close to fulfilling the requirement are already available. These however invariably have a component of their offering that includes one or more vendor ecosystems . These typically require registering with and using, at run-time, Service Provider cloud services available only via the Internet to configure and manage the solution. So in a sense Consumer Cloud is already an offering on the market, if one understands the build part to refer to sourcing and installing an appliance, and one is not to fussy about committing to a dependency on vendor eco-systems. There are also a few platforms that play some role in empowering consumers - some positioned to support large organisations as well - to manage on-premise services and solutions without the vendor eco-system. These range from solutions focusing on putting a user's data back in their own sphere of influence - for reasons relating to Data Sovereignty - to solutions supporting home technicians and hobbyists get up and running with pre-packaged solutions for media servers, blog sites and the like. With the build part being relevant to me, and an aversion to committing to vendor ecosystems where avoidable, none of these solutions were a good fit for my set of use-cases. There is a sense in which vendor ecosystems are hard to avoid, if one includes the many middle-men in the software provisioning pipeline. This includes operating system release solutions, and the package management that runs on top of these. For this solution, at least the MVP portion, this is acceptable. There is a parallel initiative to investigate cloud at the edge and IoT. As the run-time for this initiative is Embedded Linux, a tool-chain to build an OS image for specifically targeted hardware is required. The tool-chain needs to build an image including operating system kernel, only the required support software, and one or more run-time applications. A k3s layer, which provides a light weight cloud (kubernetes) distribution will also be installed. It would be interesting to investigate using this same tool-chain to target the hardware used for the IT component, thus avoiding the vendor ecosystems used in the IT MVP solution. More about this elsewhere.","title":"Alternatives"},{"location":"technicalConsumerCloud/#self-hosting-platforms","text":"It bears mentioning that there are a number of initiatives that provide infrastructure to remove barriers to entry for self-hosted IT at the Cloud level. Specifically, artefact hosting and aggregation platforms like Artifactory, and high level kubernetes management platforms like KubeApps https://kubeapps.dev/ provide valuable resources that make kubernetes accessible to consumers.","title":"Self Hosting Platforms"},{"location":"technicalConsumerCloud/#technical-implementation","text":"With the points above in mind, the following imperatives are listed in bullet point form to inform further decision making: No public cloud runtime (day 1, day 2) dependencies Use of Consumer (commodity) components: Computing resources Networking Internet access Off grid (Internet disconnected) viability for services Of note are the remaining day zero dependencies. These include off-premise file, code and component storage, as well as domain serving and certificate issuing services. Once the envisaged multi-site solution is complete at least the storage solutions will be considered, for example replacing GitHub with the self-hosted solution Gitea, which I have implemented with success in an enterprise on-premise setting. For this specific initiative, procuring additional hardware to support a multi-site implementation is required. Second hand end-user hardware, with upgrades to RAM and storage will be used, as circumstances dictate.","title":"Technical implementation"},{"location":"technicalDB/","text":"Database implementation Technology selection kubernetes db install postgres Server side tooling: adminer internet ingres to db port POC Reference: https://jineshnagori.medium.com/ultimate-guide-to-setting-up-postgresql-in-kubernetes-with-statefulsets-adminer-dashboard-and-6232323cb4dc Methodology for POC: kubernetes resource definitions in QAppsCluster local directory Hostname: adminer dbgui.dev.podzone.net Hostname: db on db.dev.podzone.net namespace: postgres-dev POC Notes Workspace: Create k8s resources in ~/QAppsCluster/DB Adminer kubectl create namespace adminer kubectl apply --namespace adminer -f adminer-svc.yaml kubectl apply --namespace adminer -f adminer-deployment.yaml kubectl apply --namespace adminer -f adminer-ingress.yaml References https://jineshnagori.medium.com/ultimate-guide-to-setting-up-postgresql-in-kubernetes-with-statefulsets-adminer-dashboard-and-6232323cb4dc https://artifacthub.io/packages/helm/bitnami/postgresql https://github.com/bitnami/charts/tree/main/bitnami/postgresql-ha https://www.cncf.io/blog/2023/09/29/recommended-architectures-for-postgresql-in-kubernetes/","title":"Database implementation"},{"location":"technicalDB/#database-implementation","text":"","title":"Database implementation"},{"location":"technicalDB/#technology-selection","text":"kubernetes db install postgres Server side tooling: adminer internet ingres to db port","title":"Technology selection"},{"location":"technicalDB/#poc","text":"Reference: https://jineshnagori.medium.com/ultimate-guide-to-setting-up-postgresql-in-kubernetes-with-statefulsets-adminer-dashboard-and-6232323cb4dc Methodology for POC: kubernetes resource definitions in QAppsCluster local directory Hostname: adminer dbgui.dev.podzone.net Hostname: db on db.dev.podzone.net namespace: postgres-dev","title":"POC"},{"location":"technicalDB/#poc-notes","text":"Workspace: Create k8s resources in ~/QAppsCluster/DB","title":"POC Notes"},{"location":"technicalDB/#adminer","text":"kubectl create namespace adminer kubectl apply --namespace adminer -f adminer-svc.yaml kubectl apply --namespace adminer -f adminer-deployment.yaml kubectl apply --namespace adminer -f adminer-ingress.yaml","title":"Adminer"},{"location":"technicalDB/#references","text":"https://jineshnagori.medium.com/ultimate-guide-to-setting-up-postgresql-in-kubernetes-with-statefulsets-adminer-dashboard-and-6232323cb4dc https://artifacthub.io/packages/helm/bitnami/postgresql https://github.com/bitnami/charts/tree/main/bitnami/postgresql-ha https://www.cncf.io/blog/2023/09/29/recommended-architectures-for-postgresql-in-kubernetes/","title":"References"},{"location":"technicalDataCentre/","text":"Data Centre Management considerations when scale and scope are encountered in technical implementation. Network Architecture DHCP and IP allocation Toob Network: 192.168.1.0/24 PodZone IPs: 192.168.2.0/24 --- title: PodZone Request routing --- graph TD Internet -- 145.40.190.159 --> router[toob-11641\\n192.168.1.1] router -- :8000\\n:8001\\n:8002 --> t360-01[t360\\nhabilis\\n192.168.1.50] router -- :80\\n:443 --> t360-02[t360\\nrudolfensis\\n192.168.1.145] t360-02 -- radio.muso.club\\nbroadcast.muso.club\\nconsole.muso.club --> t360-01 t360-02 -- nextcloud.muso.club --> t360-03[t360\\nnaledi\\n192.168.1.151\\n192.168.2.1] t360-03 -- :8006 --> R720-01 t360-03 -- :8007->:8006 --> R720-02 t360-03 -- :80\\n:443 --> VC-01 VC-01 -- nextcloud.muso.club --> VC-02 VC-01 -- radio.thruhere.net --> LB-01 subgraph R720-01[R720\\npluto\\n192.168.2.50] subgraph VC-01[VC\\nstyx\\n192.168.2.60] end subgraph VC-02[VC\\nnextcloud\\n192.168.2.80] end subgraph LB-01[LB\\nkubernetes\\nmetallb\\n192.168.2.61] end end subgraph R720-02[R720\\nsaturn\\n192.168.2.51] subgraph VM-01[VM\\n????\\n192.168.2.70] end end Platform configuration NetPlan Modify /etc/netplan/00-installer-config.yaml for static IPs. See yaml below. Generate configuration: sudo netplan generate Apply configuration: sudo netplan apply # /etc/netplan/00-installer-config.yaml # Netplan for pluto network: ethernets: eno1: addresses: - 192.168.2.1/24 nameservers: addresses: - 8.8.8.8 routes: - to: default via: 192.168.2.10 eno2: addresses: - 192.168.2.2/24 eno3: addresses: - 192.168.2.3/24 eno4: addresses: - 192.168.2.4/24 version: 2 lxd lxd installed standard on ubuntu server 22.04 Initialise: lxd init maas sudo snap install --channel=3.5 maas sudo snap install maas-test-db sudo systemctl disable --now systemd-timesyncd sudo maas init region+rack --database-uri maas-test-db:/// sudo maas createadmin --username=colleymj --email=martinjcolley@gmail.com Access GUI, set NS to 8.8.8.8 , and proxy to http://192.168.1.145:3128 Unit configuration Bare metal management: maas VM Management: LXD OS install: PXE Snap install: cloud-init Proxy At scale, artefacts from the internet typically used in a unit build can be cached with obvious benefit. I addition, when evaluating software, uninstallation to get a known good state for re-install is very efficient when cached apt, vm and snap packages are used. In the podnet norham installation, rudolfensis - 192.168.1.145:3128 - is used for the caching proxy. Install: sudo apt-get install squid Unit config: Add entries in /etc/environment , and /etc/bash.bashrc export https_proxy=http://192.168.1.145:3128 export http_proxy=http://192.168.1.145:3128 export ftp_proxy=ftp://192.168.1.145:3128 Unit config: Add entries in /etc/apt/apt.conf : Acquire::http::proxy \"http://192.168.1.145:3128/\"; Acquire::ftp::proxy \"ftp://192.168.1.145:3128/\"; Acquire::https::proxy \"https://192.168.1.145:3128/\"; Snap: snap set system proxy.http=\"http://192.168.1.145:3128\" snap set system proxy.https=\"http://192.168.1.145:3128\" Router Strategy: Add a dedicated t630, using wifi as 'WAN' interface, and enp1s0 as LAN NAT gateway. Strategy: Use port forwarding to access specific services on LAN from WAN. Use t630 antecessor , install Ubuntu server using wi-fi connection Netplan: Set up enp1s0 with static IP 192.168.2.10 Clients: Set 192.168.2.10 as gateway Enable IP forwarding in the kernel: uncomment #net.ipv4.ip_forward=1 in /etc/sysctl.conf To test: echo 1 > /proc/sys/net/ipv4/ip_forward , which is lost on system restart Support persistent IP tables: apt install iptables-persistent NAT: iptables -t nat -A POSTROUTING -s 192.168.2.0/24 -o wlp2s0 -j MASQUERADE Save changes to persistent tables: sudo iptables-save > /etc/iptables/rules.v4 For ssh: iptables -t nat -A PREROUTING -i wlp2s0 -p tcp --dport 2222 -j DNAT --to-destination 192.168.2.1:22 For maas: iptables -t nat -A PREROUTING -i wlp2s0 -p tcp --dport 5240 -j DNAT --to-destination 192.168.2.1:5240 For lxd: iptables -t nat -A PREROUTING -i wlp2s0 -p tcp --dport 8843 -j DNAT --to-destination 192.168.2.51:8843 Check the rules: iptables -t nat -nvL Save the rules: iptables-save > /etc/iptables/rules.v4 IPMI Fan control: sudo ipmitool raw 0x30 0x30 0x01 0x00 Set fan speed: sudo ipmitool raw 0x30 0x30 0x02 0xff 0x14 Config Method automation options Use cloud config to install git and ansible Use cloud init ansible package to pull config from git Create repo https://github.com/MoTTTT/podnode.git Create ansible playbook podnode.yaml #cloud-config ansible: package_name: ansible-core install_method: distro pull: url: https://github.com/MoTTTT/podnode.git playbook_name: podnode.yaml ProxMox ansible Token: d8d9e43c-fcdf-4dfd-83d3-1b2cdcb528ac Proxmox cloudinit wget https://cloud-images.ubuntu.com/jammy/current/jammy-server-cloudimg-amd64.img qm create 9000 --memory 2048 --net0 virtio,bridge=vmbr0 --scsihw virtio-scsi-pci","title":"Data Centre"},{"location":"technicalDataCentre/#data-centre","text":"Management considerations when scale and scope are encountered in technical implementation.","title":"Data Centre"},{"location":"technicalDataCentre/#network-architecture","text":"","title":"Network Architecture"},{"location":"technicalDataCentre/#dhcp-and-ip-allocation","text":"Toob Network: 192.168.1.0/24 PodZone IPs: 192.168.2.0/24 --- title: PodZone Request routing --- graph TD Internet -- 145.40.190.159 --> router[toob-11641\\n192.168.1.1] router -- :8000\\n:8001\\n:8002 --> t360-01[t360\\nhabilis\\n192.168.1.50] router -- :80\\n:443 --> t360-02[t360\\nrudolfensis\\n192.168.1.145] t360-02 -- radio.muso.club\\nbroadcast.muso.club\\nconsole.muso.club --> t360-01 t360-02 -- nextcloud.muso.club --> t360-03[t360\\nnaledi\\n192.168.1.151\\n192.168.2.1] t360-03 -- :8006 --> R720-01 t360-03 -- :8007->:8006 --> R720-02 t360-03 -- :80\\n:443 --> VC-01 VC-01 -- nextcloud.muso.club --> VC-02 VC-01 -- radio.thruhere.net --> LB-01 subgraph R720-01[R720\\npluto\\n192.168.2.50] subgraph VC-01[VC\\nstyx\\n192.168.2.60] end subgraph VC-02[VC\\nnextcloud\\n192.168.2.80] end subgraph LB-01[LB\\nkubernetes\\nmetallb\\n192.168.2.61] end end subgraph R720-02[R720\\nsaturn\\n192.168.2.51] subgraph VM-01[VM\\n????\\n192.168.2.70] end end","title":"DHCP and IP allocation"},{"location":"technicalDataCentre/#platform-configuration","text":"","title":"Platform configuration"},{"location":"technicalDataCentre/#netplan","text":"Modify /etc/netplan/00-installer-config.yaml for static IPs. See yaml below. Generate configuration: sudo netplan generate Apply configuration: sudo netplan apply # /etc/netplan/00-installer-config.yaml # Netplan for pluto network: ethernets: eno1: addresses: - 192.168.2.1/24 nameservers: addresses: - 8.8.8.8 routes: - to: default via: 192.168.2.10 eno2: addresses: - 192.168.2.2/24 eno3: addresses: - 192.168.2.3/24 eno4: addresses: - 192.168.2.4/24 version: 2","title":"NetPlan"},{"location":"technicalDataCentre/#lxd","text":"lxd installed standard on ubuntu server 22.04 Initialise: lxd init","title":"lxd"},{"location":"technicalDataCentre/#maas","text":"sudo snap install --channel=3.5 maas sudo snap install maas-test-db sudo systemctl disable --now systemd-timesyncd sudo maas init region+rack --database-uri maas-test-db:/// sudo maas createadmin --username=colleymj --email=martinjcolley@gmail.com Access GUI, set NS to 8.8.8.8 , and proxy to http://192.168.1.145:3128","title":"maas"},{"location":"technicalDataCentre/#unit-configuration","text":"Bare metal management: maas VM Management: LXD OS install: PXE Snap install: cloud-init","title":"Unit configuration"},{"location":"technicalDataCentre/#proxy","text":"At scale, artefacts from the internet typically used in a unit build can be cached with obvious benefit. I addition, when evaluating software, uninstallation to get a known good state for re-install is very efficient when cached apt, vm and snap packages are used. In the podnet norham installation, rudolfensis - 192.168.1.145:3128 - is used for the caching proxy. Install: sudo apt-get install squid Unit config: Add entries in /etc/environment , and /etc/bash.bashrc export https_proxy=http://192.168.1.145:3128 export http_proxy=http://192.168.1.145:3128 export ftp_proxy=ftp://192.168.1.145:3128 Unit config: Add entries in /etc/apt/apt.conf : Acquire::http::proxy \"http://192.168.1.145:3128/\"; Acquire::ftp::proxy \"ftp://192.168.1.145:3128/\"; Acquire::https::proxy \"https://192.168.1.145:3128/\"; Snap: snap set system proxy.http=\"http://192.168.1.145:3128\" snap set system proxy.https=\"http://192.168.1.145:3128\"","title":"Proxy"},{"location":"technicalDataCentre/#router","text":"Strategy: Add a dedicated t630, using wifi as 'WAN' interface, and enp1s0 as LAN NAT gateway. Strategy: Use port forwarding to access specific services on LAN from WAN. Use t630 antecessor , install Ubuntu server using wi-fi connection Netplan: Set up enp1s0 with static IP 192.168.2.10 Clients: Set 192.168.2.10 as gateway Enable IP forwarding in the kernel: uncomment #net.ipv4.ip_forward=1 in /etc/sysctl.conf To test: echo 1 > /proc/sys/net/ipv4/ip_forward , which is lost on system restart Support persistent IP tables: apt install iptables-persistent NAT: iptables -t nat -A POSTROUTING -s 192.168.2.0/24 -o wlp2s0 -j MASQUERADE Save changes to persistent tables: sudo iptables-save > /etc/iptables/rules.v4 For ssh: iptables -t nat -A PREROUTING -i wlp2s0 -p tcp --dport 2222 -j DNAT --to-destination 192.168.2.1:22 For maas: iptables -t nat -A PREROUTING -i wlp2s0 -p tcp --dport 5240 -j DNAT --to-destination 192.168.2.1:5240 For lxd: iptables -t nat -A PREROUTING -i wlp2s0 -p tcp --dport 8843 -j DNAT --to-destination 192.168.2.51:8843 Check the rules: iptables -t nat -nvL Save the rules: iptables-save > /etc/iptables/rules.v4","title":"Router"},{"location":"technicalDataCentre/#ipmi","text":"Fan control: sudo ipmitool raw 0x30 0x30 0x01 0x00 Set fan speed: sudo ipmitool raw 0x30 0x30 0x02 0xff 0x14","title":"IPMI"},{"location":"technicalDataCentre/#config-method-automation-options","text":"Use cloud config to install git and ansible Use cloud init ansible package to pull config from git Create repo https://github.com/MoTTTT/podnode.git Create ansible playbook podnode.yaml #cloud-config ansible: package_name: ansible-core install_method: distro pull: url: https://github.com/MoTTTT/podnode.git playbook_name: podnode.yaml","title":"Config Method automation options"},{"location":"technicalDataCentre/#proxmox-ansible","text":"Token: d8d9e43c-fcdf-4dfd-83d3-1b2cdcb528ac","title":"ProxMox ansible"},{"location":"technicalDataCentre/#proxmox-cloudinit","text":"wget https://cloud-images.ubuntu.com/jammy/current/jammy-server-cloudimg-amd64.img qm create 9000 --memory 2048 --net0 virtio,bridge=vmbr0 --scsihw virtio-scsi-pci","title":"Proxmox cloudinit"},{"location":"technicalExternalServices/","text":"External Services Introduction In this context, External Services are referred to as those services, provisioned on the WAN from the perspective of the cluster LAN, that the solution is dependant on, either at build or run-time. While the intention is to reduce external dependencies where possible, some need to be external (such as domain hosting) and some are currently not supported internally (such as repo and artefact hosting). Existing public services DynDns for domain hosting iCloud for off-site storage LetsEncrypt for https certificates GitHub for source code repository Additional public services Cloudsmith for helm chart repository Implementation details Requirements Non functional services requirements are as follows: Storage Internet ingress Application container Database Internet name service (DNS) Certificate for https As-is implementation The non function requirements are currently provisioned as follows Storage is supplied to the network using a NFS server, sigiriya Internet ingress is implemented using fibre router port forwarding to multiple internal network IP:Port listeners The application container is Zope, running in a VirtualBox host on mac host bukit The database is Postgres, running in a VirtualBox host on mac host bukit Updating of the DynDns host to IP mappings is managed by the fibre router The https certificate is managed using certbot on bukit There are a number of these services that are implemented in such a way that they represent a single point of failure. This is not avoidable in the case of functionality provided by the fibre router. All other services can be highly available. To-be solution The following changes are required Migrate from NFS to distributed storage. Ceph has been selected Internet ingress fan-out will be handled by the k8s cluster. The router will only forward ports 80 and 443 to the cluster lbr (ovoo) Zope to be packaged and managed using k8s Postgres packaging for k8s Since multiple hosts IP mappings are required, and the fibre router being limited to one host update, this function moves out of the router. Ideally packaged for k8s. Kubernetes Certificate Manager to be used to update https certificates --- title: Original application services --- graph TD subgraph Q Solutions subgraph Mac: bukit subgraph VirtualBox: ularu subgraph Zope Server QApps end subgraph Postgres qappsDB end end subgraph Apache WebSites end subgraph certbot qsolutions.endoftheinternet.org end end subgraph Fibre router subgraph DynDns Updater qsolutions.endoftheinternet.org end subgraph WAN to LAN port forwarding :80-bukit:443 end end subgraph Mac: sigiriya subgraph Network Storage nfs-service[(/srv/nfs/)] end end end --- title: Refactored application services --- graph LR subgraph Q Solutions subgraph Fibre router subgraph WAN to LAN port forwarding :80-ovoo:443 end end subgraph Ceph storage cluster subgraph sigiriya /dev/hdb end subgraph bukit /dev/loop1 end subgraph james /dev/hdc end end subgraph Prometheus sigiriya:9090 end subgraph kubernetes cluster subgraph Zope Server QApps end subgraph Postgres qappsDB end subgraph Apache1 musings end subgraph Apache2 PodzoneDocs end subgraph DynDns Updater direction LR southern.podzone.net musings.thruhere.net, qsolutions.endoftheinternet.org end subgraph Certificate Manager direction LR https://southern.podzone.net https://musings.thruhere.net, https://qsolutions.endoftheinternet.org end end end","title":"External Services"},{"location":"technicalExternalServices/#external-services","text":"","title":"External Services"},{"location":"technicalExternalServices/#introduction","text":"In this context, External Services are referred to as those services, provisioned on the WAN from the perspective of the cluster LAN, that the solution is dependant on, either at build or run-time. While the intention is to reduce external dependencies where possible, some need to be external (such as domain hosting) and some are currently not supported internally (such as repo and artefact hosting).","title":"Introduction"},{"location":"technicalExternalServices/#existing-public-services","text":"DynDns for domain hosting iCloud for off-site storage LetsEncrypt for https certificates GitHub for source code repository","title":"Existing public services"},{"location":"technicalExternalServices/#additional-public-services","text":"Cloudsmith for helm chart repository","title":"Additional public services"},{"location":"technicalExternalServices/#implementation-details","text":"","title":"Implementation details"},{"location":"technicalExternalServices/#requirements","text":"Non functional services requirements are as follows: Storage Internet ingress Application container Database Internet name service (DNS) Certificate for https","title":"Requirements"},{"location":"technicalExternalServices/#as-is-implementation","text":"The non function requirements are currently provisioned as follows Storage is supplied to the network using a NFS server, sigiriya Internet ingress is implemented using fibre router port forwarding to multiple internal network IP:Port listeners The application container is Zope, running in a VirtualBox host on mac host bukit The database is Postgres, running in a VirtualBox host on mac host bukit Updating of the DynDns host to IP mappings is managed by the fibre router The https certificate is managed using certbot on bukit There are a number of these services that are implemented in such a way that they represent a single point of failure. This is not avoidable in the case of functionality provided by the fibre router. All other services can be highly available.","title":"As-is implementation"},{"location":"technicalExternalServices/#to-be-solution","text":"The following changes are required Migrate from NFS to distributed storage. Ceph has been selected Internet ingress fan-out will be handled by the k8s cluster. The router will only forward ports 80 and 443 to the cluster lbr (ovoo) Zope to be packaged and managed using k8s Postgres packaging for k8s Since multiple hosts IP mappings are required, and the fibre router being limited to one host update, this function moves out of the router. Ideally packaged for k8s. Kubernetes Certificate Manager to be used to update https certificates --- title: Original application services --- graph TD subgraph Q Solutions subgraph Mac: bukit subgraph VirtualBox: ularu subgraph Zope Server QApps end subgraph Postgres qappsDB end end subgraph Apache WebSites end subgraph certbot qsolutions.endoftheinternet.org end end subgraph Fibre router subgraph DynDns Updater qsolutions.endoftheinternet.org end subgraph WAN to LAN port forwarding :80-bukit:443 end end subgraph Mac: sigiriya subgraph Network Storage nfs-service[(/srv/nfs/)] end end end --- title: Refactored application services --- graph LR subgraph Q Solutions subgraph Fibre router subgraph WAN to LAN port forwarding :80-ovoo:443 end end subgraph Ceph storage cluster subgraph sigiriya /dev/hdb end subgraph bukit /dev/loop1 end subgraph james /dev/hdc end end subgraph Prometheus sigiriya:9090 end subgraph kubernetes cluster subgraph Zope Server QApps end subgraph Postgres qappsDB end subgraph Apache1 musings end subgraph Apache2 PodzoneDocs end subgraph DynDns Updater direction LR southern.podzone.net musings.thruhere.net, qsolutions.endoftheinternet.org end subgraph Certificate Manager direction LR https://southern.podzone.net https://musings.thruhere.net, https://qsolutions.endoftheinternet.org end end end","title":"To-be solution"},{"location":"technicalFlux/","text":"Flux Introduction Flux is a Kubernetes GitOps Operator. GitOps is the practice of using code repositories as the single source of truth for cluster and workload configuration. Flux was built by Weaveworks, and donated to the Cloud Native Computing Foundation (CNCF). Instrumenting a cluster with Flux requires the following: A git repo for the cluster definition, with its associated access username and token exported. Installing the flux utility on a cluster administrator workstation (with kubectl context set for the target cluster). Bootstrapping flux, specifying the git account, repo, branch and path. When the bootstrap process concludes, the GIT repo will contain the flux-system component manifests, and the target cluster will have flux-system namespace operator components installed. The flux operator with thereafter monitor the git repo for cluster configuration requirement changes, and apply the appropriate cluster adjustments. dev environment bootstrap flux bootstrap github --context=microk8s --owner=MoTTTT --repository=podzonedev-gitops --branch=main --personal --path=clusters/megalith --token-auth=true Notes Mac OS flux Installation: brew install fluxcd/tap/flux Create a GITHUB token, and export username and token: export GITHUB_TOKEN=<token> ; export GITHUB_USER=MoTTTT Check flux and cluster: flux check --pre Bootstrap: flux bootstrap github --context=prod --owner=MoTTTT --repository=admin --branch=main --personal --path=clusters/prod --token-auth=true GitHub token expiry: Delete flux secret, and bootstrap again with new token in context. ??: brew tap weaveworks/tap brew install weaveworks/tap/gitops Resources created by flux Can be seen on delete: flux uninstall martincolley@Dolmen:~/workspace/admin/clusters/ukdev$ flux uninstall Are you sure you want to delete Flux and its custom resource definitions: y \u25ba deleting components in flux-system namespace \u2714 Deployment/flux-system/helm-controller deleted \u2714 Deployment/flux-system/kustomize-controller deleted \u2714 Deployment/flux-system/notification-controller deleted \u2714 Deployment/flux-system/source-controller deleted \u2714 Service/flux-system/notification-controller deleted \u2714 Service/flux-system/source-controller deleted \u2714 Service/flux-system/webhook-receiver deleted \u2714 NetworkPolicy/flux-system/allow-egress deleted \u2714 NetworkPolicy/flux-system/allow-scraping deleted \u2714 NetworkPolicy/flux-system/allow-webhooks deleted \u2714 ServiceAccount/flux-system/helm-controller deleted \u2714 ServiceAccount/flux-system/kustomize-controller deleted \u2714 ServiceAccount/flux-system/notification-controller deleted \u2714 ServiceAccount/flux-system/source-controller deleted \u2714 ClusterRole/crd-controller-flux-system deleted \u2714 ClusterRole/flux-edit-flux-system deleted \u2714 ClusterRole/flux-view-flux-system deleted \u2714 ClusterRoleBinding/cluster-reconciler-flux-system deleted \u2714 ClusterRoleBinding/crd-controller-flux-system deleted \u25ba deleting toolkit.fluxcd.io finalizers in all namespaces \u2714 GitRepository/flux-system/flux-system finalizers deleted \u2714 Kustomization/flux-system/flux-system finalizers deleted \u25ba deleting toolkit.fluxcd.io custom resource definitions \u2714 CustomResourceDefinition/alerts.notification.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/buckets.source.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/gitrepositories.source.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/helmcharts.source.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/helmreleases.helm.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/helmrepositories.source.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/kustomizations.kustomize.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/ocirepositories.source.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/providers.notification.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/receivers.notification.toolkit.fluxcd.io deleted \u2714 Namespace/flux-system deleted \u2714 uninstall finished","title":"Flux"},{"location":"technicalFlux/#flux","text":"","title":"Flux"},{"location":"technicalFlux/#introduction","text":"Flux is a Kubernetes GitOps Operator. GitOps is the practice of using code repositories as the single source of truth for cluster and workload configuration. Flux was built by Weaveworks, and donated to the Cloud Native Computing Foundation (CNCF). Instrumenting a cluster with Flux requires the following: A git repo for the cluster definition, with its associated access username and token exported. Installing the flux utility on a cluster administrator workstation (with kubectl context set for the target cluster). Bootstrapping flux, specifying the git account, repo, branch and path. When the bootstrap process concludes, the GIT repo will contain the flux-system component manifests, and the target cluster will have flux-system namespace operator components installed. The flux operator with thereafter monitor the git repo for cluster configuration requirement changes, and apply the appropriate cluster adjustments.","title":"Introduction"},{"location":"technicalFlux/#dev-environment-bootstrap","text":"flux bootstrap github --context=microk8s --owner=MoTTTT --repository=podzonedev-gitops --branch=main --personal --path=clusters/megalith --token-auth=true","title":"dev environment bootstrap"},{"location":"technicalFlux/#notes","text":"Mac OS flux Installation: brew install fluxcd/tap/flux Create a GITHUB token, and export username and token: export GITHUB_TOKEN=<token> ; export GITHUB_USER=MoTTTT Check flux and cluster: flux check --pre Bootstrap: flux bootstrap github --context=prod --owner=MoTTTT --repository=admin --branch=main --personal --path=clusters/prod --token-auth=true GitHub token expiry: Delete flux secret, and bootstrap again with new token in context. ??: brew tap weaveworks/tap brew install weaveworks/tap/gitops","title":"Notes"},{"location":"technicalFlux/#resources-created-by-flux","text":"Can be seen on delete: flux uninstall martincolley@Dolmen:~/workspace/admin/clusters/ukdev$ flux uninstall Are you sure you want to delete Flux and its custom resource definitions: y \u25ba deleting components in flux-system namespace \u2714 Deployment/flux-system/helm-controller deleted \u2714 Deployment/flux-system/kustomize-controller deleted \u2714 Deployment/flux-system/notification-controller deleted \u2714 Deployment/flux-system/source-controller deleted \u2714 Service/flux-system/notification-controller deleted \u2714 Service/flux-system/source-controller deleted \u2714 Service/flux-system/webhook-receiver deleted \u2714 NetworkPolicy/flux-system/allow-egress deleted \u2714 NetworkPolicy/flux-system/allow-scraping deleted \u2714 NetworkPolicy/flux-system/allow-webhooks deleted \u2714 ServiceAccount/flux-system/helm-controller deleted \u2714 ServiceAccount/flux-system/kustomize-controller deleted \u2714 ServiceAccount/flux-system/notification-controller deleted \u2714 ServiceAccount/flux-system/source-controller deleted \u2714 ClusterRole/crd-controller-flux-system deleted \u2714 ClusterRole/flux-edit-flux-system deleted \u2714 ClusterRole/flux-view-flux-system deleted \u2714 ClusterRoleBinding/cluster-reconciler-flux-system deleted \u2714 ClusterRoleBinding/crd-controller-flux-system deleted \u25ba deleting toolkit.fluxcd.io finalizers in all namespaces \u2714 GitRepository/flux-system/flux-system finalizers deleted \u2714 Kustomization/flux-system/flux-system finalizers deleted \u25ba deleting toolkit.fluxcd.io custom resource definitions \u2714 CustomResourceDefinition/alerts.notification.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/buckets.source.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/gitrepositories.source.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/helmcharts.source.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/helmreleases.helm.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/helmrepositories.source.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/kustomizations.kustomize.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/ocirepositories.source.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/providers.notification.toolkit.fluxcd.io deleted \u2714 CustomResourceDefinition/receivers.notification.toolkit.fluxcd.io deleted \u2714 Namespace/flux-system deleted \u2714 uninstall finished","title":"Resources created by flux"},{"location":"technicalHardware/","text":"Hardware planning Hardware categories Enterprise hardware Production Kubernetes Cluster IT Development devices Workstations IoT Devices Enterprise hardware Pluto Dell PowerEdge R720 16 X CPU cores: 2x Intel Xeon E5-2650 V1 @2.00GHz With hyperthreading, OS reports 32 CPUs total 4 X 1GbE Ethernet Ports: (FM487 Quad Port Broadcom 5720 Network Card) 8 x 8GB RAM 8 X 147GB SAS 2.5\" HDD Storage Backup / temporary SAS storage solution 4x SEAGATE CONSTELLATION 3TB ES.3 ST3000NM0023 3.5\" 6G SAS HDD 2 X SAS Hard Disk Drive SFF-8482 Male To Female Extension Cable BS Hardware allocation CPUs: 32 CPUs , 256GB RAM Disk: 4 X 174 GB + 4 X 600 GB Disk CPU unit resource ratio: 1 Unit = {1 Core; 2 GB RAM; 36 GB Disk} With 256 GB RAM, unit is 1;8;36 Assumption: 1 Unit sufficient for container, 2 units required for VM Assume largest VM requirement: 16 GB RAM = 8 units, with 8 CPUs and 288 GB disk. 4 X {1 Core; 4 GB RAM; 73 GB Disk}: ceph / gateway / tftp / dhcp 4 X {2 Core; 8 GB RAM; 73 GB Disk}: k8s 1 X {4 Core; 16 GB RAM; 147 GB Disk} 4 X {73 GB Disk RAW}: Ceph / iSCSI Network Architecture FM487 Quad Port Broadcom 5720 Network Card 4 X 1GbE Ethernet Ports Assignment: Ethernet Port 1 LAN 1 Assignment: Ethernet Port 2 LAN 2 Assignment: Ethernet Port 3 cluster network 1 Assignment: Ethernet Port 4 cluster network 2 Storage Architecture Pluto: Using 8 X SAS 147GB HDDs in RAID0 configuration Consumer hardware Kubernetes Cluster 10 X HP t360 {4 CPU, 24 GB RAM, 128 GB Disk (OS) + 256 GB Disk (Raw)} Even ratio unit = {1 CPU, 6 GB RAM, 32 GB Disk} Even ratio unit = {1 CPU, 6 GB RAM, 32 GB Disk} Reference, no storage?: https://support.hp.com/gb-en/document/c05240287 Reference, has storage: https://support.hp.com/gb-en/document/c05847930 https://www.miccet.nl/2023/01/11/extra-nic-on-the-hp-thin-client-t630/ https://www.ebay.com/p/24053807327?iid=134188279673 https://www.reddit.com/r/homelab/comments/x49xw5/hp_t630_thin_client_as_a_ubuntu_server/ IT Development devices Mac mini 1: Mac mini 2: Workstations Macbook: dolmen Ubuntu desktop: james IoT Devices","title":"Hardware planning"},{"location":"technicalHardware/#hardware-planning","text":"","title":"Hardware planning"},{"location":"technicalHardware/#hardware-categories","text":"Enterprise hardware Production Kubernetes Cluster IT Development devices Workstations IoT Devices","title":"Hardware categories"},{"location":"technicalHardware/#enterprise-hardware","text":"","title":"Enterprise hardware"},{"location":"technicalHardware/#pluto","text":"Dell PowerEdge R720 16 X CPU cores: 2x Intel Xeon E5-2650 V1 @2.00GHz With hyperthreading, OS reports 32 CPUs total 4 X 1GbE Ethernet Ports: (FM487 Quad Port Broadcom 5720 Network Card) 8 x 8GB RAM 8 X 147GB SAS 2.5\" HDD Storage","title":"Pluto"},{"location":"technicalHardware/#backup-temporary-sas-storage-solution","text":"4x SEAGATE CONSTELLATION 3TB ES.3 ST3000NM0023 3.5\" 6G SAS HDD 2 X SAS Hard Disk Drive SFF-8482 Male To Female Extension Cable BS","title":"Backup / temporary SAS storage solution"},{"location":"technicalHardware/#hardware-allocation","text":"CPUs: 32 CPUs , 256GB RAM Disk: 4 X 174 GB + 4 X 600 GB Disk CPU unit resource ratio: 1 Unit = {1 Core; 2 GB RAM; 36 GB Disk} With 256 GB RAM, unit is 1;8;36 Assumption: 1 Unit sufficient for container, 2 units required for VM Assume largest VM requirement: 16 GB RAM = 8 units, with 8 CPUs and 288 GB disk. 4 X {1 Core; 4 GB RAM; 73 GB Disk}: ceph / gateway / tftp / dhcp 4 X {2 Core; 8 GB RAM; 73 GB Disk}: k8s 1 X {4 Core; 16 GB RAM; 147 GB Disk} 4 X {73 GB Disk RAW}: Ceph / iSCSI","title":"Hardware allocation"},{"location":"technicalHardware/#network-architecture","text":"FM487 Quad Port Broadcom 5720 Network Card 4 X 1GbE Ethernet Ports Assignment: Ethernet Port 1 LAN 1 Assignment: Ethernet Port 2 LAN 2 Assignment: Ethernet Port 3 cluster network 1 Assignment: Ethernet Port 4 cluster network 2","title":"Network Architecture"},{"location":"technicalHardware/#storage-architecture","text":"Pluto: Using 8 X SAS 147GB HDDs in RAID0 configuration","title":"Storage Architecture"},{"location":"technicalHardware/#consumer-hardware-kubernetes-cluster","text":"10 X HP t360 {4 CPU, 24 GB RAM, 128 GB Disk (OS) + 256 GB Disk (Raw)} Even ratio unit = {1 CPU, 6 GB RAM, 32 GB Disk} Even ratio unit = {1 CPU, 6 GB RAM, 32 GB Disk} Reference, no storage?: https://support.hp.com/gb-en/document/c05240287 Reference, has storage: https://support.hp.com/gb-en/document/c05847930 https://www.miccet.nl/2023/01/11/extra-nic-on-the-hp-thin-client-t630/ https://www.ebay.com/p/24053807327?iid=134188279673 https://www.reddit.com/r/homelab/comments/x49xw5/hp_t630_thin_client_as_a_ubuntu_server/","title":"Consumer hardware Kubernetes Cluster"},{"location":"technicalHardware/#it-development-devices","text":"Mac mini 1: Mac mini 2:","title":"IT Development devices"},{"location":"technicalHardware/#workstations","text":"Macbook: dolmen Ubuntu desktop: james","title":"Workstations"},{"location":"technicalHardware/#iot-devices","text":"","title":"IoT Devices"},{"location":"technicalIngress/","text":"Ingress Northern Zone: Flux configuration See for networking architecture of the second site. Addition of non-http ingresses Non http-ingress is required for various use-cases. The first critical one is for off-site incoming streams for the radio. See technicalRadio.mds Ingress for Master and DJ apiVersion: v1 kind: ConfigMap metadata: name: tcp-services namespace: ingress-nginx data: 8001: \"radio/liquidsoap:8001\" 8002: \"radio/liquidsoap:8002\" Example The next example shows how to expose the service example-go running in the namespace default in the port 8080 using the port 9000 apiVersion: v1 kind: ConfigMap metadata: name: tcp-services namespace: ingress-nginx data: 9000: \"default/example-go:8080\" ```Then, the config map should be added to the ingress controller\u2019s deployment args. args: - /nginx-ingress-controller - --tcp-services-configmap=ingress-nginx/tcp-services --set tcp-services-configmap=ingress-nginx/tcp-services helm upgrade --set deployment.args=\"--inspect server.js\" ... helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --set tcp-services-configmap=ingress-nginx/tcp-services helm upgrade --reuse-values ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --set tcp-services-configmap=ingress-nginx/tcp-services --namespace ingress-nginx ## References - <https://kubernetes.github.io/ingress-nginx/user-guide/exposing-tcp-udp-services/> - <https://docs.nginx.com/nginx-ingress-controller/configuration/global-configuration/command-line-arguments/> ## Southern Zone: manual configuration ```mermaid --- title: southern.podzone.net Request Routing --- graph TD clientExt1 --> routerPort1 routerPort1 --> ovoo lbr --> ingress ingress -->|musings.thruhere.net| app1 ingress -->|qsolutions.endoftheinternet.org| app4 ingress -->|control.southern.podzone.net| app2 ingress -->|dashboard.southern.podzone.net| app3 subgraph Internet clientExt1([Internet Client]) end subgraph Router routerPort1[[port forward :443-> oovo:443]] end subgraph southern.podzone.net subgraph ovoo lbr{{lbr}} end ingress app1(apache) app4(zope) app2(k8s control plane) app3(k8s dashboard) end Ingress configuration L2 Load Balancer MetalLB is used to implement an L2 load balancer. The metallb microk8s add-on is required: sudo microk8s enable metallb Production: Assign range: 192.168.0.131-192.168.0.132 Dev: Assign range: 192.168.0.141-192.168.0.142 Ingress Controller An ingress controller is required. De-facto standard seems to be ingress-nginx. Load ingress-nginx using helm: sudo microk8s helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --create-namespace sudo microk8s kubectl --namespace ingress-nginx get services -o wide -w ingress-nginx-controller NOTE: Enabling the microk8s add-on failed to produce a working ingress for me, not sure what I was doing wrong. Certificate Management Enable the microk8s cert-manager, and define ClusterIssuer and Certificate requirements sudo microk8s enable cert-manager ClusterIssuer.yaml Certificates.yaml Ingress definition Annotations link in the Certificate ClusterIssuer, and config to specify the hostname and tls secret. There is also an annotation to set the app-root. ApacheSecureIngress.yaml","title":"Ingress"},{"location":"technicalIngress/#ingress","text":"","title":"Ingress"},{"location":"technicalIngress/#northern-zone-flux-configuration","text":"See for networking architecture of the second site.","title":"Northern Zone: Flux configuration"},{"location":"technicalIngress/#addition-of-non-http-ingresses","text":"Non http-ingress is required for various use-cases. The first critical one is for off-site incoming streams for the radio. See technicalRadio.mds","title":"Addition of non-http ingresses"},{"location":"technicalIngress/#ingress-for-master-and-dj","text":"apiVersion: v1 kind: ConfigMap metadata: name: tcp-services namespace: ingress-nginx data: 8001: \"radio/liquidsoap:8001\" 8002: \"radio/liquidsoap:8002\"","title":"Ingress for Master and DJ"},{"location":"technicalIngress/#example","text":"The next example shows how to expose the service example-go running in the namespace default in the port 8080 using the port 9000 apiVersion: v1 kind: ConfigMap metadata: name: tcp-services namespace: ingress-nginx data: 9000: \"default/example-go:8080\" ```Then, the config map should be added to the ingress controller\u2019s deployment args. args: - /nginx-ingress-controller - --tcp-services-configmap=ingress-nginx/tcp-services --set tcp-services-configmap=ingress-nginx/tcp-services helm upgrade --set deployment.args=\"--inspect server.js\" ... helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --set tcp-services-configmap=ingress-nginx/tcp-services helm upgrade --reuse-values ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --set tcp-services-configmap=ingress-nginx/tcp-services --namespace ingress-nginx ## References - <https://kubernetes.github.io/ingress-nginx/user-guide/exposing-tcp-udp-services/> - <https://docs.nginx.com/nginx-ingress-controller/configuration/global-configuration/command-line-arguments/> ## Southern Zone: manual configuration ```mermaid --- title: southern.podzone.net Request Routing --- graph TD clientExt1 --> routerPort1 routerPort1 --> ovoo lbr --> ingress ingress -->|musings.thruhere.net| app1 ingress -->|qsolutions.endoftheinternet.org| app4 ingress -->|control.southern.podzone.net| app2 ingress -->|dashboard.southern.podzone.net| app3 subgraph Internet clientExt1([Internet Client]) end subgraph Router routerPort1[[port forward :443-> oovo:443]] end subgraph southern.podzone.net subgraph ovoo lbr{{lbr}} end ingress app1(apache) app4(zope) app2(k8s control plane) app3(k8s dashboard) end","title":"Example"},{"location":"technicalIngress/#ingress-configuration","text":"","title":"Ingress configuration"},{"location":"technicalIngress/#l2-load-balancer","text":"MetalLB is used to implement an L2 load balancer. The metallb microk8s add-on is required: sudo microk8s enable metallb Production: Assign range: 192.168.0.131-192.168.0.132 Dev: Assign range: 192.168.0.141-192.168.0.142","title":"L2 Load Balancer"},{"location":"technicalIngress/#ingress-controller","text":"An ingress controller is required. De-facto standard seems to be ingress-nginx. Load ingress-nginx using helm: sudo microk8s helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --create-namespace sudo microk8s kubectl --namespace ingress-nginx get services -o wide -w ingress-nginx-controller NOTE: Enabling the microk8s add-on failed to produce a working ingress for me, not sure what I was doing wrong.","title":"Ingress Controller"},{"location":"technicalIngress/#certificate-management","text":"Enable the microk8s cert-manager, and define ClusterIssuer and Certificate requirements sudo microk8s enable cert-manager ClusterIssuer.yaml Certificates.yaml","title":"Certificate Management"},{"location":"technicalIngress/#ingress-definition","text":"Annotations link in the Certificate ClusterIssuer, and config to specify the hostname and tls secret. There is also an annotation to set the app-root. ApacheSecureIngress.yaml","title":"Ingress definition"},{"location":"technicalIoT/","text":"Rust on the uNode embedded controller development board The uNode (pronounced microNode) development board was designed in 1994, with a 10 unit production run in 2015. The board exposes all the pins on a connector to the 80C552 microcontroller, as well as providing on board RTC, RAM, a 16 key keypad, a 2X24 character LCD screen, and an RS232 port. Power is supplied at 9V, which is regulated on-board. There is an onboard battery keeping RAM values static, and RTC functioning in the absence of power 9V power. The board has a bootloader mode, selected with a dip switch, that allows code to be streamed in on the serial port, and stored in RAM, for execution in run mode. The bootloader mode also supports setting the RTC, and serial baud rate. Toolchain installation This is being recorded for when we want to automate build environment build. Note: The tool-chain needs to run on Linux, I shelled into a workstation from my Macbook to do the following: git clone https://github.com/meta-rust/meta-rust.git git clone https://git.yoctoproject.org/poky cd poky && git checkout -b honister origin/honister && cd - git clone https://git.openembedded.org/meta-openembedded cd meta-openembedded && git checkout -b honister origin/honister && cd - cd pokey Add rust lines to BBLAYERS in conf/bblayers.conf : /mnt/data/tmp/meta-openembedded/meta-oe \\ /mnt/data/tmp/meta-rust \\` Add rust-hello-world file to build directory: inherit cargo SRC_URI = \"git://github.com/meta-rust/rust-hello-world.git;protocol=https;branch=master\" SRCREV=\"e0fa23f1a3cb1eb1407165bd2fc36d2f6e6ad728\" LIC_FILES_CHKSUM=\"file://COPYRIGHT;md5=e6b2207ac3740d2d01141c49208c2147\" SRC_URI += \"\\ file://0001-enable-LTO.patch \\ \" SUMMARY = \"Hello World by Cargo for Rust\" HOMEPAGE = \"https://github.com/meta-rust/rust-hello-world\" LICENSE = \"MIT | Apache-2.0\" S = \"${WORKDIR}/git\" BBCLASSEXTEND = \"native\" bitbake rust-hello-world Initial run reported missing toolchain dependencies: sudo apt install chrpath diffstat liblz4-tool Second run failed due to broken pipe, after an hour or so. Third run failed due to broken pipe For Rasperry Pi pico: MACHINE should be set to \"raspberrypi-pico\" git clone --recurse-submodules https://github.com/ahcbb6/meta-raspberrypi-baremetal.git Microk8s on Raspberry Pi Ubuntu Core: sudo snap install microk8s --channel=latest/edge/strict For levant, to fix calico vxlan missing dependency: sudo apt install linux-modules-extra-raspi For RiPi: Add to /boot/firmware/cmdline.txt: cgroup_enable=memory cgroup_memory=1 net.ifnames=1 If required to prevent deployment to RPi arch (e.g. Opensearch): kubectl taint nodes levant key1=value1:NoSchedule Main references https://michael2012z.medium.com/rust-with-yocto-eab41476cd7b https://jaycarlson.net/embedded-linux/ https://github.com/ahcbb6/meta-raspberrypi-baremetal","title":"Rust on the uNode embedded controller development board"},{"location":"technicalIoT/#rust-on-the-unode-embedded-controller-development-board","text":"The uNode (pronounced microNode) development board was designed in 1994, with a 10 unit production run in 2015. The board exposes all the pins on a connector to the 80C552 microcontroller, as well as providing on board RTC, RAM, a 16 key keypad, a 2X24 character LCD screen, and an RS232 port. Power is supplied at 9V, which is regulated on-board. There is an onboard battery keeping RAM values static, and RTC functioning in the absence of power 9V power. The board has a bootloader mode, selected with a dip switch, that allows code to be streamed in on the serial port, and stored in RAM, for execution in run mode. The bootloader mode also supports setting the RTC, and serial baud rate.","title":"Rust on the uNode embedded controller development board"},{"location":"technicalIoT/#toolchain-installation","text":"This is being recorded for when we want to automate build environment build. Note: The tool-chain needs to run on Linux, I shelled into a workstation from my Macbook to do the following: git clone https://github.com/meta-rust/meta-rust.git git clone https://git.yoctoproject.org/poky cd poky && git checkout -b honister origin/honister && cd - git clone https://git.openembedded.org/meta-openembedded cd meta-openembedded && git checkout -b honister origin/honister && cd - cd pokey Add rust lines to BBLAYERS in conf/bblayers.conf : /mnt/data/tmp/meta-openembedded/meta-oe \\ /mnt/data/tmp/meta-rust \\` Add rust-hello-world file to build directory: inherit cargo SRC_URI = \"git://github.com/meta-rust/rust-hello-world.git;protocol=https;branch=master\" SRCREV=\"e0fa23f1a3cb1eb1407165bd2fc36d2f6e6ad728\" LIC_FILES_CHKSUM=\"file://COPYRIGHT;md5=e6b2207ac3740d2d01141c49208c2147\" SRC_URI += \"\\ file://0001-enable-LTO.patch \\ \" SUMMARY = \"Hello World by Cargo for Rust\" HOMEPAGE = \"https://github.com/meta-rust/rust-hello-world\" LICENSE = \"MIT | Apache-2.0\" S = \"${WORKDIR}/git\" BBCLASSEXTEND = \"native\" bitbake rust-hello-world Initial run reported missing toolchain dependencies: sudo apt install chrpath diffstat liblz4-tool Second run failed due to broken pipe, after an hour or so. Third run failed due to broken pipe For Rasperry Pi pico: MACHINE should be set to \"raspberrypi-pico\" git clone --recurse-submodules https://github.com/ahcbb6/meta-raspberrypi-baremetal.git","title":"Toolchain installation"},{"location":"technicalIoT/#microk8s-on-raspberry-pi","text":"Ubuntu Core: sudo snap install microk8s --channel=latest/edge/strict For levant, to fix calico vxlan missing dependency: sudo apt install linux-modules-extra-raspi For RiPi: Add to /boot/firmware/cmdline.txt: cgroup_enable=memory cgroup_memory=1 net.ifnames=1 If required to prevent deployment to RPi arch (e.g. Opensearch): kubectl taint nodes levant key1=value1:NoSchedule","title":"Microk8s on Raspberry Pi"},{"location":"technicalIoT/#main-references","text":"https://michael2012z.medium.com/rust-with-yocto-eab41476cd7b https://jaycarlson.net/embedded-linux/ https://github.com/ahcbb6/meta-raspberrypi-baremetal","title":"Main references"},{"location":"technicalIssues/","text":"Issues Ceph dashboard issues Unsuccessful load balancer configuration, due to ceph redirect to active dashboard node <Proxy balancer://ceph> BalancerMember http://192.168.1.112:8080/ BalancerMember http://192.168.1.113:8080/ BalancerMember http://192.168.1.117:8080/ ProxySet lbmethod=bytraffic </Proxy> ProxyPreserveHost on ProxyPass / \"balancer://ceph/\" ProxyPassReverse / \"balancer://ceph/\" ddclient [migrations] started [migrations] no migrations found usermod: no changes \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2551 \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557 \u2588\u2588\u2551 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551\u2588\u2588\u2551 \u2588\u2588\u2551 \u2588\u2588\u2551 \u255a\u2550\u2550\u2550\u2550\u2588\u2588\u2551\u2588\u2588\u2551\u2588\u2588\u2551 \u2588\u2588\u2551 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d Brought to you by linuxserver.io \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 To support LSIO projects visit: https://www.linuxserver.io/donate/ \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 GID/UID \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 User UID: 911 User GID: 911 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 [custom-init] No custom files found, skipping... Setting up watches. Watches established. [ls.io-init] done. /run/s6/basedir/scripts/rc.init: line 76: -f /etc/ddclient/ddclient.conf: not found Stream closed EOF for ddclient/ddclient01-76c5bc7c6d-5p922 (ddclient) Zope Currently (and since before the 2016 install) zope comes bundled with plone Plone current installs Zope 4 Zope 4 is a successor to Zope 2.13, making many changes that are not backwards compatible with Zope 2. Zope 2 still available, last updated 2010: https://old.zope.dev/Products/Zope/folder_contents Docker images for Zope 2 are available, e.g. https://hub.docker.com/r/eeacms/zope-2-10-5 Check also https://github.com/plone/cookiecutter-zope-instance Opensearch Persistent data store issues: resolved by reproducing and fixing nfs issues externally OpenSearch Dashboards server is not ready yet [opensearch-cluster-master-0] Not yet initialized (you may need to run securityadmin) Cluster not starting up, all pods up High RAM utilisation, removing until workload is deployed. Tested with fluentd (microk8s enable community first) Levant architecture Fatal glibc error: This version of Amazon Linux requires a newer ARM64 processor compliant with at least ARM architecture 8.2-a with cryptographic extensions. On EC2 this is Graviton 2 or later. Prevent pod scheduling onto Levant kubectl taint nodes levant key1=value1:NoSchedule Persistent Storage permissions Name: cephfs-pvc-registry Namespace: admin StorageClass: rook-cephfs Status: Pending Volume: Labels: <none> Annotations: volume.beta.kubernetes.io/storage-provisioner: rook-ceph.cephfs.csi.ceph.com volume.kubernetes.io/storage-provisioner: rook-ceph.cephfs.csi.ceph.com Finalizers: [kubernetes.io/pvc-protection] Capacity: Access Modes: VolumeMode: Filesystem Used By: <none> Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal ExternalProvisioning 7s (x4 over 22s) persistentvolume-controller Waiting for a volume to be created either by the external provisioner 'rook-ceph.cephfs.csi.ceph.com' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered. Normal Provisioning 6s (x6 over 22s) rook-ceph.cephfs.csi.ceph.com_csi-cephfsplugin-provisioner-95fbd8485-fb9pw_69c2e6ae-38ed-45a2-970c-4723c7e3e6d0 External provisioner is provisioning volume for claim \"admin/cephfs-pvc-registry\" Warning ProvisioningFailed 6s (x6 over 22s) rook-ceph.cephfs.csi.ceph.com_csi-cephfsplugin-provisioner-95fbd8485-fb9pw_69c2e6ae-38ed-45a2-970c-4723c7e3e6d0 failed to provision volume with StorageClass \"rook-cephfs\": error getting secret rook-csi-cephfs-provisioner in namespace rook-ceph: secrets \"rook-csi-cephfs-provisioner\" not found 2023-11-20T11:29:19.877413868Z csi-snapshotter W1120 11:29:19.877245 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:29:19.877451041Z csi-snapshotter E1120 11:29:19.877305 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:29:36.823050521Z csi-snapshotter W1120 11:29:36.822847 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:29:36.823092729Z csi-snapshotter E1120 11:29:36.822917 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:07.188915165Z csi-snapshotter W1120 11:30:07.188720 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:07.188988621Z csi-snapshotter E1120 11:30:07.188779 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:11.962789416Z csi-snapshotter W1120 11:30:11.962564 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:30:11.962821763Z csi-snapshotter E1120 11:30:11.962645 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:30:37.517657237Z csi-snapshotter W1120 11:30:37.517472 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:37.517705067Z csi-snapshotter E1120 11:30:37.517544 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:52.471136995Z csi-snapshotter W1120 11:30:52.470842 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:30:52.471201513Z csi-snapshotter E1120 11:30:52.470918 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:33.033589640Z csi-snapshotter W1120 11:31:33.033389 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:33.033666055Z csi-snapshotter E1120 11:31:33.033451 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:36.770477011Z csi-snapshotter W1120 11:31:36.770049 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:31:36.770535799Z csi-snapshotter E1120 11:31:36.770202 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:32:28.083071138Z csi-snapshotter W1120 11:32:28.082874 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:32:28.083113470Z csi-snapshotter E1120 11:32:28.082932 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:32:31.358857770Z csi-snapshotter W1120 11:32:31.358678 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:32:31.358893226Z csi-snapshotter E1120 11:32:31.358733 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:12.002229884Z csi-snapshotter W1120 11:33:12.002044 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:12.002263360Z csi-snapshotter E1120 11:33:12.002089 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:20.724244370Z csi-snapshotter W1120 11:33:20.724086 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:33:20.724276979Z csi-snapshotter E1120 11:33:20.724140 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:33:56.586826741Z csi-snapshotter W1120 11:33:56.586617 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:56.586867349Z csi-snapshotter E1120 11:33:56.586700 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:34:04.996189494Z csi-snapshotter W1120 11:34:04.995951 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:34:04.996229187Z csi-snapshotter E1120 11:34:04.996024 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:54.700054085Z csi-provisioner I1120 11:31:54.699841 1 controller.go:1337] provision \"admin/cephfs-pvc-registry\" class \"rook-cephfs\": started 2023-11-20T11:31:54.700403345Z csi-provisioner I1120 11:31:54.700159 1 event.go:285] Event(v1.ObjectReference{Kind:\"PersistentVolumeClaim\", Namespace:\"admin\", Name:\"cephfs-pvc-registry\", UID:\"ff51591c-3090-40df-9df7-6f7ba3ca08db\", APIVersion:\"v1\", ResourceVersion:\"3705014\", FieldPath:\"\"}): type: 'Normal' reason: 'Provisioning' External provisioner is provisioning volume for claim \"admin/cephfs-pvc-registry\" 2023-11-20T11:31:54.709752611Z csi-provisioner W1120 11:31:54.709502 1 controller.go:934] Retrying syncing claim \"ff51591c-3090-40df-9df7-6f7ba3ca08db\", failure 12 2023-11-20T11:31:54.709809356Z csi-provisioner E1120 11:31:54.709572 1 controller.go:957] error syncing claim \"ff51591c-3090-40df-9df7-6f7ba3ca08db\": failed to provision volume with StorageClass \"rook-cephfs\": error getting secret rook-csi-cephfs-provisioner in namespace rook-ceph: secrets \"rook-csi-cephfs-provisioner\" not found 2023-11-20T11:31:54.709836775Z csi-provisioner I1120 11:31:54.709618 1 event.go:285] Event(v1.ObjectReference{Kind:\"PersistentVolumeClaim\", Namespace:\"admin\", Name:\"cephfs-pvc-registry\", UID:\"ff51591c-3090-40df-9df7-6f7ba3ca08db\", APIVersion:\"v1\", ResourceVersion:\"3705014\", FieldPath:\"\"}): type: 'Warning' reason: 'ProvisioningFailed' failed to provision volume with StorageClass \"rook-cephfs\": error getting secret rook-csi-cephfs-provisioner in namespace rook-ceph: secrets \"rook-csi-cephfs-provisioner\" not found apiVersion: v1 data: userID: Y3NpLXJiZC1wcm92aXNpb25lcg== userKey: QVFDM0hrUmxacGZCSFJBQWc1Y2RDaW9ZZmxxUUdGbURuMGE3Znc9PQ== kind: Secret metadata: creationTimestamp: \"2023-11-02T22:12:09Z\" name: rook-csi-rbd-provisioner namespace: rook-ceph-external resourceVersion: \"2627\" uid: 655bfcc6-eca4-41ce-a81d-e2668c327484 type: kubernetes.io/rook Waiting for a volume to be created either by the external provisioner 'rook-ceph.rbd.csi.ceph.com' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered. Warning FailedScheduling 20s (x2 over 5m20s) default-scheduler 0/1 nodes are available: 1 Insufficient cpu, 1 Insufficient memory. preemption: 0/1 nodes are available: 1 No preemption victims found for incoming pod.. test: sudo microk8s kubectl --namespace rook-ceph-external get cephcluster NOTE: This gave an error for so long that I thought it was not working. Also, csi-cephfsplugin-provisioner and csi-rbdplugin-provisioner deployments (still) show 0/2 ready... While attempting to try to remove rook-ceph a few days later to retry from scratch, I got an error indicating that it was in use. colleymj@floresiensis:~$ sudo microk8s kubectl --namespace rook-ceph-external get cephcluster NAME DATADIRHOSTPATH MONCOUNT AGE PHASE MESSAGE HEALTH EXTERNAL FSID rook-ceph-external /var/lib/rook 3 4d19h Connected Cluster connected successfully HEALTH_WARN true 717715ab-d64d-42fe-9219-486015d2c166 NFS: [2023-10-07T08:47:23,800][INFO ][o.o.s.OpenSearchSecurityPlugin] [opensearch-cluster-master-0] Disabled https compression by default to mitigate BREACH attacks. You can enable it by setting 'http.compression: true' in opensearch.yml [2023-10-07T08:47:23,803][INFO ][o.o.e.ExtensionsManager ] [opensearch-cluster-master-0] ExtensionsManager initialized [2023-10-07T08:47:23,825][ERROR][o.o.b.OpenSearchUncaughtExceptionHandler] [opensearch-cluster-master-0] uncaught exception in thread [main] org.opensearch.bootstrap.StartupException: OpenSearchException[failed to bind service]; nested: AccessDeniedException[/usr/share/opensearch/data/nodes]; PersistentVolumeCLaim error: no persistent volumes available for this claim and no storage class is set chown failure: enableInitChown: false Reproduce on direct nfs mount on dolmen, fine tuned /etc/exports with all_squash vm.max_map_count [1]: max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144] Temporary: sysctl -w vm.max_map_count=262144 Permanent: Add vm.max_map_count = 262144 to /etc/sysctl.conf Networking [X] Letsencrypt acme-challenge failing \"msg\"=\"Certificate must be re-issued\" \"key\"=\"default/qsolution-cert\" \"message\"=\"Issuing certificate as Secret does not exist\" : Use helm ingress controller installation, nit microk8s enable ingress [X] Node IP Address not populating in ExternalIP for NodePort: Need to use MetalLB [X] ingress-nginx-controller calls out to google.com , fingerprints.bablosoft.com , ip.bablosoft.com and api.ipify.org [X] ingress-controller giving 404 error - not routing requests to back-end [X] Ingress controllers: [X] Helm install: helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx - [X] create-namespace [X] microk8s enable ingress: does not provision an ingress controller [X] https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/aws/nlb-with-tls-termination/deploy.yaml \"Found valid IngressClass\" ingress=\"default/cm-acme-http-solver-wrpsk\" ingressclass=\"nginx\" E1028 11:53:50.833249 1 controller.go:210] cert-manager/challenges/scheduler \"msg\"=\"error scheduling challenge for processing\" \"error\"=\"Operation cannot be fulfilled on challenges.acme.cert-manager.io \"docs-cert-gfdzt-2136338773-280458000\\\": the object has been modified; please apply your changes to the latest version and try again\" \"resource_kind\"=\"Challenge\" \"resource_name\"=\"docs-cert-gfdzt-2136338773-280458000\" \"resource_namespace\"=\"kube-system\" \"resource_version\"=\"v1\" Raspberry Pi [X] Levant: microk8s on RPi (Ubuntu Server) not/intermittently supported: error: snap \"microk8s\" is not available on stable for this architecture (armhf) but exists on other architectures (amd64, arm64, ppc64el). [X] Levant: microk8s on RiPi (Ubuntu Core) intermittently supported: martinjcolley@levant:~$ snap install microk8s --channel=latest/edge/strict error: snap \"microk8s\" requires classic confinement which is only available on classic systems [ ] Opensearch deploy fails to RPi arch: kubectl taint nodes levant key1=value1:NoSchedule [ ] Installing k3s on model 2B boards with `` [INFO] systemd: Starting k3s Job for k3s.service failed because a fatal signal was delivered causing the control process to dump core. See \"systemctl status k3s.service\" and \"journalctl -xeu k3s.service\" for details. colleymj@balin:~ $ curl -sfL https://get.k3s.io | sh - colleymj@balin:~ $ uname -a Linux balin 6.1.0-rpi4-rpi-v6 #1 Raspbian 1:6.1.54-1+rpt2 (2023-10-05) armv6l GNU/Linux https://github.com/k3s-io/k3s/issues/4643 Dolmen [ ] Networking issues, probably caused by Cisco Anyconnect, see refs","title":"Issues"},{"location":"technicalIssues/#issues","text":"","title":"Issues"},{"location":"technicalIssues/#ceph-dashboard-issues","text":"Unsuccessful load balancer configuration, due to ceph redirect to active dashboard node <Proxy balancer://ceph> BalancerMember http://192.168.1.112:8080/ BalancerMember http://192.168.1.113:8080/ BalancerMember http://192.168.1.117:8080/ ProxySet lbmethod=bytraffic </Proxy> ProxyPreserveHost on ProxyPass / \"balancer://ceph/\" ProxyPassReverse / \"balancer://ceph/\"","title":"Ceph dashboard issues"},{"location":"technicalIssues/#ddclient","text":"[migrations] started [migrations] no migrations found usermod: no changes \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2551 \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557 \u2588\u2588\u2551 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551\u2588\u2588\u2551 \u2588\u2588\u2551 \u2588\u2588\u2551 \u255a\u2550\u2550\u2550\u2550\u2588\u2588\u2551\u2588\u2588\u2551\u2588\u2588\u2551 \u2588\u2588\u2551 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d Brought to you by linuxserver.io \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 To support LSIO projects visit: https://www.linuxserver.io/donate/ \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 GID/UID \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 User UID: 911 User GID: 911 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 [custom-init] No custom files found, skipping... Setting up watches. Watches established. [ls.io-init] done. /run/s6/basedir/scripts/rc.init: line 76: -f /etc/ddclient/ddclient.conf: not found Stream closed EOF for ddclient/ddclient01-76c5bc7c6d-5p922 (ddclient)","title":"ddclient"},{"location":"technicalIssues/#zope","text":"Currently (and since before the 2016 install) zope comes bundled with plone Plone current installs Zope 4 Zope 4 is a successor to Zope 2.13, making many changes that are not backwards compatible with Zope 2. Zope 2 still available, last updated 2010: https://old.zope.dev/Products/Zope/folder_contents Docker images for Zope 2 are available, e.g. https://hub.docker.com/r/eeacms/zope-2-10-5 Check also https://github.com/plone/cookiecutter-zope-instance","title":"Zope"},{"location":"technicalIssues/#opensearch","text":"Persistent data store issues: resolved by reproducing and fixing nfs issues externally OpenSearch Dashboards server is not ready yet [opensearch-cluster-master-0] Not yet initialized (you may need to run securityadmin) Cluster not starting up, all pods up High RAM utilisation, removing until workload is deployed. Tested with fluentd (microk8s enable community first)","title":"Opensearch"},{"location":"technicalIssues/#levant-architecture","text":"Fatal glibc error: This version of Amazon Linux requires a newer ARM64 processor compliant with at least ARM architecture 8.2-a with cryptographic extensions. On EC2 this is Graviton 2 or later. Prevent pod scheduling onto Levant kubectl taint nodes levant key1=value1:NoSchedule","title":"Levant architecture"},{"location":"technicalIssues/#persistent-storage-permissions","text":"Name: cephfs-pvc-registry Namespace: admin StorageClass: rook-cephfs Status: Pending Volume: Labels: <none> Annotations: volume.beta.kubernetes.io/storage-provisioner: rook-ceph.cephfs.csi.ceph.com volume.kubernetes.io/storage-provisioner: rook-ceph.cephfs.csi.ceph.com Finalizers: [kubernetes.io/pvc-protection] Capacity: Access Modes: VolumeMode: Filesystem Used By: <none> Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal ExternalProvisioning 7s (x4 over 22s) persistentvolume-controller Waiting for a volume to be created either by the external provisioner 'rook-ceph.cephfs.csi.ceph.com' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered. Normal Provisioning 6s (x6 over 22s) rook-ceph.cephfs.csi.ceph.com_csi-cephfsplugin-provisioner-95fbd8485-fb9pw_69c2e6ae-38ed-45a2-970c-4723c7e3e6d0 External provisioner is provisioning volume for claim \"admin/cephfs-pvc-registry\" Warning ProvisioningFailed 6s (x6 over 22s) rook-ceph.cephfs.csi.ceph.com_csi-cephfsplugin-provisioner-95fbd8485-fb9pw_69c2e6ae-38ed-45a2-970c-4723c7e3e6d0 failed to provision volume with StorageClass \"rook-cephfs\": error getting secret rook-csi-cephfs-provisioner in namespace rook-ceph: secrets \"rook-csi-cephfs-provisioner\" not found 2023-11-20T11:29:19.877413868Z csi-snapshotter W1120 11:29:19.877245 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:29:19.877451041Z csi-snapshotter E1120 11:29:19.877305 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:29:36.823050521Z csi-snapshotter W1120 11:29:36.822847 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:29:36.823092729Z csi-snapshotter E1120 11:29:36.822917 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:07.188915165Z csi-snapshotter W1120 11:30:07.188720 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:07.188988621Z csi-snapshotter E1120 11:30:07.188779 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:11.962789416Z csi-snapshotter W1120 11:30:11.962564 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:30:11.962821763Z csi-snapshotter E1120 11:30:11.962645 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:30:37.517657237Z csi-snapshotter W1120 11:30:37.517472 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:37.517705067Z csi-snapshotter E1120 11:30:37.517544 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:52.471136995Z csi-snapshotter W1120 11:30:52.470842 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:30:52.471201513Z csi-snapshotter E1120 11:30:52.470918 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:33.033589640Z csi-snapshotter W1120 11:31:33.033389 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:33.033666055Z csi-snapshotter E1120 11:31:33.033451 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:36.770477011Z csi-snapshotter W1120 11:31:36.770049 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:31:36.770535799Z csi-snapshotter E1120 11:31:36.770202 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:32:28.083071138Z csi-snapshotter W1120 11:32:28.082874 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:32:28.083113470Z csi-snapshotter E1120 11:32:28.082932 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:32:31.358857770Z csi-snapshotter W1120 11:32:31.358678 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:32:31.358893226Z csi-snapshotter E1120 11:32:31.358733 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:12.002229884Z csi-snapshotter W1120 11:33:12.002044 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:12.002263360Z csi-snapshotter E1120 11:33:12.002089 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:20.724244370Z csi-snapshotter W1120 11:33:20.724086 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:33:20.724276979Z csi-snapshotter E1120 11:33:20.724140 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:33:56.586826741Z csi-snapshotter W1120 11:33:56.586617 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:56.586867349Z csi-snapshotter E1120 11:33:56.586700 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:34:04.996189494Z csi-snapshotter W1120 11:34:04.995951 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:34:04.996229187Z csi-snapshotter E1120 11:34:04.996024 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:54.700054085Z csi-provisioner I1120 11:31:54.699841 1 controller.go:1337] provision \"admin/cephfs-pvc-registry\" class \"rook-cephfs\": started 2023-11-20T11:31:54.700403345Z csi-provisioner I1120 11:31:54.700159 1 event.go:285] Event(v1.ObjectReference{Kind:\"PersistentVolumeClaim\", Namespace:\"admin\", Name:\"cephfs-pvc-registry\", UID:\"ff51591c-3090-40df-9df7-6f7ba3ca08db\", APIVersion:\"v1\", ResourceVersion:\"3705014\", FieldPath:\"\"}): type: 'Normal' reason: 'Provisioning' External provisioner is provisioning volume for claim \"admin/cephfs-pvc-registry\" 2023-11-20T11:31:54.709752611Z csi-provisioner W1120 11:31:54.709502 1 controller.go:934] Retrying syncing claim \"ff51591c-3090-40df-9df7-6f7ba3ca08db\", failure 12 2023-11-20T11:31:54.709809356Z csi-provisioner E1120 11:31:54.709572 1 controller.go:957] error syncing claim \"ff51591c-3090-40df-9df7-6f7ba3ca08db\": failed to provision volume with StorageClass \"rook-cephfs\": error getting secret rook-csi-cephfs-provisioner in namespace rook-ceph: secrets \"rook-csi-cephfs-provisioner\" not found 2023-11-20T11:31:54.709836775Z csi-provisioner I1120 11:31:54.709618 1 event.go:285] Event(v1.ObjectReference{Kind:\"PersistentVolumeClaim\", Namespace:\"admin\", Name:\"cephfs-pvc-registry\", UID:\"ff51591c-3090-40df-9df7-6f7ba3ca08db\", APIVersion:\"v1\", ResourceVersion:\"3705014\", FieldPath:\"\"}): type: 'Warning' reason: 'ProvisioningFailed' failed to provision volume with StorageClass \"rook-cephfs\": error getting secret rook-csi-cephfs-provisioner in namespace rook-ceph: secrets \"rook-csi-cephfs-provisioner\" not found apiVersion: v1 data: userID: Y3NpLXJiZC1wcm92aXNpb25lcg== userKey: QVFDM0hrUmxacGZCSFJBQWc1Y2RDaW9ZZmxxUUdGbURuMGE3Znc9PQ== kind: Secret metadata: creationTimestamp: \"2023-11-02T22:12:09Z\" name: rook-csi-rbd-provisioner namespace: rook-ceph-external resourceVersion: \"2627\" uid: 655bfcc6-eca4-41ce-a81d-e2668c327484 type: kubernetes.io/rook Waiting for a volume to be created either by the external provisioner 'rook-ceph.rbd.csi.ceph.com' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered. Warning FailedScheduling 20s (x2 over 5m20s) default-scheduler 0/1 nodes are available: 1 Insufficient cpu, 1 Insufficient memory. preemption: 0/1 nodes are available: 1 No preemption victims found for incoming pod.. test: sudo microk8s kubectl --namespace rook-ceph-external get cephcluster NOTE: This gave an error for so long that I thought it was not working. Also, csi-cephfsplugin-provisioner and csi-rbdplugin-provisioner deployments (still) show 0/2 ready... While attempting to try to remove rook-ceph a few days later to retry from scratch, I got an error indicating that it was in use. colleymj@floresiensis:~$ sudo microk8s kubectl --namespace rook-ceph-external get cephcluster NAME DATADIRHOSTPATH MONCOUNT AGE PHASE MESSAGE HEALTH EXTERNAL FSID rook-ceph-external /var/lib/rook 3 4d19h Connected Cluster connected successfully HEALTH_WARN true 717715ab-d64d-42fe-9219-486015d2c166 NFS: [2023-10-07T08:47:23,800][INFO ][o.o.s.OpenSearchSecurityPlugin] [opensearch-cluster-master-0] Disabled https compression by default to mitigate BREACH attacks. You can enable it by setting 'http.compression: true' in opensearch.yml [2023-10-07T08:47:23,803][INFO ][o.o.e.ExtensionsManager ] [opensearch-cluster-master-0] ExtensionsManager initialized [2023-10-07T08:47:23,825][ERROR][o.o.b.OpenSearchUncaughtExceptionHandler] [opensearch-cluster-master-0] uncaught exception in thread [main] org.opensearch.bootstrap.StartupException: OpenSearchException[failed to bind service]; nested: AccessDeniedException[/usr/share/opensearch/data/nodes]; PersistentVolumeCLaim error: no persistent volumes available for this claim and no storage class is set chown failure: enableInitChown: false Reproduce on direct nfs mount on dolmen, fine tuned /etc/exports with all_squash","title":"Persistent Storage permissions"},{"location":"technicalIssues/#vmmax_map_count","text":"[1]: max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144] Temporary: sysctl -w vm.max_map_count=262144 Permanent: Add vm.max_map_count = 262144 to /etc/sysctl.conf","title":"vm.max_map_count"},{"location":"technicalIssues/#networking","text":"[X] Letsencrypt acme-challenge failing \"msg\"=\"Certificate must be re-issued\" \"key\"=\"default/qsolution-cert\" \"message\"=\"Issuing certificate as Secret does not exist\" : Use helm ingress controller installation, nit microk8s enable ingress [X] Node IP Address not populating in ExternalIP for NodePort: Need to use MetalLB [X] ingress-nginx-controller calls out to google.com , fingerprints.bablosoft.com , ip.bablosoft.com and api.ipify.org [X] ingress-controller giving 404 error - not routing requests to back-end [X] Ingress controllers: [X] Helm install: helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx - [X] create-namespace [X] microk8s enable ingress: does not provision an ingress controller [X] https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/aws/nlb-with-tls-termination/deploy.yaml \"Found valid IngressClass\" ingress=\"default/cm-acme-http-solver-wrpsk\" ingressclass=\"nginx\" E1028 11:53:50.833249 1 controller.go:210] cert-manager/challenges/scheduler \"msg\"=\"error scheduling challenge for processing\" \"error\"=\"Operation cannot be fulfilled on challenges.acme.cert-manager.io \"docs-cert-gfdzt-2136338773-280458000\\\": the object has been modified; please apply your changes to the latest version and try again\" \"resource_kind\"=\"Challenge\" \"resource_name\"=\"docs-cert-gfdzt-2136338773-280458000\" \"resource_namespace\"=\"kube-system\" \"resource_version\"=\"v1\"","title":"Networking"},{"location":"technicalIssues/#raspberry-pi","text":"[X] Levant: microk8s on RPi (Ubuntu Server) not/intermittently supported: error: snap \"microk8s\" is not available on stable for this architecture (armhf) but exists on other architectures (amd64, arm64, ppc64el). [X] Levant: microk8s on RiPi (Ubuntu Core) intermittently supported: martinjcolley@levant:~$ snap install microk8s --channel=latest/edge/strict error: snap \"microk8s\" requires classic confinement which is only available on classic systems [ ] Opensearch deploy fails to RPi arch: kubectl taint nodes levant key1=value1:NoSchedule [ ] Installing k3s on model 2B boards with `` [INFO] systemd: Starting k3s Job for k3s.service failed because a fatal signal was delivered causing the control process to dump core. See \"systemctl status k3s.service\" and \"journalctl -xeu k3s.service\" for details. colleymj@balin:~ $ curl -sfL https://get.k3s.io | sh - colleymj@balin:~ $ uname -a Linux balin 6.1.0-rpi4-rpi-v6 #1 Raspbian 1:6.1.54-1+rpt2 (2023-10-05) armv6l GNU/Linux https://github.com/k3s-io/k3s/issues/4643","title":"Raspberry Pi"},{"location":"technicalIssues/#dolmen","text":"[ ] Networking issues, probably caused by Cisco Anyconnect, see refs","title":"Dolmen"},{"location":"technicalKubernetes/","text":"Kubernetes Introduction Kubernetes is an Open Source system that provides functionality to manage the lifecycle of containerised computing loads. It can achieve this over a clustered infrastructure, providing high availability, and scaling. Definitions Kubernetes : A container orchestration system. Container : Software packaging for a computing application, allowing it to be run in an isolated environment in a standard way. Isolated environment : Operating System features are used to separate an application from its environment and other computing workloads. Workload isolation provides security and resource governance. Orchestration : Automating software deployment, scaling, and management. Technology Trajectory Kubernetes was developed within Google, and was donated as a seed technology to the Cloud Native Computing Foundation (CNCF). A range of interrelated systems and standards underpin and extend Kubernetes that promote compatibility, providing consistency and reliability. The CNCF has a large eco-system of technologies that complement and rely on kubernetes. Concepts Promise theory The design of kubernetes relies on the Promise Theory analysis methodology. Promise Theory in kubernetes allows a resource to be modelled as voluntarily and autonomously co-operating with other resources in the kubernetes system The use of declarative specification follows in the form of the publishing of a Promise to the kubernetes system in the form of a resource definition Resource definitions are loaded via the kubernetes API The kubernetes API is used to interact with the kubernetes system, and the objects deployed in the system. Clustering Clustering provides a layer of abstraction for computing resources, spanning virtual or physical machines. In a single machine instance the processes and applications interact with the machine's operating system apis. In a cluster the processes and applications interact with the cluster system's apis. --- title: Example of Computing resources of a machine instance --- graph LR OS1[Operating System APIs] --> OS2[Machine Resources] subgraph OS2[Machine Resources] subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end Clustered Resources --- title: Computing resources of a machine cluster --- graph LR OS1[Cluster APIs] --> OS2[Cluster Resources] subgraph OS2[Cluster Resources] subgraph Machine 1 subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end subgraph Machine 2 subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end subgraph Machine 3 subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end end --- title: Abstracted Resources --- graph LR OS1[Cluster APIs] --> OS2[Cluster Resources] subgraph OS2[Cluster Resources] subgraph RAM subgraph 48 GB end end subgraph CPU subgraph 12 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end References https://en.wikipedia.org/wiki/Cloud_Native_Computing_Foundation https://en.wikipedia.org/wiki/Promise_theory","title":"Kubernetes"},{"location":"technicalKubernetes/#kubernetes","text":"","title":"Kubernetes"},{"location":"technicalKubernetes/#introduction","text":"Kubernetes is an Open Source system that provides functionality to manage the lifecycle of containerised computing loads. It can achieve this over a clustered infrastructure, providing high availability, and scaling.","title":"Introduction"},{"location":"technicalKubernetes/#definitions","text":"Kubernetes : A container orchestration system. Container : Software packaging for a computing application, allowing it to be run in an isolated environment in a standard way. Isolated environment : Operating System features are used to separate an application from its environment and other computing workloads. Workload isolation provides security and resource governance. Orchestration : Automating software deployment, scaling, and management.","title":"Definitions"},{"location":"technicalKubernetes/#technology-trajectory","text":"Kubernetes was developed within Google, and was donated as a seed technology to the Cloud Native Computing Foundation (CNCF). A range of interrelated systems and standards underpin and extend Kubernetes that promote compatibility, providing consistency and reliability. The CNCF has a large eco-system of technologies that complement and rely on kubernetes.","title":"Technology Trajectory"},{"location":"technicalKubernetes/#concepts","text":"","title":"Concepts"},{"location":"technicalKubernetes/#promise-theory","text":"The design of kubernetes relies on the Promise Theory analysis methodology. Promise Theory in kubernetes allows a resource to be modelled as voluntarily and autonomously co-operating with other resources in the kubernetes system The use of declarative specification follows in the form of the publishing of a Promise to the kubernetes system in the form of a resource definition Resource definitions are loaded via the kubernetes API The kubernetes API is used to interact with the kubernetes system, and the objects deployed in the system.","title":"Promise theory"},{"location":"technicalKubernetes/#clustering","text":"Clustering provides a layer of abstraction for computing resources, spanning virtual or physical machines. In a single machine instance the processes and applications interact with the machine's operating system apis. In a cluster the processes and applications interact with the cluster system's apis. --- title: Example of Computing resources of a machine instance --- graph LR OS1[Operating System APIs] --> OS2[Machine Resources] subgraph OS2[Machine Resources] subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end","title":"Clustering"},{"location":"technicalKubernetes/#clustered-resources","text":"--- title: Computing resources of a machine cluster --- graph LR OS1[Cluster APIs] --> OS2[Cluster Resources] subgraph OS2[Cluster Resources] subgraph Machine 1 subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end subgraph Machine 2 subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end subgraph Machine 3 subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end end --- title: Abstracted Resources --- graph LR OS1[Cluster APIs] --> OS2[Cluster Resources] subgraph OS2[Cluster Resources] subgraph RAM subgraph 48 GB end end subgraph CPU subgraph 12 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end","title":"Clustered Resources"},{"location":"technicalKubernetes/#references","text":"https://en.wikipedia.org/wiki/Cloud_Native_Computing_Foundation https://en.wikipedia.org/wiki/Promise_theory","title":"References"},{"location":"technicalNFS/","text":"NFS storage This section covers the setup and use of NFS volumes from a kubernetes cluster. Firstly an nfs server is set up, tested from a client, and then configured for ue in a kubernetes manifest. NFS Server To prepare the NFS server for use, using the exported directory /Data01/nfs as an example: apt install nfs-kernel-server mkdir /Data01/nfs chmod go+w /Data01/nfs chown -R nobody:nogroup /Data01/nfs Add entry to /etc/exports: /Data01/nfs *(rw,sync,no_subtree_check) exportfs -a Client test (OS level) To test the NFS server, set up a client machine similar to a kubernetes node (assuming the dataserver has IP address 192.168.1.26): Install client driver: apt install nfs-common /etc/fstab: 192.168.1.26:/Data01/nfs /mnt/Data01-nfs nfs rsize=8192,wsize=8192,timeo=14,intr Mount all: mount -a To examine the mounted volume, use df -H , which for the setup above would be something like: *192.168.1.26:/Data01/nfs 2.1T 118G 1.8T 7% /mnt/Data01-nfs* Kubernetes client Dynamic Provisioning Static provisioning is discussed below, but I could only get success with dynamic provisioning. Dynamic Provisioning for NFS only requires the nfs-common package on k8s nodes: sudo apt install nfs-common -y The following manifest snippet illustrates usage: apiVersion: apps/v1 kind: Deployment ... spec: ... template: ... spec: ... containers: volumeMounts: - mountPath: /web name: radiovolume subPath: icecastweb initContainers: ... volumeMounts: - mountPath: /mnt name: radiovolume subPath: icecastweb volumes: - name: radiovolume nfs: path: /Data02/musoclub server: 192.168.1.26 CSI Driver for static provisioning An NFS CSI driver was first attempted, but application had showstopper issues. k8s nodes: use ansible to sudo apt install nfs-common k8s cluster: use flux to install csi-driver-nfs helm chart helm3 repo add csi-driver-nfs https://raw.githubusercontent.com/kubernetes-csi/csi-driver-nfs/master/charts microk8s helm3 repo update helm3 install csi-driver-nfs csi-driver-nfs/csi-driver-nfs --namespace kube-system --set kubeletDir=/var/snap/microk8s/common/var/lib/kubelet chmod -R 777 /srv/nfs chown -R nobody:nogroup /srv/nfs Add volumes into /etc/exports, e.g /srv/nfs 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) flux install helm chart source: https://raw.githubusercontent.com/kubernetes-csi/csi-driver-nfs/master/charts helm chart: csi-driver-nfs For --set kubeletDir=/var/snap/microk8s/common/var/lib/kubelet , create a configmap Issue Pod describe reports: Warning FailedMount 3m32s (x448 over 14h) kubelet MountVolume.SetUp failed for volume \"pvc-1c0b7728-5ebd-4bb0-85ba-0f0877ab9080\" : rpc error: code = Internal desc = mkdir /var/snap: read-only file system Attempting dynamic provisioning... References https://kubedemy.io/kubernetes-storage-part-1-nfs-complete-tutorial https://github.com/rancher/rancher/issues/4423 https://discuss.kubernetes.io/t/use-nfs-for-persistent-volumes-on-microk8s/19035/31 https://akomljen.com/kubernetes-persistent-volumes-with-deployment-and-statefulset/ https://github.com/rancher/rancher/issues/4423 https://docs.mirantis.com/mke/3.7/ops/deploy-apps-k8s/persistent-storage/use-nfs-storage.html https://kubernetes.io/docs/concepts/storage/persistent-volumes/ https://kubernetes.io/docs/concepts/storage/volumes/ https://ubuntu.com/server/docs/service-nfs https://hbayraktar.medium.com/how-to-setup-dynamic-nfs-provisioning-in-a-kubernetes-cluster-cbf433b7de29 https://github.com/kubernetes-sigs/sig-storage-lib-external-provisioner https://github.com/kubernetes-sigs/nfs-ganesha-server-and-external-provisioner/blob/7027d6505a510673579c03db589bcb02cc8eda0b/charts/nfs-server-provisioner/README.md https://microk8s.io/docs/addon-nfs https://microk8s.io/docs/how-to-nfs","title":"NFS storage"},{"location":"technicalNFS/#nfs-storage","text":"This section covers the setup and use of NFS volumes from a kubernetes cluster. Firstly an nfs server is set up, tested from a client, and then configured for ue in a kubernetes manifest.","title":"NFS storage"},{"location":"technicalNFS/#nfs-server","text":"To prepare the NFS server for use, using the exported directory /Data01/nfs as an example: apt install nfs-kernel-server mkdir /Data01/nfs chmod go+w /Data01/nfs chown -R nobody:nogroup /Data01/nfs Add entry to /etc/exports: /Data01/nfs *(rw,sync,no_subtree_check) exportfs -a","title":"NFS Server"},{"location":"technicalNFS/#client-test-os-level","text":"To test the NFS server, set up a client machine similar to a kubernetes node (assuming the dataserver has IP address 192.168.1.26): Install client driver: apt install nfs-common /etc/fstab: 192.168.1.26:/Data01/nfs /mnt/Data01-nfs nfs rsize=8192,wsize=8192,timeo=14,intr Mount all: mount -a To examine the mounted volume, use df -H , which for the setup above would be something like: *192.168.1.26:/Data01/nfs 2.1T 118G 1.8T 7% /mnt/Data01-nfs*","title":"Client test (OS level)"},{"location":"technicalNFS/#kubernetes-client","text":"","title":"Kubernetes client"},{"location":"technicalNFS/#dynamic-provisioning","text":"Static provisioning is discussed below, but I could only get success with dynamic provisioning. Dynamic Provisioning for NFS only requires the nfs-common package on k8s nodes: sudo apt install nfs-common -y The following manifest snippet illustrates usage: apiVersion: apps/v1 kind: Deployment ... spec: ... template: ... spec: ... containers: volumeMounts: - mountPath: /web name: radiovolume subPath: icecastweb initContainers: ... volumeMounts: - mountPath: /mnt name: radiovolume subPath: icecastweb volumes: - name: radiovolume nfs: path: /Data02/musoclub server: 192.168.1.26","title":"Dynamic Provisioning"},{"location":"technicalNFS/#csi-driver-for-static-provisioning","text":"An NFS CSI driver was first attempted, but application had showstopper issues. k8s nodes: use ansible to sudo apt install nfs-common k8s cluster: use flux to install csi-driver-nfs helm chart helm3 repo add csi-driver-nfs https://raw.githubusercontent.com/kubernetes-csi/csi-driver-nfs/master/charts microk8s helm3 repo update helm3 install csi-driver-nfs csi-driver-nfs/csi-driver-nfs --namespace kube-system --set kubeletDir=/var/snap/microk8s/common/var/lib/kubelet chmod -R 777 /srv/nfs chown -R nobody:nogroup /srv/nfs Add volumes into /etc/exports, e.g /srv/nfs 192.168.0.0/24(rw,all_squash,sync,no_subtree_check)","title":"CSI Driver for static provisioning"},{"location":"technicalNFS/#flux-install","text":"helm chart source: https://raw.githubusercontent.com/kubernetes-csi/csi-driver-nfs/master/charts helm chart: csi-driver-nfs For --set kubeletDir=/var/snap/microk8s/common/var/lib/kubelet , create a configmap","title":"flux install"},{"location":"technicalNFS/#issue","text":"Pod describe reports: Warning FailedMount 3m32s (x448 over 14h) kubelet MountVolume.SetUp failed for volume \"pvc-1c0b7728-5ebd-4bb0-85ba-0f0877ab9080\" : rpc error: code = Internal desc = mkdir /var/snap: read-only file system Attempting dynamic provisioning...","title":"Issue"},{"location":"technicalNFS/#references","text":"https://kubedemy.io/kubernetes-storage-part-1-nfs-complete-tutorial https://github.com/rancher/rancher/issues/4423 https://discuss.kubernetes.io/t/use-nfs-for-persistent-volumes-on-microk8s/19035/31 https://akomljen.com/kubernetes-persistent-volumes-with-deployment-and-statefulset/ https://github.com/rancher/rancher/issues/4423 https://docs.mirantis.com/mke/3.7/ops/deploy-apps-k8s/persistent-storage/use-nfs-storage.html https://kubernetes.io/docs/concepts/storage/persistent-volumes/ https://kubernetes.io/docs/concepts/storage/volumes/ https://ubuntu.com/server/docs/service-nfs https://hbayraktar.medium.com/how-to-setup-dynamic-nfs-provisioning-in-a-kubernetes-cluster-cbf433b7de29 https://github.com/kubernetes-sigs/sig-storage-lib-external-provisioner https://github.com/kubernetes-sigs/nfs-ganesha-server-and-external-provisioner/blob/7027d6505a510673579c03db589bcb02cc8eda0b/charts/nfs-server-provisioner/README.md https://microk8s.io/docs/addon-nfs https://microk8s.io/docs/how-to-nfs","title":"References"},{"location":"technicalNetwork/","text":"Network Topology This page describes the networking portion of the end to end solution. Physical network components and interconnectivity, and https request routing for the northern and southern zones are described. At the time of refactoring of this document, the southern zone is shut down, and will remain so for at least two months. Northern zone is up and running and taking production traffic, but is failing some tests indicating a router upgrade. Therefore more detail will captured for the Northern zone, and when the southern zone is re-constructed, will be supplemented. Physical network topologies do not include client devices not included in solution scope. Northern Enterprise hardware networking Dell R720 Networking: 0FM487 Broadcom 5720 Quad Port 1GbE Ethernet devices on hypervisor host: eno1 (192.168.1.84/24) [pluto]; eno2 (192.168.1.85/24); en03; eno4 Two bridge devices created: lxdbr0, lxdbr1 VM Image template includes a device connected to each bridge: enp5s0, enp6s0 Issued Bridge IP addresses: 10.81.249.177/24, 10.81.249.114/24, 10.81.249.15/24, 10.81.249.59/24 (maas) Port forward template: lxc network forward port add [<remote>:]<network> <listen_address> <protocol> <listen_port(s)> <target_address> [<target_port(s)>] [flags] Create a forward template: lxc network forward create <network_name> [<listen_address>] [--allocate=ipv{4,6}] [configuration_options...] Maas GUI: Port: 5240; IP: 10.81.249.59 Create a forward for maas: lxc network forward create lxdbr0 192.168.1.84 Port forward traffic on http://pluto:5240 to maas: lxc network forward port add lxdbr0 192.168.1.84 tcp 5240 10.81.249.59 5240 Physical network components and interconnectivity Static IP required, because of cgnat: This was issued efficiently over the phone, at the additional cost of \u00a38 pm. The Sagecom router issued by the ISP has configuration management and stability issues The ISP is now issuing Linksys wi-fi 6 routers, so upgrade should be investigated Sagecom router port forwarding or dmz config changes require a gateway restart - network downtime port forwarding config breaks (port scan shows no open ports) every few days no logs appear in the router log available via the router gui Linksys wi-fi 6 router 3 gigabit ethernet ports wifi 6 Previous experience with Linksys routers suggests improved config management and stability. Review comments support this. Physical Network Topology --- title: northern.podzone.net Network Topology --- graph TD ISP --> ont ont --> router router --> dmz router ---> switch1 ---> switch2 switch1 --> k8s01 switch1 --> k8s02 switch1 --> k8s03 switch1 --> k8s04 switch1 --> k8s05 switch1 --> k8s06 switch2 --> k8s07 switch2 --> k8s08 switch2 --> k8s09 switch2 --> k8s10 ont[[Toob ONT]] router[[Sagecom Router]] switch1[[TP-Link 8 port]] switch2[[Tenda 8 port]] dmz{{rudolfensis}} k8s01{{habilis}} k8s02{{antecessor}} k8s03{{naledi}} k8s04{{neanderthal}} k8s05{{erectus}} k8s06{{floresiensis}} k8s07{{norham01}} k8s08{{norham02}} k8s09{{norham03}} k8s10{{norham04}} Southern Southern zone hardware --- title: southern.podzone.net Network Topology --- graph TD ISP --- ont ont --- router router ---|100MB| switch1 switch1 <-->|1GB| k8s1 switch1 <-->|1GB| k8s2 switch1 <-->|1GB| k8s3 switch1 <-->|1GB| k8s4 ont[[Daisan H665 GPON ONT]] router[[TP-LINK EC120-F5 Router]] switch1[[TP-Link TL-SG1008D]] k8s1{{denisova}} k8s2{{james}} k8s3{{rudolfensis}} k8s4{{ergaster}} References https://www.toob.co.uk/blog/ipv4-ipv6-and-cgnat-explained/ https://forums.thinkbroadband.com/otherisp/4675486-toob-fttp-in-southampton.html https://diygardening.co.uk/off-topic/toob-review/#:~:text=Static%20ip%20Address%20Cost&text=%C2%A325%20per%20month%20for,you%20may%20wish%20to%20read. https://www.reddit.com/r/Southampton/comments/110it34/port_forwarding_on_toob/ https://www.toob.co.uk/linksys-router/ https://en.wikipedia.org/wiki/Wi-Fi_6 https://www.ispreview.co.uk/talk/threads/new-linksys-router-on-toob.40622/ https://ubuntu.com/blog/data-centre-networking-what-is-ovn https://github.com/canonical/microovn https://www.ovn.org/en/ https://thesaitech.wordpress.com/2019/02/15/a-comparative-study-of-openstack-networking-architectures/","title":"Network Topology"},{"location":"technicalNetwork/#network-topology","text":"This page describes the networking portion of the end to end solution. Physical network components and interconnectivity, and https request routing for the northern and southern zones are described. At the time of refactoring of this document, the southern zone is shut down, and will remain so for at least two months. Northern zone is up and running and taking production traffic, but is failing some tests indicating a router upgrade. Therefore more detail will captured for the Northern zone, and when the southern zone is re-constructed, will be supplemented. Physical network topologies do not include client devices not included in solution scope.","title":"Network Topology"},{"location":"technicalNetwork/#northern","text":"","title":"Northern"},{"location":"technicalNetwork/#enterprise-hardware-networking","text":"Dell R720 Networking: 0FM487 Broadcom 5720 Quad Port 1GbE Ethernet devices on hypervisor host: eno1 (192.168.1.84/24) [pluto]; eno2 (192.168.1.85/24); en03; eno4 Two bridge devices created: lxdbr0, lxdbr1 VM Image template includes a device connected to each bridge: enp5s0, enp6s0 Issued Bridge IP addresses: 10.81.249.177/24, 10.81.249.114/24, 10.81.249.15/24, 10.81.249.59/24 (maas) Port forward template: lxc network forward port add [<remote>:]<network> <listen_address> <protocol> <listen_port(s)> <target_address> [<target_port(s)>] [flags] Create a forward template: lxc network forward create <network_name> [<listen_address>] [--allocate=ipv{4,6}] [configuration_options...] Maas GUI: Port: 5240; IP: 10.81.249.59 Create a forward for maas: lxc network forward create lxdbr0 192.168.1.84 Port forward traffic on http://pluto:5240 to maas: lxc network forward port add lxdbr0 192.168.1.84 tcp 5240 10.81.249.59 5240","title":"Enterprise hardware networking"},{"location":"technicalNetwork/#physical-network-components-and-interconnectivity","text":"Static IP required, because of cgnat: This was issued efficiently over the phone, at the additional cost of \u00a38 pm. The Sagecom router issued by the ISP has configuration management and stability issues The ISP is now issuing Linksys wi-fi 6 routers, so upgrade should be investigated","title":"Physical network components and interconnectivity"},{"location":"technicalNetwork/#sagecom-router","text":"port forwarding or dmz config changes require a gateway restart - network downtime port forwarding config breaks (port scan shows no open ports) every few days no logs appear in the router log available via the router gui","title":"Sagecom router"},{"location":"technicalNetwork/#linksys-wi-fi-6-router","text":"3 gigabit ethernet ports wifi 6 Previous experience with Linksys routers suggests improved config management and stability. Review comments support this.","title":"Linksys wi-fi 6 router"},{"location":"technicalNetwork/#physical-network-topology","text":"--- title: northern.podzone.net Network Topology --- graph TD ISP --> ont ont --> router router --> dmz router ---> switch1 ---> switch2 switch1 --> k8s01 switch1 --> k8s02 switch1 --> k8s03 switch1 --> k8s04 switch1 --> k8s05 switch1 --> k8s06 switch2 --> k8s07 switch2 --> k8s08 switch2 --> k8s09 switch2 --> k8s10 ont[[Toob ONT]] router[[Sagecom Router]] switch1[[TP-Link 8 port]] switch2[[Tenda 8 port]] dmz{{rudolfensis}} k8s01{{habilis}} k8s02{{antecessor}} k8s03{{naledi}} k8s04{{neanderthal}} k8s05{{erectus}} k8s06{{floresiensis}} k8s07{{norham01}} k8s08{{norham02}} k8s09{{norham03}} k8s10{{norham04}}","title":"Physical Network Topology"},{"location":"technicalNetwork/#southern","text":"Southern zone hardware --- title: southern.podzone.net Network Topology --- graph TD ISP --- ont ont --- router router ---|100MB| switch1 switch1 <-->|1GB| k8s1 switch1 <-->|1GB| k8s2 switch1 <-->|1GB| k8s3 switch1 <-->|1GB| k8s4 ont[[Daisan H665 GPON ONT]] router[[TP-LINK EC120-F5 Router]] switch1[[TP-Link TL-SG1008D]] k8s1{{denisova}} k8s2{{james}} k8s3{{rudolfensis}} k8s4{{ergaster}}","title":"Southern"},{"location":"technicalNetwork/#references","text":"https://www.toob.co.uk/blog/ipv4-ipv6-and-cgnat-explained/ https://forums.thinkbroadband.com/otherisp/4675486-toob-fttp-in-southampton.html https://diygardening.co.uk/off-topic/toob-review/#:~:text=Static%20ip%20Address%20Cost&text=%C2%A325%20per%20month%20for,you%20may%20wish%20to%20read. https://www.reddit.com/r/Southampton/comments/110it34/port_forwarding_on_toob/ https://www.toob.co.uk/linksys-router/ https://en.wikipedia.org/wiki/Wi-Fi_6 https://www.ispreview.co.uk/talk/threads/new-linksys-router-on-toob.40622/ https://ubuntu.com/blog/data-centre-networking-what-is-ovn https://github.com/canonical/microovn https://www.ovn.org/en/ https://thesaitech.wordpress.com/2019/02/15/a-comparative-study-of-openstack-networking-architectures/","title":"References"},{"location":"technicalPrometheus/","text":"Prometheus Implementation Notes Server installation sudo snap install prometheus : Available on localhost:9090 nano /var/snap/prometheus/current/prometheus.yml global: scrape_interval: 15s external_labels: monitor: 'podzone-monitor' scrape_configs: - job_name: 'prometheus' scrape_interval: 5s static_configs: - targets: ['localhost:9090'] Microk8s observability More work required, default config needs to be overridden. Scraping ceph Enable ceph monitoring endpoints: ceph mgr module enable prometheus ceph-mgr nodes: {192.168.1.113,192.168.1.117,192.168.1.112} Add to prometheus config (IP addresses are for prod cluster): global: scrape_interval: 15s external_labels: monitor: 'podzone' scrape_configs: - job_name: 'prometheus' scrape_interval: 5s static_configs: - targets: ['localhost:9090'] - job_name: 'microceph' scrape_interval: 15s static_configs: - targets: ['192.168.1.113:9283', '192.168.1.117:9283', '192.168.1.112:9283'] Reference Prod cluster: MicroCeph deployment summary: - antecessor (192.168.1.113) Services: mds, mgr, mon, osd Disks: 1 - erectus (192.168.1.131) Services: osd Disks: 1 - floresiensis (192.168.1.137) Services: osd Disks: 1 - habilis (192.168.1.117) Services: mds, mgr, mon, osd Disks: 1 - naledi (192.168.1.112) Services: mds, mgr, mon, osd Disks: 1 - neanderthal (192.168.1.130) Services: osd Disks: 1 - norham01 (192.168.1.140) Services: osd Disks: 1 - norham02 (192.168.1.141) Services: osd Disks: 1 - norham03 (192.168.1.142) Services: osd Disks: 1 - norham04 (192.168.1.143) Services: osd Disks: 1 References https://apim.docs.wso2.com/en/4.0.0/reference/k8s-operators/k8s-api-operator/ https://operatorhub.io/operator/api-operator https://github.com/grafana/grafana-operator https://github.com/prometheus-operator/prometheus-operator","title":"Prometheus Implementation Notes"},{"location":"technicalPrometheus/#prometheus-implementation-notes","text":"","title":"Prometheus Implementation Notes"},{"location":"technicalPrometheus/#server-installation","text":"sudo snap install prometheus : Available on localhost:9090 nano /var/snap/prometheus/current/prometheus.yml global: scrape_interval: 15s external_labels: monitor: 'podzone-monitor' scrape_configs: - job_name: 'prometheus' scrape_interval: 5s static_configs: - targets: ['localhost:9090']","title":"Server installation"},{"location":"technicalPrometheus/#microk8s-observability","text":"More work required, default config needs to be overridden.","title":"Microk8s observability"},{"location":"technicalPrometheus/#scraping-ceph","text":"Enable ceph monitoring endpoints: ceph mgr module enable prometheus ceph-mgr nodes: {192.168.1.113,192.168.1.117,192.168.1.112} Add to prometheus config (IP addresses are for prod cluster): global: scrape_interval: 15s external_labels: monitor: 'podzone' scrape_configs: - job_name: 'prometheus' scrape_interval: 5s static_configs: - targets: ['localhost:9090'] - job_name: 'microceph' scrape_interval: 15s static_configs: - targets: ['192.168.1.113:9283', '192.168.1.117:9283', '192.168.1.112:9283']","title":"Scraping ceph"},{"location":"technicalPrometheus/#reference","text":"Prod cluster: MicroCeph deployment summary: - antecessor (192.168.1.113) Services: mds, mgr, mon, osd Disks: 1 - erectus (192.168.1.131) Services: osd Disks: 1 - floresiensis (192.168.1.137) Services: osd Disks: 1 - habilis (192.168.1.117) Services: mds, mgr, mon, osd Disks: 1 - naledi (192.168.1.112) Services: mds, mgr, mon, osd Disks: 1 - neanderthal (192.168.1.130) Services: osd Disks: 1 - norham01 (192.168.1.140) Services: osd Disks: 1 - norham02 (192.168.1.141) Services: osd Disks: 1 - norham03 (192.168.1.142) Services: osd Disks: 1 - norham04 (192.168.1.143) Services: osd Disks: 1","title":"Reference"},{"location":"technicalPrometheus/#references","text":"https://apim.docs.wso2.com/en/4.0.0/reference/k8s-operators/k8s-api-operator/ https://operatorhub.io/operator/api-operator https://github.com/grafana/grafana-operator https://github.com/prometheus-operator/prometheus-operator","title":"References"},{"location":"technicalProxy/","text":"Reverse proxy The northern site needed to be issued with a static IP address from the ISP. With one cluster on site, this IP address would have port forwarding configured on the router, to send http and https traffic to the metallb L2 load balancer. However, since more than on cluster will be served on the same IP address, a front-end proxy is installed on a t520. Certbot In order to reverse proxy to the https endpoints in the cluster, we need to terminate ssl for all hosts supported. LetsEncryp's Certbot is used. Northern request routing --- title: northern.podzone.net Request routing --- graph TD Internet --145.40.190.159 --> router router -- 80\\n443 --> dmz router -- 8001\\n8002 --> metallb3 dmz -- 192.168.1.220 --> metallb1 dmz -- 192.168.1.222 --> metallb2 dmz -- 192.168.1.221 --> metallb3 metallb1 --> k8s01 metallb1 --> k8s02 metallb1 --> k8s03 metallb2 --> k8s04 metallb2 --> k8s05 metallb2 --> k8s06 metallb3 --> k8s07 metallb3 --> k8s08 metallb3 --> k8s09 metallb3 --> k8s10 metallb1[[prod]] metallb2[[dev]] metallb3[[norham]] router[[Router]] dmz{{rudolfensis}} k8s01{{habilis}} k8s02{{antecessor}} k8s03{{naledi}} k8s04{{neanderthal}} k8s05{{erectus}} k8s06{{floresiensis}} k8s07{{norham01}} k8s08{{norham02}} k8s09{{norham03}} k8s10{{norham04}} Sample config file Note that the http to https redirect that Certbot adds needs to be disabled, otherwise certificate generation on the cluster will not work, as the listeners set up by Certificate Managers will not be reachable. Top of stack reverse proxy <VirtualHost *:443> SSLProxyEngine on SSLProxyVerify none ProxyPreserveHost on ProxyPass / https://192.168.1.220/ ProxyPassReverse / https://192.168.1.220/ ProxyRequests Off Include /etc/letsencrypt/options-ssl-apache.conf SSLCertificateFile /etc/letsencrypt/live/blog.podzone.org/fullchain.pem SSLCertificateKeyFile /etc/letsencrypt/live/blog.podzone.org/privkey.pem ServerName ... ServerAlias ... </VirtualHost> <VirtualHost *:80> ProxyPreserveHost on ProxyPass / http://192.168.1.220/ ProxyPassReverse / http://192.168.1.220/ ProxyRequests Off ServerName ... ServerAlias ... #RewriteEngine on #RewriteCond %{SERVER_NAME} =... #RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent] </VirtualHost> Adding a domain To add a domain, e.g. norma.blog.podzone.org, call certbot with the --expand option. Current list Add entries and check in before applying. certbot --expand -d docs.podzone.net,musings.thruhere.net,uk2day.online,www.uk2day.online,muso.club,db.muso.club,console.muso.club,broadcast.muso.club,radio.muso.club,www.muso.club,radio.thruhere.net,console.thruhere.net,norma.blog.podzone.org,content.podzone.net,dialplus44.com,www.dialplus44.com Domain evaluation 30 May 2024 Domains in certbot spec that are used currently or to be retained Prod docs.podzone.net musings.thruhere.net uk2day.online www.uk2day.online Muso Club muso.club db.muso.club console.muso.club broadcast.muso.club radio.muso.club www.muso.club For non-prod radio radio.thruhere.net console.thruhere.net Wordpress instances Fabric Ingress Unused DynDns hosts References https://github.com/mcallegari/qlcplus https://en.wikipedia.org/wiki/Server_Name_Indication https://serverfault.com/questions/1043940/apache-reverse-proxy-preserving-ssl https://www.reddit.com/r/sysadmin/comments/3vvz86/is_there_a_way_to_do_ssl_passthrough_via_an/ https://eff-certbot.readthedocs.io/en/latest/using.html#re-creating-and-updating-existing-certificates","title":"Reverse proxy"},{"location":"technicalProxy/#reverse-proxy","text":"The northern site needed to be issued with a static IP address from the ISP. With one cluster on site, this IP address would have port forwarding configured on the router, to send http and https traffic to the metallb L2 load balancer. However, since more than on cluster will be served on the same IP address, a front-end proxy is installed on a t520.","title":"Reverse proxy"},{"location":"technicalProxy/#certbot","text":"In order to reverse proxy to the https endpoints in the cluster, we need to terminate ssl for all hosts supported. LetsEncryp's Certbot is used.","title":"Certbot"},{"location":"technicalProxy/#northern-request-routing","text":"--- title: northern.podzone.net Request routing --- graph TD Internet --145.40.190.159 --> router router -- 80\\n443 --> dmz router -- 8001\\n8002 --> metallb3 dmz -- 192.168.1.220 --> metallb1 dmz -- 192.168.1.222 --> metallb2 dmz -- 192.168.1.221 --> metallb3 metallb1 --> k8s01 metallb1 --> k8s02 metallb1 --> k8s03 metallb2 --> k8s04 metallb2 --> k8s05 metallb2 --> k8s06 metallb3 --> k8s07 metallb3 --> k8s08 metallb3 --> k8s09 metallb3 --> k8s10 metallb1[[prod]] metallb2[[dev]] metallb3[[norham]] router[[Router]] dmz{{rudolfensis}} k8s01{{habilis}} k8s02{{antecessor}} k8s03{{naledi}} k8s04{{neanderthal}} k8s05{{erectus}} k8s06{{floresiensis}} k8s07{{norham01}} k8s08{{norham02}} k8s09{{norham03}} k8s10{{norham04}}","title":"Northern request routing"},{"location":"technicalProxy/#sample-config-file","text":"Note that the http to https redirect that Certbot adds needs to be disabled, otherwise certificate generation on the cluster will not work, as the listeners set up by Certificate Managers will not be reachable.","title":"Sample config file"},{"location":"technicalProxy/#top-of-stack-reverse-proxy","text":"<VirtualHost *:443> SSLProxyEngine on SSLProxyVerify none ProxyPreserveHost on ProxyPass / https://192.168.1.220/ ProxyPassReverse / https://192.168.1.220/ ProxyRequests Off Include /etc/letsencrypt/options-ssl-apache.conf SSLCertificateFile /etc/letsencrypt/live/blog.podzone.org/fullchain.pem SSLCertificateKeyFile /etc/letsencrypt/live/blog.podzone.org/privkey.pem ServerName ... ServerAlias ... </VirtualHost> <VirtualHost *:80> ProxyPreserveHost on ProxyPass / http://192.168.1.220/ ProxyPassReverse / http://192.168.1.220/ ProxyRequests Off ServerName ... ServerAlias ... #RewriteEngine on #RewriteCond %{SERVER_NAME} =... #RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent] </VirtualHost>","title":"Top of stack reverse proxy"},{"location":"technicalProxy/#adding-a-domain","text":"To add a domain, e.g. norma.blog.podzone.org, call certbot with the --expand option.","title":"Adding a domain"},{"location":"technicalProxy/#current-list","text":"Add entries and check in before applying. certbot --expand -d docs.podzone.net,musings.thruhere.net,uk2day.online,www.uk2day.online,muso.club,db.muso.club,console.muso.club,broadcast.muso.club,radio.muso.club,www.muso.club,radio.thruhere.net,console.thruhere.net,norma.blog.podzone.org,content.podzone.net,dialplus44.com,www.dialplus44.com","title":"Current list"},{"location":"technicalProxy/#domain-evaluation-30-may-2024","text":"Domains in certbot spec that are used currently or to be retained","title":"Domain evaluation 30 May 2024"},{"location":"technicalProxy/#prod","text":"docs.podzone.net musings.thruhere.net uk2day.online www.uk2day.online","title":"Prod"},{"location":"technicalProxy/#muso-club","text":"muso.club db.muso.club console.muso.club broadcast.muso.club radio.muso.club www.muso.club","title":"Muso Club"},{"location":"technicalProxy/#for-non-prod-radio","text":"radio.thruhere.net console.thruhere.net","title":"For non-prod radio"},{"location":"technicalProxy/#wordpress-instances","text":"","title":"Wordpress instances"},{"location":"technicalProxy/#fabric-ingress","text":"","title":"Fabric Ingress"},{"location":"technicalProxy/#unused-dyndns-hosts","text":"","title":"Unused DynDns hosts"},{"location":"technicalProxy/#references","text":"https://github.com/mcallegari/qlcplus https://en.wikipedia.org/wiki/Server_Name_Indication https://serverfault.com/questions/1043940/apache-reverse-proxy-preserving-ssl https://www.reddit.com/r/sysadmin/comments/3vvz86/is_there_a_way_to_do_ssl_passthrough_via_an/ https://eff-certbot.readthedocs.io/en/latest/using.html#re-creating-and-updating-existing-certificates","title":"References"},{"location":"technicalQuestionnaire/","text":"Personality Questionnaire <form action=\"/action_page.php\"> <fieldset> <legend>Personal Details:</legend> <label for=\"fname\">First name</label> <input type=\"text\" id=\"fname\" name=\"fname\"><br><br> <label for=\"lname\">Last name</label> <input type=\"text\" id=\"lname\" name=\"lname\"><br><br> <label for=\"email\">Email</label> <input type=\"email\" id=\"email\" name=\"email\"><br><br> </fieldset> <fieldset> <legend>Activity</legend> <section> <label><input name=\"Q01\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q01\" type=\"radio\" value=\"true\" />Yes</label> <div>Design Bridges, Dams or Roads</div> <label><input name=\"Q02\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q02\" type=\"radio\" value=\"true\" />Yes</label> <div>Capture Data into a computer</div> <label><input name=\"Q03\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q03\" type=\"radio\" value=\"true\" />Yes</label> <div>Advertise and sell products for companies</div> <label><input name=\"Q04\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q04\" type=\"radio\" value=\"true\" />Yes</label> <div>Plan weddings and other social events</div> <label><input name=\"Q05\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q05\" type=\"radio\" value=\"true\" />Yes</label> <div>Assist communities to improve their basic facilities</div> <label><input name=\"Q06\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q06\" type=\"radio\" value=\"true\" />Yes</label> <div>Give facials and massages to clients</div> <label><input name=\"Q07\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q07\" type=\"radio\" value=\"true\" />Yes</label> <div>Offer religious sermons</div> <label><input name=\"Q08\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q08\" type=\"radio\" value=\"true\" />Yes</label> <div>Make animated films</div> <label><input name=\"Q09\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q09\" type=\"radio\" value=\"true\" />Yes</label> <div>Build or fix airplanes</div> <label><input name=\"Q10\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q10\" type=\"radio\" value=\"true\" />Yes</label> <div>Set up new computers in offices</div> <label><input name=\"Q11\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q11\" type=\"radio\" value=\"true\" />Yes</label> <div>Answer phone calls in a call centre</div> <label><input name=\"Q12\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q12\" type=\"radio\" value=\"true\" />Yes</label> <div>Work as an air host/ess</div> <label><input name=\"Q13\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q13\" type=\"radio\" value=\"true\" />Yes</label> <div>Produce Wine or Beer</div> <label><input name=\"Q14\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q14\" type=\"radio\" value=\"true\" />Yes</label> <div>Style and Colour Hair</div> <label><input name=\"Q15\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q15\" type=\"radio\" value=\"true\" />Yes</label> <div>Offer counselling to drug addicts</div> <label><input name=\"Q16\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q16\" type=\"radio\" value=\"true\" />Yes</label> <div>Teach Music</div> <label><input name=\"Q17\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q17\" type=\"radio\" value=\"true\" />Yes</label> <div>Record and Mix Music</div> <label><input name=\"Q18\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q18\" type=\"radio\" value=\"true\" />Yes</label> <div>Work as a help desk analyst \u2013 provide support to computer users</div> <label><input name=\"Q19\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q19\" type=\"radio\" value=\"true\" />Yes</label> <div>Compile monthly financial statements</div> <label><input name=\"Q20\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q20\" type=\"radio\" value=\"true\" />Yes</label> <div>Run a fleet of taxis</div> <label><input name=\"Q21\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q21\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a Nature Reserve</div> <label><input name=\"Q22\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q22\" type=\"radio\" value=\"true\" />Yes</label> <div>Take care of sick people</div> <label><input name=\"Q23\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q23\" type=\"radio\" value=\"true\" />Yes</label> <div>Interview people for jobs</div> <label><input name=\"Q24\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q24\" type=\"radio\" value=\"true\" />Yes</label> <div>Present a television or radio show</div> <label><input name=\"Q25\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q25\" type=\"radio\" value=\"true\" />Yes</label> <div>Do underwater mechanical repairs</div> <label><input name=\"Q26\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q26\" type=\"radio\" value=\"true\" />Yes</label> <div>Train computer courses</div> <label><input name=\"Q27\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q27\" type=\"radio\" value=\"true\" />Yes</label> <div>Act as a personal assistant or secretary</div> <label><input name=\"Q28\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q28\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a hotel or restaurant</div> <label><input name=\"Q29\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q29\" type=\"radio\" value=\"true\" />Yes</label> <div>Design area maps</div> <label><input name=\"Q30\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q30\" type=\"radio\" value=\"true\" />Yes</label> <div>Treat or nurse sick animals</div> <label><input name=\"Q31\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q31\" type=\"radio\" value=\"true\" />Yes</label> <div>Teach primary or high school learners</div> <label><input name=\"Q32\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q32\" type=\"radio\" value=\"true\" />Yes</label> <div>Perform as a Dancer</div> <label><input name=\"Q33\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q33\" type=\"radio\" value=\"true\" />Yes</label> <div>Design or build electronic equipment (dvd players, cell phones)</div> <label><input name=\"Q34\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q34\" type=\"radio\" value=\"true\" />Yes</label> <div>Design Internet web sites</div> <label><input name=\"Q35\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q35\" type=\"radio\" value=\"true\" />Yes</label> <div>Write business letters</div> <label><input name=\"Q36\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q36\" type=\"radio\" value=\"true\" />Yes</label> <div>Act as a Tourist Guide</div> <label><input name=\"Q37\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q37\" type=\"radio\" value=\"true\" />Yes</label> <div>Plan the lay-out for new towns</div> <label><input name=\"Q38\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q38\" type=\"radio\" value=\"true\" />Yes</label> <div>Advise people on healthy eating habits</div> <label><input name=\"Q39\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q39\" type=\"radio\" value=\"true\" />Yes</label> <div>Train communication skills to business people</div> <label><input name=\"Q40\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q40\" type=\"radio\" value=\"true\" />Yes</label> <div>Act in films, advertisements or theatre productions</div> <label><input name=\"Q41\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q41\" type=\"radio\" value=\"true\" />Yes</label> <div>Install and maintain electrical cables in buildings</div> <label><input name=\"Q42\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q42\" type=\"radio\" value=\"true\" />Yes</label> <div>Maintain computer networks</div> <label><input name=\"Q43\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q43\" type=\"radio\" value=\"true\" />Yes</label> <div>Buy stock (goods) for a business</div> <label><input name=\"Q44\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q44\" type=\"radio\" value=\"true\" />Yes</label> <div>Work in a surf or diving school</div> <label><input name=\"Q45\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q45\" type=\"radio\" value=\"true\" />Yes</label> <div>Grow vegetables or fruit trees</div> <label><input name=\"Q46\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q46\" type=\"radio\" value=\"true\" />Yes</label> <div>Provide emergency medical care (ambulance services)</div> <label><input name=\"Q47\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q47\" type=\"radio\" value=\"true\" />Yes</label> <div>Run a political campaign</div> <label><input name=\"Q48\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q48\" type=\"radio\" value=\"true\" />Yes</label> <div>Play music in a band or orchestra</div> <label><input name=\"Q49\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q49\" type=\"radio\" value=\"true\" />Yes</label> <div>Repair motor vehicles</div> <label><input name=\"Q50\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q50\" type=\"radio\" value=\"true\" />Yes</label> <div>Write computer programs</div> <label><input name=\"Q51\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q51\" type=\"radio\" value=\"true\" />Yes</label> <div>Own a tax consulting business</div> <label><input name=\"Q52\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q52\" type=\"radio\" value=\"true\" />Yes</label> <div>Work as a waiter or bartender</div> <label><input name=\"Q53\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q53\" type=\"radio\" value=\"true\" />Yes</label> <div>Design gardens and landscapes</div> <label><input name=\"Q54\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q54\" type=\"radio\" value=\"true\" />Yes</label> <div>Diagnose and treat sick people</div> <label><input name=\"Q55\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q55\" type=\"radio\" value=\"true\" />Yes</label> <div>Use play therapy to help children overcome problems</div> <label><input name=\"Q56\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q56\" type=\"radio\" value=\"true\" />Yes</label> <div>Draw and Paint</div> <label><input name=\"Q57\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q57\" type=\"radio\" value=\"true\" />Yes</label> <div>Weld metals together</div> <label><input name=\"Q58\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q58\" type=\"radio\" value=\"true\" />Yes</label> <div>Design computer systems to meet business needs</div> <label><input name=\"Q59\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q59\" type=\"radio\" value=\"true\" />Yes</label> <div>Audit financial records</div> <label><input name=\"Q60\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q60\" type=\"radio\" value=\"true\" />Yes</label> <div>Design travel plans for tourists</div> <label><input name=\"Q61\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q61\" type=\"radio\" value=\"true\" />Yes</label> <div>Study weather patterns</div> <label><input name=\"Q62\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q62\" type=\"radio\" value=\"true\" />Yes</label> <div>Assist injured people with exercises</div> <label><input name=\"Q63\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q63\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a pre-school (cr\u00e8che)</div> <label><input name=\"Q64\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q64\" type=\"radio\" value=\"true\" />Yes</label> <div>Write articles for magazines or newspapers</div> <label><input name=\"Q65\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q65\" type=\"radio\" value=\"true\" />Yes</label> <div>Work at a gold mine</div> <label><input name=\"Q66\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q66\" type=\"radio\" value=\"true\" />Yes</label> <div>Design computer software</div> <label><input name=\"Q67\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q67\" type=\"radio\" value=\"true\" />Yes</label> <div>Record and analyse financial transactions</div> <label><input name=\"Q68\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q68\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a guest house or guest farm</div> <label><input name=\"Q69\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q69\" type=\"radio\" value=\"true\" />Yes</label> <div>Study the stars and universe</div> <label><input name=\"Q70\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q70\" type=\"radio\" value=\"true\" />Yes</label> <div>Diagnose and treat dental (teeth) problems</div> <label><input name=\"Q71\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q71\" type=\"radio\" value=\"true\" />Yes</label> <div>Help people deal with personal problems</div> <label><input name=\"Q72\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q72\" type=\"radio\" value=\"true\" />Yes</label> <div>Write text for advertisements</div> <label><input name=\"Q73\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q73\" type=\"radio\" value=\"true\" />Yes</label> <div>Make machine parts</div> <label><input name=\"Q74\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q74\" type=\"radio\" value=\"true\" />Yes</label> <div>Fix computer equipment</div> <label><input name=\"Q75\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q75\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a business office</div> <label><input name=\"Q76\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q76\" type=\"radio\" value=\"true\" />Yes</label> <div>Work as a chef/ cook</div> <label><input name=\"Q77\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q77\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a farm</div> <label><input name=\"Q78\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q78\" type=\"radio\" value=\"true\" />Yes</label> <div>Help people with speech or hearing problems</div> <label><input name=\"Q79\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q79\" type=\"radio\" value=\"true\" />Yes</label> <div>Offer legal advice and support to other people</div> <label><input name=\"Q80\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q80\" type=\"radio\" value=\"true\" />Yes</label> <div>Do translations or interpreting</div> <label><input name=\"Q81\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q81\" type=\"radio\" value=\"true\" />Yes</label> <div>Build and develop properties</div> <label><input name=\"Q82\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q82\" type=\"radio\" value=\"true\" />Yes</label> <div>Develop and design computer games</div> <label><input name=\"Q83\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q83\" type=\"radio\" value=\"true\" />Yes</label> <div>Invest money on the stock market</div> <label><input name=\"Q84\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q84\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a catering firm</div> <label><input name=\"Q85\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q85\" type=\"radio\" value=\"true\" />Yes</label> <div>Protect coastal/ marine areas</div> <label><input name=\"Q86\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q86\" type=\"radio\" value=\"true\" />Yes</label> <div>Research possible cures for diseases</div> <label><input name=\"Q87\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q87\" type=\"radio\" value=\"true\" />Yes</label> <div>Investigate crime in the community</div> <label><input name=\"Q88\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q88\" type=\"radio\" value=\"true\" />Yes</label> <div>Design advertising logo for companies or products</div> <label><input name=\"Q89\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q89\" type=\"radio\" value=\"true\" />Yes</label> <div>Design buildings and furniture</div> <label><input name=\"Q90\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q90\" type=\"radio\" value=\"true\" />Yes</label> <div>Sell computer equipment</div> <label><input name=\"Q91\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q91\" type=\"radio\" value=\"true\" />Yes</label> <div>Advise people on good investment opportunities</div> <label><input name=\"Q92\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q92\" type=\"radio\" value=\"true\" />Yes</label> <div>Offer adventure tours for young people</div> <label><input name=\"Q93\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q93\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a garden center (nursery)</div> <label><input name=\"Q94\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q94\" type=\"radio\" value=\"true\" />Yes</label> <div>Mix and prescribe medicines in a pharmacy</div> <label><input name=\"Q95\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q95\" type=\"radio\" value=\"true\" />Yes</label> <div>Provide HIV/Aids Counseling in the community</div> <label><input name=\"Q96\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q96\" type=\"radio\" value=\"true\" />Yes</label> <div>Use make-up for special effects on stage and screen</div> <input type=\"submit\" value=\"Submit\"> </section> </fieldset> </form> label { float: right; clear: right; } label + label {clear: none;} input {vertical-align: top;} DB design Naming convention: lower case table and attribute names Naming convention: underscore to separate words in names Sample: CREATE table CONTACTME ( ID int AUTO_INCREMENT, APPLICATION varchar(100), NAME varchar(100), EMAIL varchar(100), SUBJECT varchar(100), MESSAGE varchar(400), COMPANY varchar(100), ADDRESS varchar(100), CONTACT varchar(100), PRIMARY KEY (ID)); DROP TABLE IF EXISTS \"CUSTOMER\"; CREATE TABLE \"norma\".\"customer\" ( \"id\" integer NOT NULL PRIMARY K, \"name\" character varying(20) NOT NULL, \"surname\" character varying(20) NOT NULL, \"email\" character varying(20) NOT NULL ) WITH (oids = false); DROP TABLE IF EXISTS \"interest_answers\"; CREATE TABLE \"norma\".\"interest_answers\" ( \"id\" integer NOT NULL, \"customer\" integer NOT NULL, \"Q01\" boolean NOT NULL, \"Q02\" boolean NOT NULL, \"Q03\" boolean NOT NULL, \"Q04\" boolean NOT NULL, \"Q05\" boolean NOT NULL, \"Q06\" boolean NOT NULL, \"Q07\" boolean NOT NULL, \"Q08\" boolean NOT NULL, \"Q09\" boolean NOT NULL, \"Q10\" boolean NOT NULL, \"Q11\" boolean NOT NULL, \"Q12\" boolean NOT NULL, \"Q13\" boolean NOT NULL, \"Q14\" boolean NOT NULL, \"Q15\" boolean NOT NULL, \"Q16\" boolean NOT NULL, \"Q17\" boolean NOT NULL, \"Q18\" boolean NOT NULL, \"Q19\" boolean NOT NULL, \"Q20\" boolean NOT NULL, \"Q21\" boolean NOT NULL, \"Q22\" boolean NOT NULL, \"Q23\" boolean NOT NULL, \"Q24\" boolean NOT NULL, \"Q25\" boolean NOT NULL, \"Q26\" boolean NOT NULL, \"Q27\" boolean NOT NULL, \"Q28\" boolean NOT NULL, \"Q29\" boolean NOT NULL, \"Q30\" boolean NOT NULL, \"Q31\" boolean NOT NULL, \"Q32\" boolean NOT NULL, \"Q33\" boolean NOT NULL, \"Q34\" boolean NOT NULL, \"Q35\" boolean NOT NULL, \"Q36\" boolean NOT NULL, \"Q37\" boolean NOT NULL, \"Q38\" boolean NOT NULL, \"Q39\" boolean NOT NULL, \"Q40\" boolean NOT NULL, \"Q41\" boolean NOT NULL, \"Q42\" boolean NOT NULL, \"Q43\" boolean NOT NULL, \"Q44\" boolean NOT NULL, \"Q45\" boolean NOT NULL, \"Q46\" boolean NOT NULL, \"Q47\" boolean NOT NULL, \"Q48\" boolean NOT NULL, \"Q49\" boolean NOT NULL, \"Q50\" boolean NOT NULL, \"Q51\" boolean NOT NULL, \"Q52\" boolean NOT NULL, \"Q53\" boolean NOT NULL, \"Q54\" boolean NOT NULL, \"Q55\" boolean NOT NULL, \"Q56\" boolean NOT NULL, \"Q57\" boolean NOT NULL, \"Q58\" boolean NOT NULL, \"Q59\" boolean NOT NULL, \"Q60\" boolean NOT NULL, \"Q61\" boolean NOT NULL, \"Q62\" boolean NOT NULL, \"Q63\" boolean NOT NULL, \"Q64\" boolean NOT NULL, \"Q65\" boolean NOT NULL, \"Q66\" boolean NOT NULL, \"Q67\" boolean NOT NULL, \"Q68\" boolean NOT NULL, \"Q69\" boolean NOT NULL, \"Q70\" boolean NOT NULL, \"Q71\" boolean NOT NULL, \"Q72\" boolean NOT NULL, \"Q73\" boolean NOT NULL, \"Q74\" boolean NOT NULL, \"Q75\" boolean NOT NULL, \"Q76\" boolean NOT NULL, \"Q77\" boolean NOT NULL, \"Q78\" boolean NOT NULL, \"Q79\" boolean NOT NULL, \"Q80\" boolean NOT NULL, \"Q81\" boolean NOT NULL, \"Q82\" boolean NOT NULL, \"Q83\" boolean NOT NULL, \"Q84\" boolean NOT NULL, \"Q85\" boolean NOT NULL, \"Q86\" boolean NOT NULL, \"Q87\" boolean NOT NULL, \"Q88\" boolean NOT NULL, \"Q89\" boolean NOT NULL, \"Q90\" boolean NOT NULL, \"Q91\" boolean NOT NULL, \"Q92\" boolean NOT NULL, \"Q93\" boolean NOT NULL, \"Q94\" boolean NOT NULL, \"Q95\" boolean NOT NULL, \"Q96\" boolean NOT NULL ) WITH (oids = false);","title":"Personality Questionnaire"},{"location":"technicalQuestionnaire/#personality-questionnaire","text":"<form action=\"/action_page.php\"> <fieldset> <legend>Personal Details:</legend> <label for=\"fname\">First name</label> <input type=\"text\" id=\"fname\" name=\"fname\"><br><br> <label for=\"lname\">Last name</label> <input type=\"text\" id=\"lname\" name=\"lname\"><br><br> <label for=\"email\">Email</label> <input type=\"email\" id=\"email\" name=\"email\"><br><br> </fieldset> <fieldset> <legend>Activity</legend> <section> <label><input name=\"Q01\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q01\" type=\"radio\" value=\"true\" />Yes</label> <div>Design Bridges, Dams or Roads</div> <label><input name=\"Q02\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q02\" type=\"radio\" value=\"true\" />Yes</label> <div>Capture Data into a computer</div> <label><input name=\"Q03\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q03\" type=\"radio\" value=\"true\" />Yes</label> <div>Advertise and sell products for companies</div> <label><input name=\"Q04\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q04\" type=\"radio\" value=\"true\" />Yes</label> <div>Plan weddings and other social events</div> <label><input name=\"Q05\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q05\" type=\"radio\" value=\"true\" />Yes</label> <div>Assist communities to improve their basic facilities</div> <label><input name=\"Q06\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q06\" type=\"radio\" value=\"true\" />Yes</label> <div>Give facials and massages to clients</div> <label><input name=\"Q07\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q07\" type=\"radio\" value=\"true\" />Yes</label> <div>Offer religious sermons</div> <label><input name=\"Q08\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q08\" type=\"radio\" value=\"true\" />Yes</label> <div>Make animated films</div> <label><input name=\"Q09\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q09\" type=\"radio\" value=\"true\" />Yes</label> <div>Build or fix airplanes</div> <label><input name=\"Q10\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q10\" type=\"radio\" value=\"true\" />Yes</label> <div>Set up new computers in offices</div> <label><input name=\"Q11\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q11\" type=\"radio\" value=\"true\" />Yes</label> <div>Answer phone calls in a call centre</div> <label><input name=\"Q12\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q12\" type=\"radio\" value=\"true\" />Yes</label> <div>Work as an air host/ess</div> <label><input name=\"Q13\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q13\" type=\"radio\" value=\"true\" />Yes</label> <div>Produce Wine or Beer</div> <label><input name=\"Q14\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q14\" type=\"radio\" value=\"true\" />Yes</label> <div>Style and Colour Hair</div> <label><input name=\"Q15\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q15\" type=\"radio\" value=\"true\" />Yes</label> <div>Offer counselling to drug addicts</div> <label><input name=\"Q16\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q16\" type=\"radio\" value=\"true\" />Yes</label> <div>Teach Music</div> <label><input name=\"Q17\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q17\" type=\"radio\" value=\"true\" />Yes</label> <div>Record and Mix Music</div> <label><input name=\"Q18\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q18\" type=\"radio\" value=\"true\" />Yes</label> <div>Work as a help desk analyst \u2013 provide support to computer users</div> <label><input name=\"Q19\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q19\" type=\"radio\" value=\"true\" />Yes</label> <div>Compile monthly financial statements</div> <label><input name=\"Q20\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q20\" type=\"radio\" value=\"true\" />Yes</label> <div>Run a fleet of taxis</div> <label><input name=\"Q21\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q21\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a Nature Reserve</div> <label><input name=\"Q22\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q22\" type=\"radio\" value=\"true\" />Yes</label> <div>Take care of sick people</div> <label><input name=\"Q23\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q23\" type=\"radio\" value=\"true\" />Yes</label> <div>Interview people for jobs</div> <label><input name=\"Q24\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q24\" type=\"radio\" value=\"true\" />Yes</label> <div>Present a television or radio show</div> <label><input name=\"Q25\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q25\" type=\"radio\" value=\"true\" />Yes</label> <div>Do underwater mechanical repairs</div> <label><input name=\"Q26\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q26\" type=\"radio\" value=\"true\" />Yes</label> <div>Train computer courses</div> <label><input name=\"Q27\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q27\" type=\"radio\" value=\"true\" />Yes</label> <div>Act as a personal assistant or secretary</div> <label><input name=\"Q28\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q28\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a hotel or restaurant</div> <label><input name=\"Q29\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q29\" type=\"radio\" value=\"true\" />Yes</label> <div>Design area maps</div> <label><input name=\"Q30\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q30\" type=\"radio\" value=\"true\" />Yes</label> <div>Treat or nurse sick animals</div> <label><input name=\"Q31\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q31\" type=\"radio\" value=\"true\" />Yes</label> <div>Teach primary or high school learners</div> <label><input name=\"Q32\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q32\" type=\"radio\" value=\"true\" />Yes</label> <div>Perform as a Dancer</div> <label><input name=\"Q33\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q33\" type=\"radio\" value=\"true\" />Yes</label> <div>Design or build electronic equipment (dvd players, cell phones)</div> <label><input name=\"Q34\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q34\" type=\"radio\" value=\"true\" />Yes</label> <div>Design Internet web sites</div> <label><input name=\"Q35\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q35\" type=\"radio\" value=\"true\" />Yes</label> <div>Write business letters</div> <label><input name=\"Q36\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q36\" type=\"radio\" value=\"true\" />Yes</label> <div>Act as a Tourist Guide</div> <label><input name=\"Q37\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q37\" type=\"radio\" value=\"true\" />Yes</label> <div>Plan the lay-out for new towns</div> <label><input name=\"Q38\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q38\" type=\"radio\" value=\"true\" />Yes</label> <div>Advise people on healthy eating habits</div> <label><input name=\"Q39\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q39\" type=\"radio\" value=\"true\" />Yes</label> <div>Train communication skills to business people</div> <label><input name=\"Q40\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q40\" type=\"radio\" value=\"true\" />Yes</label> <div>Act in films, advertisements or theatre productions</div> <label><input name=\"Q41\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q41\" type=\"radio\" value=\"true\" />Yes</label> <div>Install and maintain electrical cables in buildings</div> <label><input name=\"Q42\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q42\" type=\"radio\" value=\"true\" />Yes</label> <div>Maintain computer networks</div> <label><input name=\"Q43\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q43\" type=\"radio\" value=\"true\" />Yes</label> <div>Buy stock (goods) for a business</div> <label><input name=\"Q44\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q44\" type=\"radio\" value=\"true\" />Yes</label> <div>Work in a surf or diving school</div> <label><input name=\"Q45\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q45\" type=\"radio\" value=\"true\" />Yes</label> <div>Grow vegetables or fruit trees</div> <label><input name=\"Q46\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q46\" type=\"radio\" value=\"true\" />Yes</label> <div>Provide emergency medical care (ambulance services)</div> <label><input name=\"Q47\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q47\" type=\"radio\" value=\"true\" />Yes</label> <div>Run a political campaign</div> <label><input name=\"Q48\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q48\" type=\"radio\" value=\"true\" />Yes</label> <div>Play music in a band or orchestra</div> <label><input name=\"Q49\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q49\" type=\"radio\" value=\"true\" />Yes</label> <div>Repair motor vehicles</div> <label><input name=\"Q50\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q50\" type=\"radio\" value=\"true\" />Yes</label> <div>Write computer programs</div> <label><input name=\"Q51\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q51\" type=\"radio\" value=\"true\" />Yes</label> <div>Own a tax consulting business</div> <label><input name=\"Q52\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q52\" type=\"radio\" value=\"true\" />Yes</label> <div>Work as a waiter or bartender</div> <label><input name=\"Q53\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q53\" type=\"radio\" value=\"true\" />Yes</label> <div>Design gardens and landscapes</div> <label><input name=\"Q54\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q54\" type=\"radio\" value=\"true\" />Yes</label> <div>Diagnose and treat sick people</div> <label><input name=\"Q55\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q55\" type=\"radio\" value=\"true\" />Yes</label> <div>Use play therapy to help children overcome problems</div> <label><input name=\"Q56\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q56\" type=\"radio\" value=\"true\" />Yes</label> <div>Draw and Paint</div> <label><input name=\"Q57\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q57\" type=\"radio\" value=\"true\" />Yes</label> <div>Weld metals together</div> <label><input name=\"Q58\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q58\" type=\"radio\" value=\"true\" />Yes</label> <div>Design computer systems to meet business needs</div> <label><input name=\"Q59\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q59\" type=\"radio\" value=\"true\" />Yes</label> <div>Audit financial records</div> <label><input name=\"Q60\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q60\" type=\"radio\" value=\"true\" />Yes</label> <div>Design travel plans for tourists</div> <label><input name=\"Q61\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q61\" type=\"radio\" value=\"true\" />Yes</label> <div>Study weather patterns</div> <label><input name=\"Q62\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q62\" type=\"radio\" value=\"true\" />Yes</label> <div>Assist injured people with exercises</div> <label><input name=\"Q63\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q63\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a pre-school (cr\u00e8che)</div> <label><input name=\"Q64\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q64\" type=\"radio\" value=\"true\" />Yes</label> <div>Write articles for magazines or newspapers</div> <label><input name=\"Q65\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q65\" type=\"radio\" value=\"true\" />Yes</label> <div>Work at a gold mine</div> <label><input name=\"Q66\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q66\" type=\"radio\" value=\"true\" />Yes</label> <div>Design computer software</div> <label><input name=\"Q67\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q67\" type=\"radio\" value=\"true\" />Yes</label> <div>Record and analyse financial transactions</div> <label><input name=\"Q68\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q68\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a guest house or guest farm</div> <label><input name=\"Q69\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q69\" type=\"radio\" value=\"true\" />Yes</label> <div>Study the stars and universe</div> <label><input name=\"Q70\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q70\" type=\"radio\" value=\"true\" />Yes</label> <div>Diagnose and treat dental (teeth) problems</div> <label><input name=\"Q71\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q71\" type=\"radio\" value=\"true\" />Yes</label> <div>Help people deal with personal problems</div> <label><input name=\"Q72\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q72\" type=\"radio\" value=\"true\" />Yes</label> <div>Write text for advertisements</div> <label><input name=\"Q73\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q73\" type=\"radio\" value=\"true\" />Yes</label> <div>Make machine parts</div> <label><input name=\"Q74\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q74\" type=\"radio\" value=\"true\" />Yes</label> <div>Fix computer equipment</div> <label><input name=\"Q75\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q75\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a business office</div> <label><input name=\"Q76\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q76\" type=\"radio\" value=\"true\" />Yes</label> <div>Work as a chef/ cook</div> <label><input name=\"Q77\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q77\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a farm</div> <label><input name=\"Q78\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q78\" type=\"radio\" value=\"true\" />Yes</label> <div>Help people with speech or hearing problems</div> <label><input name=\"Q79\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q79\" type=\"radio\" value=\"true\" />Yes</label> <div>Offer legal advice and support to other people</div> <label><input name=\"Q80\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q80\" type=\"radio\" value=\"true\" />Yes</label> <div>Do translations or interpreting</div> <label><input name=\"Q81\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q81\" type=\"radio\" value=\"true\" />Yes</label> <div>Build and develop properties</div> <label><input name=\"Q82\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q82\" type=\"radio\" value=\"true\" />Yes</label> <div>Develop and design computer games</div> <label><input name=\"Q83\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q83\" type=\"radio\" value=\"true\" />Yes</label> <div>Invest money on the stock market</div> <label><input name=\"Q84\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q84\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a catering firm</div> <label><input name=\"Q85\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q85\" type=\"radio\" value=\"true\" />Yes</label> <div>Protect coastal/ marine areas</div> <label><input name=\"Q86\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q86\" type=\"radio\" value=\"true\" />Yes</label> <div>Research possible cures for diseases</div> <label><input name=\"Q87\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q87\" type=\"radio\" value=\"true\" />Yes</label> <div>Investigate crime in the community</div> <label><input name=\"Q88\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q88\" type=\"radio\" value=\"true\" />Yes</label> <div>Design advertising logo for companies or products</div> <label><input name=\"Q89\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q89\" type=\"radio\" value=\"true\" />Yes</label> <div>Design buildings and furniture</div> <label><input name=\"Q90\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q90\" type=\"radio\" value=\"true\" />Yes</label> <div>Sell computer equipment</div> <label><input name=\"Q91\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q91\" type=\"radio\" value=\"true\" />Yes</label> <div>Advise people on good investment opportunities</div> <label><input name=\"Q92\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q92\" type=\"radio\" value=\"true\" />Yes</label> <div>Offer adventure tours for young people</div> <label><input name=\"Q93\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q93\" type=\"radio\" value=\"true\" />Yes</label> <div>Manage a garden center (nursery)</div> <label><input name=\"Q94\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q94\" type=\"radio\" value=\"true\" />Yes</label> <div>Mix and prescribe medicines in a pharmacy</div> <label><input name=\"Q95\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q95\" type=\"radio\" value=\"true\" />Yes</label> <div>Provide HIV/Aids Counseling in the community</div> <label><input name=\"Q96\" type=\"radio\" value=\"false\" />No</label> <label><input name=\"Q96\" type=\"radio\" value=\"true\" />Yes</label> <div>Use make-up for special effects on stage and screen</div> <input type=\"submit\" value=\"Submit\"> </section> </fieldset> </form> label { float: right; clear: right; } label + label {clear: none;} input {vertical-align: top;}","title":"Personality Questionnaire"},{"location":"technicalQuestionnaire/#db-design","text":"Naming convention: lower case table and attribute names Naming convention: underscore to separate words in names Sample: CREATE table CONTACTME ( ID int AUTO_INCREMENT, APPLICATION varchar(100), NAME varchar(100), EMAIL varchar(100), SUBJECT varchar(100), MESSAGE varchar(400), COMPANY varchar(100), ADDRESS varchar(100), CONTACT varchar(100), PRIMARY KEY (ID)); DROP TABLE IF EXISTS \"CUSTOMER\"; CREATE TABLE \"norma\".\"customer\" ( \"id\" integer NOT NULL PRIMARY K, \"name\" character varying(20) NOT NULL, \"surname\" character varying(20) NOT NULL, \"email\" character varying(20) NOT NULL ) WITH (oids = false); DROP TABLE IF EXISTS \"interest_answers\"; CREATE TABLE \"norma\".\"interest_answers\" ( \"id\" integer NOT NULL, \"customer\" integer NOT NULL, \"Q01\" boolean NOT NULL, \"Q02\" boolean NOT NULL, \"Q03\" boolean NOT NULL, \"Q04\" boolean NOT NULL, \"Q05\" boolean NOT NULL, \"Q06\" boolean NOT NULL, \"Q07\" boolean NOT NULL, \"Q08\" boolean NOT NULL, \"Q09\" boolean NOT NULL, \"Q10\" boolean NOT NULL, \"Q11\" boolean NOT NULL, \"Q12\" boolean NOT NULL, \"Q13\" boolean NOT NULL, \"Q14\" boolean NOT NULL, \"Q15\" boolean NOT NULL, \"Q16\" boolean NOT NULL, \"Q17\" boolean NOT NULL, \"Q18\" boolean NOT NULL, \"Q19\" boolean NOT NULL, \"Q20\" boolean NOT NULL, \"Q21\" boolean NOT NULL, \"Q22\" boolean NOT NULL, \"Q23\" boolean NOT NULL, \"Q24\" boolean NOT NULL, \"Q25\" boolean NOT NULL, \"Q26\" boolean NOT NULL, \"Q27\" boolean NOT NULL, \"Q28\" boolean NOT NULL, \"Q29\" boolean NOT NULL, \"Q30\" boolean NOT NULL, \"Q31\" boolean NOT NULL, \"Q32\" boolean NOT NULL, \"Q33\" boolean NOT NULL, \"Q34\" boolean NOT NULL, \"Q35\" boolean NOT NULL, \"Q36\" boolean NOT NULL, \"Q37\" boolean NOT NULL, \"Q38\" boolean NOT NULL, \"Q39\" boolean NOT NULL, \"Q40\" boolean NOT NULL, \"Q41\" boolean NOT NULL, \"Q42\" boolean NOT NULL, \"Q43\" boolean NOT NULL, \"Q44\" boolean NOT NULL, \"Q45\" boolean NOT NULL, \"Q46\" boolean NOT NULL, \"Q47\" boolean NOT NULL, \"Q48\" boolean NOT NULL, \"Q49\" boolean NOT NULL, \"Q50\" boolean NOT NULL, \"Q51\" boolean NOT NULL, \"Q52\" boolean NOT NULL, \"Q53\" boolean NOT NULL, \"Q54\" boolean NOT NULL, \"Q55\" boolean NOT NULL, \"Q56\" boolean NOT NULL, \"Q57\" boolean NOT NULL, \"Q58\" boolean NOT NULL, \"Q59\" boolean NOT NULL, \"Q60\" boolean NOT NULL, \"Q61\" boolean NOT NULL, \"Q62\" boolean NOT NULL, \"Q63\" boolean NOT NULL, \"Q64\" boolean NOT NULL, \"Q65\" boolean NOT NULL, \"Q66\" boolean NOT NULL, \"Q67\" boolean NOT NULL, \"Q68\" boolean NOT NULL, \"Q69\" boolean NOT NULL, \"Q70\" boolean NOT NULL, \"Q71\" boolean NOT NULL, \"Q72\" boolean NOT NULL, \"Q73\" boolean NOT NULL, \"Q74\" boolean NOT NULL, \"Q75\" boolean NOT NULL, \"Q76\" boolean NOT NULL, \"Q77\" boolean NOT NULL, \"Q78\" boolean NOT NULL, \"Q79\" boolean NOT NULL, \"Q80\" boolean NOT NULL, \"Q81\" boolean NOT NULL, \"Q82\" boolean NOT NULL, \"Q83\" boolean NOT NULL, \"Q84\" boolean NOT NULL, \"Q85\" boolean NOT NULL, \"Q86\" boolean NOT NULL, \"Q87\" boolean NOT NULL, \"Q88\" boolean NOT NULL, \"Q89\" boolean NOT NULL, \"Q90\" boolean NOT NULL, \"Q91\" boolean NOT NULL, \"Q92\" boolean NOT NULL, \"Q93\" boolean NOT NULL, \"Q94\" boolean NOT NULL, \"Q95\" boolean NOT NULL, \"Q96\" boolean NOT NULL ) WITH (oids = false);","title":"DB design"},{"location":"technicalRadio/","text":"Radio implementations Muso Club and ThruHere are used as base domains for QA/Production and POC/Dev environments respectively. Radio software options and selection Options Libretime: API based, remote controllable: https://libretime.org/ Airtime: SaaS Cloud Subscription: https://www.sourcefabric.org/software/airtime Rivendell: In Studio, GUI app oriented: https://www.rivendellaudio.org/ XFB: GUI oriented, remote access in Beta: https://github.com/netpack/XFB OpenBroadcaster: appliance oriented : https://openbroadcaster.com/products/raspberry-pi-pyrate/ Knobs: No movement for 4 years: https://github.com/krisnova/knobs Selection Libretime https://libretime.org/ for reasons: Specific Open Source Licence Active development community Governance and COC Stable and familiar components {postgres, rabbitmq, nginx} API Based Docker images available Helm chart available as baseline Testing results and issues to resolve Icecast log destinations Refactor chart vs flux inventories: Move library scan to flux Icecast xsl artefacts Architecture: High Level Design For traceability, from requirements, we have the following MVP Themes Icecast - Stream audio tracks from network file storage during a scheduled session DJ - Schedule playlists of uploaded content for use in scheduled sessions Radio - Stream in from icecast source for broadcast from a DJ installation during scheduled sessions Listener - View Radio Station web page with embedded playback and listen to scheduled audio These are to be implemented, using the LibreTime platform, as described in the following sections. 1: Icecast - Stream audio tracks from network file storage Original content for featured artists are loaded onto the dataserver, on Data02, and streamed from the icecast instance on dataserver on a dedicated mount point per track. This results in a local URL that can be configured as a \"Webstream\" in Libretime. The Webstream can be added directly to a scheduled session, or added to a playlist, for use in a scheduled session. --- title: Icecast - Stream audio tracks from network file storage --- graph TD subgraph dataserver subgraph Data02 /webcast/Artist/Track.mp3 end subgraph icecast subgraph mounts /Artist/Track.mp3 end end end subgraph \"radio.muso.club\" subgraph Webstream T3[Artist Track] end T4[scheduled session] end /webcast/Artist/Track.mp3 --> /Artist/Track.mp3 --> T3 --> T4 --> https://radio.muso.club/main The diagram depicts an icecast instance with icecast.paths.webroot set to /Data02/webcast 2: DJ - Schedule playlists of uploaded content Prerequisites: Admin: Create User on the radio console, with the role of DJ. Admin: Create Session on the radio console, and assign it to the created DJ. Process: DJ selects \"Upload\" on radio console, and adds music or voice tracks DJ selects \"Calendar\", clicks on session, selects \"Schedule Tracks\" DJ drags tracks from track list from panel on the left, to the session slot in the right hand panel. When the session starts, the selected tracks will be streamed in order. 3: Radio - Stream in for broadcast from a DJ installation A DJ (or live audio stream) to connect to the station, using dedicated credentials, to the main mount point, during sessions scheduled for the DJ in the radio schedule. A number of Icecast clients have been tested successfully, illustrated as examples of the stream source. --- title: Radio - Stream in for broadcast from a DJ installation --- graph LR source1(Mixxx) -- user1:password1 --> station[muso.club:8002] station --> libretime libretime[playout] --> https://broadcast.muso.club/main source2(BUTT) -- user2:password2 --> station source3(iziCast) -- user3:password3 --> station actor1(Program Manager) -- Create a DJ user--> console.muso.club actor1(Program Manager) -- schedule a session\\n for the DJ --> console.muso.club console.muso.club --> libretime 4: Listener - View Radio Station web page with embedded playback and schedule A Listener is the Actor using the radio broadcast service. The streaming protocol chosen is MP3 to support the broadest range of devices. --- title: View Radio Station web page with embedded playback and schedule --- graph LR browser(listener) <--> https://radio.muso.club subgraph https://radio.muso.club w1(LibreTime widget) w2(WordPress audio block) w3(WordPress widget) end browser(listener) <--> https://broadcast.muso.club/main Default browser audio player If the radio station broadcast URL https://broadcast.muso.club/main is opened in a browser, the default behaviour is to display an audio player and start playing the broadcasted mp3 stream. This can be embedded in a website, or linked to from a QR code. Radio station widget LibreTime has an embeddable player that can be displayed on a web page in an iFrame. For Radio@Muso.Club , the following can be added to a custom HTML block: <iframe frameborder=\"0\" width=\"280\" height=\"216\" src=\"https://console.muso.club/embed/player?stream=auto&title=Now Playing\" ></iframe> WordPress widget The standard audio block for WordPress displays a simple audio player. This can be used to build a player widget that suites the web site. Styling the audio player element using js, html, and css Reference: https://blog.shahednasser.com/how-to-style-an-audio-element/ Libretime API As documented in https://libretime.org/docs/user-manual/playout-history/ , the following API URLs return publicly accessible radio information, if enabled: https://console.muso.club/api/live-info/?callback https://console.muso.club/api/week-info/?callback In general, for authenticated APIs, the URL is of the form https://console.muso.club/api/api-action/format/json/api_key/XXXXXX Valid API actions: on-air-light - return true if the station is on air status - get the status of LibreTime components and resource usage version - returns the version of LibreTime installed get-files-without-silan-value - list files for which silence detection hasn't yet been performed get-stream-setting - gets the settings of LibreTime output streams get-stream-parameters - gets the parameters of LibreTime output streams Tested: https://console.muso.club/api/on-air-light/?callback https://console.muso.club/api/status/?callback : Returns HTTP status code 200 OK , with ContentLength=0. https://console.muso.club/api/version/?callback : Returns json with airtime_version and api_version . https://console.muso.club/api/get-stream-setting/?callback : Returns HTTP status code 200 OK , with ContentLength=0. https://console.muso.club/api/get-stream-parameters?callback : Returns HTTP status code 200 OK , with ContentLength=0. For test purposes, expose the api service to localhost with a k8s port forward on port 9001 A version 2 API is also available. API documentation for the installation is available on the following URL: https://console.muso.club/api/v2/schema/swagger-ui Baseline libretime artefact extraction curl -X 'GET' \\ 'https://console.thruhere.net/api/v2/playlists' \\ -H 'accept: application/json' \\ -H 'Authorization: Basic YWRtaW46YWRtaW4=' Technical Implementation Build a custom LibreTime chart, to match infrastructure ingress and storage class, and db StatefulSet. Create Flux apps/radio.muso.club kustomization with LibreTime source, and override values. Create Flux infrastructure/ingress-nginx kustomization to add TCP ports Create Flux apps/www.radio.muso.club kustomization with WordPress source, and override values. POV Prep, and fixes from POC Domain purchased for POV: muso.club Build libretime chart, revised to remove non http ingress Deploy to norham cluster, using flux, with values override Configure ingress-nginx: deploy as chart, with values file for TCP ingress Configure db StatefulSet instead of Deployment Post installation configuration Libretime log in as admin:admin Set admin password Set Station logo, Name and Description Get player and schedule widget html for web site home page NOTE: Do not set Settings->Streams->Live Broadcast->Auto Switch Off/On until understood. Wordpress log in as musoclub install and run Wordpress importer with latest export add image files to library edit pages and posts to replace missing images edit page header libretime player widget (if necessary) edit main page libretime schedule widget (if necessary) Track Ingestion Host: dataserver Access controlled Samba on local network for workstation access. Samba writeable raw library directory: /Data01/cdcollection Samba writeable ingestion directory: /Data02/library-in Process: copy albums from /Data01/cdcollection to /Data02/library-in Batch process, with clean-up, to /Data02/library NFS access to /Data02/library for station batch upload NFS access to /Data02/radio for station media /srv/libretime To be backed backed up in sync with station DB: /srv/libretime Ingestion notes Clean-up tool: Beets Process: Use fre:ac for cd to /cdcollection/ ffmpeg -i filename.mpg for metadata view Copy batches of directories from /cdcollection/ to /library-in/ Run beet import . in /library-in/ , and follow interactive process Images and other non-music files cleaned up periodically from /library-in Results: /cdcollection: 17G library: 15G library-fallout: 323M Beet config: directory: /Data02/library/ library: /Data02/librarydb/musiclibrary.db import: move: yes Fallout: 63M ./various artists - the bossa nova exciting jazz samba rhythms vol.1 4.8M ./1982 - beyond the realms of dub_dub me crazy pt.2 48M ./Beasty Boys - Hello Nasty 8.3M ./aphex twin 60M ./blade runner - soundtrack 32M ./caves of kiev 110M ./electronica 323M . Bulk track upload Add sudo -u libretime libretime-api bulk_import --path PATH_THE_DIRECTORY_TO_SCAN to libretime startup Path: dataserver Backup and Restore Automation Create k8s CronJob postgres-backup in radio namespace Use postgres:16.2 image Add nfs export from Dataserver for /Data02/backups for k8s backup-storage volume Run pg_dump, store to nfs backup-storage volume mounted on /mnt Run once daily at midnight schedule: \"0 0 * * *\" Station Database [X] Reference: https://libretime.org/docs/admin-manual/backup/ [X] DB front-end Adminer: https://db.muso.club/current/site?pgsql=postgres&username=libretime&db=libretime [X] Password: available by base64 decoding radio/postgres-secret.data.POSTGRES_PASSWORD [X] Test export of station db run at 1am on 30th May - libretime.sql.gz - is 14.2MB. [ ] Test export after at least a few day's station run to get a picture of data growth. [ ] Test import into new station [ ] Test import to override current station Media [ ] Libretime container NFS datastore: nfs://dataserver/Data02/radio [ ] Station Library Technical Architecture Integration --- title: muso.club Integration --- graph LR subgraph Dataserver nfs-service2[(/DATA2/radio/)] end subgraph Norham Cluster subgraph Libretime WebGUI Schedule Users Library Input Broadcast end WebSite end http://console.muso.club --> WebGUI http://radio.muso.club --> WebSite Input --> Broadcast Library --> Dataserver WebGUI --- Library WebGUI --- Schedule WebGUI --- Users Dataserver --> Input client1{{DJ}} -- muso.club:8002 ----> Input client2{{Master}} -- muso.club:8001 ----> Input Library --> Schedule --> Input Broadcast --> WebSite browser1{{Station User}} --> http://console.muso.club browser2{{Listener Widget}} --> http://radio.muso.club Request routing --- title: jam.radio.fm Request routing --- graph LR Internet -- *.muso.club --> router router -- 80\\n443 --> dmz router -- 8001\\n8002 --> metallb3 dmz -- 192.168.1.221 --> metallb3 metallb3 --> k8s07 metallb3 --> k8s08 metallb3 --> k8s09 metallb3 --> k8s10 metallb3[[norham]] router[[Router]] dmz{{rudolfensis}} k8s07{{norham01}} k8s08{{norham02}} k8s09{{norham03}} k8s10{{norham04}} Icecast config for webstreams The following are available on the local network . The base URL is http://192.168.1.26:8000 , so for the mount example below, the URL is http://192.168.1.26:8000/Artist/Track.mp3 . <mount type=\"normal\"> <mount-name>/Artist/Track.mp3</mount-name> <type>application/mp3</type> <fallback-mount>/Artist/Track.mp3</fallback-mount> </mount> This configuration is applied to the icecast instance on dataserver . POV URLS Wordpress site: https://radio.muso.club Radio Station console: https://console.muso.club Icecast Server console: https://broadcast.muso.club DJ Ingress: muso.club:8001 Master Ingress: muso.club:8002 POC URLS Wordpress site: https://www.radio.thruhere.net Radio Station console: https://console.thruhere.net Icecast Server console: https://radio.thruhere.net DJ Ingress: https://dj.radio.thruhere.net/ Master Ingress: https://master.radio.thruhere.net/ Applying Ingress modifications for playout TCP ports To support non-HTTP TCP listener ports on the cluster, the cluster ingress-nginx installation is moved from a helm install at cluster build time, to a gitops installation. The following ingress-nginx chart values setting are used: ## ingress-nginx helm chart values to add support for radio ingress controller: configAnnotations: nginx.ingress.kubernetes.io/proxy-body-size: 20m service: ports: djinput: 8001 masterinput: 8002 tcp: 8001: \"radio/liquidsoap:8001\" 8002: \"radio/liquidsoap:8002\" Here, there are two additional listener ports being added to the ingress-nginx controller, and corresponding entries added to a tcp-services configmap, as documented here: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/exposing-tcp-udp-services.md . Using a gitops installation for ingress-nginx also allows the file upload limit to be increased from the default easily, which is required by Libretime as well as WordPress. PodZone / QSolutions Helm chart Based on clone of https://github.com/unbelauscht/libretime-helm Source: https://github.com/MoTTTT/libretime-helm Published on: https://artifacthub.io/packages/helm/podzone-charts/libretime Security report: https://artifacthub.io/packages/helm/podzone-charts/libretime?modal=security-report : WARNING: This package has high severity fixable vulnerabilities older than 2 years old that haven't been addressed yet. NFS Preparation NFS server: dataserver Allocation to instance, e.g. thruhere on /Data02 NFS Export: Icecast log; /Data02/thruhere/icecast-log NFS Export: Icecast web; /Data02/thruhere/icecast-web NFS Export: Library; /Data02/thruhere/icecast-web NFS Export: Libretime; /Data02/thruhere/icecast-web root@dataserver:/Data02/radio# root@dataserver:/Data02# mkdir /Data02/thruhere root@dataserver:/Data02# mkdir /Data02/thruhere/icecast-log root@dataserver:/Data02# mkdir /Data02/thruhere/icecast-web root@dataserver:/Data02# mkdir /Data02/thruhere/library root@dataserver:/Data02# mkdir /Data02/thruhere/libretime root@dataserver:/Data02# chown -R nobody:nogroup /Data02/thruhere root@dataserver:/Data02# chmod -R og+w /Data02/thruhere root@dataserver:/Data02# ls -alr /Data02/thruhere/ drwxrwxrwx 2 nobody nogroup 4096 Jun 18 12:49 libretime drwxrwxrwx 2 nobody nogroup 4096 Jun 18 12:49 library drwxrwxrwx 2 nobody nogroup 4096 Jun 18 12:49 icecast-web drwxrwxrwx 2 nobody nogroup 4096 Jun 18 12:48 icecast-log drwxr-xr-x 12 root root 4096 Jun 18 12:48 .. drwxrwxrwx 6 nobody nogroup 4096 Jun 18 12:49 .","title":"Radio implementations"},{"location":"technicalRadio/#radio-implementations","text":"Muso Club and ThruHere are used as base domains for QA/Production and POC/Dev environments respectively.","title":"Radio implementations"},{"location":"technicalRadio/#radio-software-options-and-selection","text":"","title":"Radio software options and selection"},{"location":"technicalRadio/#options","text":"Libretime: API based, remote controllable: https://libretime.org/ Airtime: SaaS Cloud Subscription: https://www.sourcefabric.org/software/airtime Rivendell: In Studio, GUI app oriented: https://www.rivendellaudio.org/ XFB: GUI oriented, remote access in Beta: https://github.com/netpack/XFB OpenBroadcaster: appliance oriented : https://openbroadcaster.com/products/raspberry-pi-pyrate/ Knobs: No movement for 4 years: https://github.com/krisnova/knobs","title":"Options"},{"location":"technicalRadio/#selection","text":"Libretime https://libretime.org/ for reasons: Specific Open Source Licence Active development community Governance and COC Stable and familiar components {postgres, rabbitmq, nginx} API Based Docker images available Helm chart available as baseline","title":"Selection"},{"location":"technicalRadio/#testing-results-and-issues-to-resolve","text":"Icecast log destinations Refactor chart vs flux inventories: Move library scan to flux Icecast xsl artefacts","title":"Testing results and issues to resolve"},{"location":"technicalRadio/#architecture-high-level-design","text":"For traceability, from requirements, we have the following MVP Themes Icecast - Stream audio tracks from network file storage during a scheduled session DJ - Schedule playlists of uploaded content for use in scheduled sessions Radio - Stream in from icecast source for broadcast from a DJ installation during scheduled sessions Listener - View Radio Station web page with embedded playback and listen to scheduled audio These are to be implemented, using the LibreTime platform, as described in the following sections.","title":"Architecture: High Level Design"},{"location":"technicalRadio/#1-icecast-stream-audio-tracks-from-network-file-storage","text":"Original content for featured artists are loaded onto the dataserver, on Data02, and streamed from the icecast instance on dataserver on a dedicated mount point per track. This results in a local URL that can be configured as a \"Webstream\" in Libretime. The Webstream can be added directly to a scheduled session, or added to a playlist, for use in a scheduled session. --- title: Icecast - Stream audio tracks from network file storage --- graph TD subgraph dataserver subgraph Data02 /webcast/Artist/Track.mp3 end subgraph icecast subgraph mounts /Artist/Track.mp3 end end end subgraph \"radio.muso.club\" subgraph Webstream T3[Artist Track] end T4[scheduled session] end /webcast/Artist/Track.mp3 --> /Artist/Track.mp3 --> T3 --> T4 --> https://radio.muso.club/main The diagram depicts an icecast instance with icecast.paths.webroot set to /Data02/webcast","title":"1: Icecast - Stream audio tracks from network file storage"},{"location":"technicalRadio/#2-dj-schedule-playlists-of-uploaded-content","text":"Prerequisites: Admin: Create User on the radio console, with the role of DJ. Admin: Create Session on the radio console, and assign it to the created DJ. Process: DJ selects \"Upload\" on radio console, and adds music or voice tracks DJ selects \"Calendar\", clicks on session, selects \"Schedule Tracks\" DJ drags tracks from track list from panel on the left, to the session slot in the right hand panel. When the session starts, the selected tracks will be streamed in order.","title":"2: DJ - Schedule playlists of uploaded content"},{"location":"technicalRadio/#3-radio-stream-in-for-broadcast-from-a-dj-installation","text":"A DJ (or live audio stream) to connect to the station, using dedicated credentials, to the main mount point, during sessions scheduled for the DJ in the radio schedule. A number of Icecast clients have been tested successfully, illustrated as examples of the stream source. --- title: Radio - Stream in for broadcast from a DJ installation --- graph LR source1(Mixxx) -- user1:password1 --> station[muso.club:8002] station --> libretime libretime[playout] --> https://broadcast.muso.club/main source2(BUTT) -- user2:password2 --> station source3(iziCast) -- user3:password3 --> station actor1(Program Manager) -- Create a DJ user--> console.muso.club actor1(Program Manager) -- schedule a session\\n for the DJ --> console.muso.club console.muso.club --> libretime","title":"3: Radio - Stream in for broadcast from a DJ installation"},{"location":"technicalRadio/#4-listener-view-radio-station-web-page-with-embedded-playback-and-schedule","text":"A Listener is the Actor using the radio broadcast service. The streaming protocol chosen is MP3 to support the broadest range of devices. --- title: View Radio Station web page with embedded playback and schedule --- graph LR browser(listener) <--> https://radio.muso.club subgraph https://radio.muso.club w1(LibreTime widget) w2(WordPress audio block) w3(WordPress widget) end browser(listener) <--> https://broadcast.muso.club/main","title":"4: Listener - View Radio Station web page with embedded playback and schedule"},{"location":"technicalRadio/#default-browser-audio-player","text":"If the radio station broadcast URL https://broadcast.muso.club/main is opened in a browser, the default behaviour is to display an audio player and start playing the broadcasted mp3 stream. This can be embedded in a website, or linked to from a QR code.","title":"Default browser audio player"},{"location":"technicalRadio/#radio-station-widget","text":"LibreTime has an embeddable player that can be displayed on a web page in an iFrame. For Radio@Muso.Club , the following can be added to a custom HTML block: <iframe frameborder=\"0\" width=\"280\" height=\"216\" src=\"https://console.muso.club/embed/player?stream=auto&title=Now Playing\" ></iframe>","title":"Radio station widget"},{"location":"technicalRadio/#wordpress-widget","text":"The standard audio block for WordPress displays a simple audio player. This can be used to build a player widget that suites the web site.","title":"WordPress widget"},{"location":"technicalRadio/#styling-the-audio-player-element-using-js-html-and-css","text":"Reference: https://blog.shahednasser.com/how-to-style-an-audio-element/","title":"Styling the audio player element using js, html, and css"},{"location":"technicalRadio/#libretime-api","text":"As documented in https://libretime.org/docs/user-manual/playout-history/ , the following API URLs return publicly accessible radio information, if enabled: https://console.muso.club/api/live-info/?callback https://console.muso.club/api/week-info/?callback In general, for authenticated APIs, the URL is of the form https://console.muso.club/api/api-action/format/json/api_key/XXXXXX Valid API actions: on-air-light - return true if the station is on air status - get the status of LibreTime components and resource usage version - returns the version of LibreTime installed get-files-without-silan-value - list files for which silence detection hasn't yet been performed get-stream-setting - gets the settings of LibreTime output streams get-stream-parameters - gets the parameters of LibreTime output streams Tested: https://console.muso.club/api/on-air-light/?callback https://console.muso.club/api/status/?callback : Returns HTTP status code 200 OK , with ContentLength=0. https://console.muso.club/api/version/?callback : Returns json with airtime_version and api_version . https://console.muso.club/api/get-stream-setting/?callback : Returns HTTP status code 200 OK , with ContentLength=0. https://console.muso.club/api/get-stream-parameters?callback : Returns HTTP status code 200 OK , with ContentLength=0. For test purposes, expose the api service to localhost with a k8s port forward on port 9001 A version 2 API is also available. API documentation for the installation is available on the following URL: https://console.muso.club/api/v2/schema/swagger-ui","title":"Libretime API"},{"location":"technicalRadio/#baseline-libretime-artefact-extraction","text":"curl -X 'GET' \\ 'https://console.thruhere.net/api/v2/playlists' \\ -H 'accept: application/json' \\ -H 'Authorization: Basic YWRtaW46YWRtaW4='","title":"Baseline libretime artefact extraction"},{"location":"technicalRadio/#technical-implementation","text":"Build a custom LibreTime chart, to match infrastructure ingress and storage class, and db StatefulSet. Create Flux apps/radio.muso.club kustomization with LibreTime source, and override values. Create Flux infrastructure/ingress-nginx kustomization to add TCP ports Create Flux apps/www.radio.muso.club kustomization with WordPress source, and override values.","title":"Technical Implementation"},{"location":"technicalRadio/#pov-prep-and-fixes-from-poc","text":"Domain purchased for POV: muso.club Build libretime chart, revised to remove non http ingress Deploy to norham cluster, using flux, with values override Configure ingress-nginx: deploy as chart, with values file for TCP ingress Configure db StatefulSet instead of Deployment","title":"POV Prep, and fixes from POC"},{"location":"technicalRadio/#post-installation-configuration","text":"","title":"Post installation configuration"},{"location":"technicalRadio/#libretime","text":"log in as admin:admin Set admin password Set Station logo, Name and Description Get player and schedule widget html for web site home page NOTE: Do not set Settings->Streams->Live Broadcast->Auto Switch Off/On until understood.","title":"Libretime"},{"location":"technicalRadio/#wordpress","text":"log in as musoclub install and run Wordpress importer with latest export add image files to library edit pages and posts to replace missing images edit page header libretime player widget (if necessary) edit main page libretime schedule widget (if necessary)","title":"Wordpress"},{"location":"technicalRadio/#track-ingestion","text":"Host: dataserver Access controlled Samba on local network for workstation access. Samba writeable raw library directory: /Data01/cdcollection Samba writeable ingestion directory: /Data02/library-in Process: copy albums from /Data01/cdcollection to /Data02/library-in Batch process, with clean-up, to /Data02/library NFS access to /Data02/library for station batch upload NFS access to /Data02/radio for station media /srv/libretime To be backed backed up in sync with station DB: /srv/libretime","title":"Track Ingestion"},{"location":"technicalRadio/#ingestion-notes","text":"Clean-up tool: Beets Process: Use fre:ac for cd to /cdcollection/ ffmpeg -i filename.mpg for metadata view Copy batches of directories from /cdcollection/ to /library-in/ Run beet import . in /library-in/ , and follow interactive process Images and other non-music files cleaned up periodically from /library-in Results: /cdcollection: 17G library: 15G library-fallout: 323M Beet config: directory: /Data02/library/ library: /Data02/librarydb/musiclibrary.db import: move: yes Fallout: 63M ./various artists - the bossa nova exciting jazz samba rhythms vol.1 4.8M ./1982 - beyond the realms of dub_dub me crazy pt.2 48M ./Beasty Boys - Hello Nasty 8.3M ./aphex twin 60M ./blade runner - soundtrack 32M ./caves of kiev 110M ./electronica 323M .","title":"Ingestion notes"},{"location":"technicalRadio/#bulk-track-upload","text":"Add sudo -u libretime libretime-api bulk_import --path PATH_THE_DIRECTORY_TO_SCAN to libretime startup Path: dataserver","title":"Bulk track upload"},{"location":"technicalRadio/#backup-and-restore","text":"","title":"Backup and Restore"},{"location":"technicalRadio/#automation","text":"Create k8s CronJob postgres-backup in radio namespace Use postgres:16.2 image Add nfs export from Dataserver for /Data02/backups for k8s backup-storage volume Run pg_dump, store to nfs backup-storage volume mounted on /mnt Run once daily at midnight schedule: \"0 0 * * *\"","title":"Automation"},{"location":"technicalRadio/#station-database","text":"[X] Reference: https://libretime.org/docs/admin-manual/backup/ [X] DB front-end Adminer: https://db.muso.club/current/site?pgsql=postgres&username=libretime&db=libretime [X] Password: available by base64 decoding radio/postgres-secret.data.POSTGRES_PASSWORD [X] Test export of station db run at 1am on 30th May - libretime.sql.gz - is 14.2MB. [ ] Test export after at least a few day's station run to get a picture of data growth. [ ] Test import into new station [ ] Test import to override current station","title":"Station Database"},{"location":"technicalRadio/#media","text":"[ ] Libretime container NFS datastore: nfs://dataserver/Data02/radio [ ] Station Library","title":"Media"},{"location":"technicalRadio/#technical-architecture","text":"","title":"Technical Architecture"},{"location":"technicalRadio/#integration","text":"--- title: muso.club Integration --- graph LR subgraph Dataserver nfs-service2[(/DATA2/radio/)] end subgraph Norham Cluster subgraph Libretime WebGUI Schedule Users Library Input Broadcast end WebSite end http://console.muso.club --> WebGUI http://radio.muso.club --> WebSite Input --> Broadcast Library --> Dataserver WebGUI --- Library WebGUI --- Schedule WebGUI --- Users Dataserver --> Input client1{{DJ}} -- muso.club:8002 ----> Input client2{{Master}} -- muso.club:8001 ----> Input Library --> Schedule --> Input Broadcast --> WebSite browser1{{Station User}} --> http://console.muso.club browser2{{Listener Widget}} --> http://radio.muso.club","title":"Integration"},{"location":"technicalRadio/#request-routing","text":"--- title: jam.radio.fm Request routing --- graph LR Internet -- *.muso.club --> router router -- 80\\n443 --> dmz router -- 8001\\n8002 --> metallb3 dmz -- 192.168.1.221 --> metallb3 metallb3 --> k8s07 metallb3 --> k8s08 metallb3 --> k8s09 metallb3 --> k8s10 metallb3[[norham]] router[[Router]] dmz{{rudolfensis}} k8s07{{norham01}} k8s08{{norham02}} k8s09{{norham03}} k8s10{{norham04}}","title":"Request routing"},{"location":"technicalRadio/#icecast-config-for-webstreams","text":"The following are available on the local network . The base URL is http://192.168.1.26:8000 , so for the mount example below, the URL is http://192.168.1.26:8000/Artist/Track.mp3 . <mount type=\"normal\"> <mount-name>/Artist/Track.mp3</mount-name> <type>application/mp3</type> <fallback-mount>/Artist/Track.mp3</fallback-mount> </mount> This configuration is applied to the icecast instance on dataserver .","title":"Icecast config for webstreams"},{"location":"technicalRadio/#pov-urls","text":"Wordpress site: https://radio.muso.club Radio Station console: https://console.muso.club Icecast Server console: https://broadcast.muso.club DJ Ingress: muso.club:8001 Master Ingress: muso.club:8002","title":"POV URLS"},{"location":"technicalRadio/#poc-urls","text":"Wordpress site: https://www.radio.thruhere.net Radio Station console: https://console.thruhere.net Icecast Server console: https://radio.thruhere.net DJ Ingress: https://dj.radio.thruhere.net/ Master Ingress: https://master.radio.thruhere.net/","title":"POC URLS"},{"location":"technicalRadio/#applying-ingress-modifications-for-playout-tcp-ports","text":"To support non-HTTP TCP listener ports on the cluster, the cluster ingress-nginx installation is moved from a helm install at cluster build time, to a gitops installation. The following ingress-nginx chart values setting are used: ## ingress-nginx helm chart values to add support for radio ingress controller: configAnnotations: nginx.ingress.kubernetes.io/proxy-body-size: 20m service: ports: djinput: 8001 masterinput: 8002 tcp: 8001: \"radio/liquidsoap:8001\" 8002: \"radio/liquidsoap:8002\" Here, there are two additional listener ports being added to the ingress-nginx controller, and corresponding entries added to a tcp-services configmap, as documented here: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/exposing-tcp-udp-services.md . Using a gitops installation for ingress-nginx also allows the file upload limit to be increased from the default easily, which is required by Libretime as well as WordPress.","title":"Applying Ingress modifications for playout TCP ports"},{"location":"technicalRadio/#podzone-qsolutions-helm-chart","text":"Based on clone of https://github.com/unbelauscht/libretime-helm Source: https://github.com/MoTTTT/libretime-helm Published on: https://artifacthub.io/packages/helm/podzone-charts/libretime Security report: https://artifacthub.io/packages/helm/podzone-charts/libretime?modal=security-report : WARNING: This package has high severity fixable vulnerabilities older than 2 years old that haven't been addressed yet.","title":"PodZone / QSolutions Helm chart"},{"location":"technicalRadio/#nfs-preparation","text":"NFS server: dataserver Allocation to instance, e.g. thruhere on /Data02 NFS Export: Icecast log; /Data02/thruhere/icecast-log NFS Export: Icecast web; /Data02/thruhere/icecast-web NFS Export: Library; /Data02/thruhere/icecast-web NFS Export: Libretime; /Data02/thruhere/icecast-web root@dataserver:/Data02/radio# root@dataserver:/Data02# mkdir /Data02/thruhere root@dataserver:/Data02# mkdir /Data02/thruhere/icecast-log root@dataserver:/Data02# mkdir /Data02/thruhere/icecast-web root@dataserver:/Data02# mkdir /Data02/thruhere/library root@dataserver:/Data02# mkdir /Data02/thruhere/libretime root@dataserver:/Data02# chown -R nobody:nogroup /Data02/thruhere root@dataserver:/Data02# chmod -R og+w /Data02/thruhere root@dataserver:/Data02# ls -alr /Data02/thruhere/ drwxrwxrwx 2 nobody nogroup 4096 Jun 18 12:49 libretime drwxrwxrwx 2 nobody nogroup 4096 Jun 18 12:49 library drwxrwxrwx 2 nobody nogroup 4096 Jun 18 12:49 icecast-web drwxrwxrwx 2 nobody nogroup 4096 Jun 18 12:48 icecast-log drwxr-xr-x 12 root root 4096 Jun 18 12:48 .. drwxrwxrwx 6 nobody nogroup 4096 Jun 18 12:49 .","title":"NFS Preparation"},{"location":"technicalRedmine/","text":"Redmine https://github.com/bitnami/charts/tree/main/bitnami/redmine/ helm install --namespace projects --create-namespace projects-02 bitnami/redmine --values values-projects.yaml POV implemented at: https://central.podzone.net/","title":"Redmine"},{"location":"technicalRedmine/#redmine","text":"https://github.com/bitnami/charts/tree/main/bitnami/redmine/ helm install --namespace projects --create-namespace projects-02 bitnami/redmine --values values-projects.yaml POV implemented at: https://central.podzone.net/","title":"Redmine"},{"location":"technicalSiteStructure/","text":"Podzone Sites Broadcast Wordpress site: https://radio.muso.club Radio Station console: https://console.muso.club Icecast Server console: https://broadcast.muso.club DJ Ingress: Master Ingress: Wordpress instances Torrell Bower: https://www.dialplus44.com Radio site: https://www.radio.thruhere.net UK Today uktoday.blogsite.org Organisation Phycologist Questionnaire front end: https://norma.blog.podzone.org/ Project Management Client: https://charles.blog.podzone.org Graduate Engineer: adam.blog.podzone.org Self-Respecting Geek: motttt.blog.podzone.org Musings A microsite with the writings of various members of the family. Introduction: https://musings.thruhere.net/ Norma's: https://musings.thruhere.net/closeencounters.html Mom's: https://musings.thruhere.net/telling/ Link to Mom's' ebook: http://books.apple.com/us/book/id6445276669 Dad's: https://musings.thruhere.net/CannonBecket004.txt Dad's: https://musings.thruhere.net/AndAllTheSaints.html Dad's: https://musings.thruhere.net/GrandpasMemories.txt MoTTTT's: https://musings.thruhere.net/sunsets.html Podzone Documentation: https://docs.podzone.net/ DB Developer tools: https://dbgui.dev.podzone.net/ Distributed storage Dashboard: https://ceph.northern.podzone.net/ Kubernetes API https://control.podzone.net Project Management: https://central.podzone.net Aliases uktoday.thruhere.net uktoday.podzone.org uktoday.podzone.net uktoday.blog.podzone.org Podzone Generation [ ] Build mkdocs build stage as part of git-sync process Source: git@github.com:MoTTTT/podzone.git Directory generation: mkdocs build Directory: site/ https://docs.podzone.net/ Structure defined in mkdocs.yaml","title":"Podzone Sites"},{"location":"technicalSiteStructure/#podzone-sites","text":"","title":"Podzone Sites"},{"location":"technicalSiteStructure/#broadcast","text":"Wordpress site: https://radio.muso.club Radio Station console: https://console.muso.club Icecast Server console: https://broadcast.muso.club DJ Ingress: Master Ingress:","title":"Broadcast"},{"location":"technicalSiteStructure/#wordpress-instances","text":"Torrell Bower: https://www.dialplus44.com Radio site: https://www.radio.thruhere.net UK Today uktoday.blogsite.org Organisation Phycologist Questionnaire front end: https://norma.blog.podzone.org/ Project Management Client: https://charles.blog.podzone.org Graduate Engineer: adam.blog.podzone.org Self-Respecting Geek: motttt.blog.podzone.org","title":"Wordpress instances"},{"location":"technicalSiteStructure/#musings","text":"A microsite with the writings of various members of the family. Introduction: https://musings.thruhere.net/ Norma's: https://musings.thruhere.net/closeencounters.html Mom's: https://musings.thruhere.net/telling/ Link to Mom's' ebook: http://books.apple.com/us/book/id6445276669 Dad's: https://musings.thruhere.net/CannonBecket004.txt Dad's: https://musings.thruhere.net/AndAllTheSaints.html Dad's: https://musings.thruhere.net/GrandpasMemories.txt MoTTTT's: https://musings.thruhere.net/sunsets.html","title":"Musings"},{"location":"technicalSiteStructure/#podzone","text":"Documentation: https://docs.podzone.net/ DB Developer tools: https://dbgui.dev.podzone.net/ Distributed storage Dashboard: https://ceph.northern.podzone.net/ Kubernetes API https://control.podzone.net Project Management: https://central.podzone.net","title":"Podzone"},{"location":"technicalSiteStructure/#aliases","text":"uktoday.thruhere.net uktoday.podzone.org uktoday.podzone.net uktoday.blog.podzone.org","title":"Aliases"},{"location":"technicalSiteStructure/#podzone-generation","text":"[ ] Build mkdocs build stage as part of git-sync process Source: git@github.com:MoTTTT/podzone.git Directory generation: mkdocs build Directory: site/ https://docs.podzone.net/ Structure defined in mkdocs.yaml","title":"Podzone Generation"},{"location":"technicalSolution/","text":"Solution Component endpoints ceph kubeapps Customer facing Static Site: https://musings.thruhere.net/ Static Site: https://docs.podzone.net/ Wordpress: Minecraft: Mail: Cloud services https://www.linkedin.com/in/martincolley/ https://github.com/MoTTTT https://cloudsmith.io/~q-solutions","title":"Solution"},{"location":"technicalSolution/#solution","text":"","title":"Solution"},{"location":"technicalSolution/#component-endpoints","text":"ceph kubeapps","title":"Component endpoints"},{"location":"technicalSolution/#customer-facing","text":"Static Site: https://musings.thruhere.net/ Static Site: https://docs.podzone.net/ Wordpress: Minecraft: Mail:","title":"Customer facing"},{"location":"technicalSolution/#cloud-services","text":"https://www.linkedin.com/in/martincolley/ https://github.com/MoTTTT https://cloudsmith.io/~q-solutions","title":"Cloud services"},{"location":"technicalSound/","text":"Sound Engineering References https://apple.stackexchange.com/questions/203004/nice-audio-mixer-repeater/203009#203009 https://apple.stackexchange.com/questions/221980/os-x-route-audio-output-to-audio-input https://eqmac2.en.softonic.com/mac https://wiretap.en.softonic.com/mac https://audio-recorder.en.softonic.com/mac","title":"Sound Engineering"},{"location":"technicalSound/#sound-engineering","text":"","title":"Sound Engineering"},{"location":"technicalSound/#references","text":"https://apple.stackexchange.com/questions/203004/nice-audio-mixer-repeater/203009#203009 https://apple.stackexchange.com/questions/221980/os-x-route-audio-output-to-audio-input https://eqmac2.en.softonic.com/mac https://wiretap.en.softonic.com/mac https://audio-recorder.en.softonic.com/mac","title":"References"},{"location":"technicalSouthernZone/","text":"Overflow and historical information on original zone --- title: southern.podzone.net Network Topology, Original --- graph LR ISP --- ont ont --- router router --- switch2 router ---switch3 router --- ap1 router --- other2 router --- workstation ap1 --- other1 ap1 --- other2 switch2 --- other1 switch3 --- switch1 switch3 --- other1 switch1 <-->|1GB| k8s1 switch1 <-->|1GB| k8s2 switch1 <-->|1GB| k8s3 switch1 <-->|1GB| k8s4 ont[[Daisan H665 GPON ONT]] router[[TP-LINK EC120-F5 Router]] switch1[[D-Link DGS-1005D]] switch2[[TP-Link TL-SG1005D]] switch3[[TP-Link TL-SG1008D]] ap1[[TP-Link TL-WR845N]] other1(ethernet devices) other2(wifi devices) k8s1{{levant}} k8s2{{james}} k8s3{{bukit}} k8s4{{sigiriya}} workstation(dolmen) Development Environment Three personal machines and workstations were re-purposed to create a dev environment. Upgrades to disk and ram were done where possible. It would have been great to get RAM on all devices up to 16GB, or more, but unfortunately only one device accommodated upgrade, and that to only 16GB. sigiriya Late 2014 Mac Mini 2.80GHz i5-4308U (2 core, 4 thread) 8GB RAM (soldered) Ubuntu Server 22.04 (upgrade from macOS) 2TB SSD (upgrade from 500GB) eth0 IP: 192.168.0.6 bukit Late 2014 Mac Mini 1.4 GHz Dual Core i5 4 GB RAM (soldered) Ubuntu 22.04 desktop (existing installation) 500GB SSD eth0 IP: 192.168.0.52 admin user: martin james Motherboard: ASRock H61M-VS3 3 GHz Quad Core i5 16GB (upgrade from 8 GB) RAM Ubuntu 22.04 desktop (existing installation) 500 GB SSD eth0 IP: 192.168.0.27","title":"Overflow and historical information on original zone"},{"location":"technicalSouthernZone/#overflow-and-historical-information-on-original-zone","text":"--- title: southern.podzone.net Network Topology, Original --- graph LR ISP --- ont ont --- router router --- switch2 router ---switch3 router --- ap1 router --- other2 router --- workstation ap1 --- other1 ap1 --- other2 switch2 --- other1 switch3 --- switch1 switch3 --- other1 switch1 <-->|1GB| k8s1 switch1 <-->|1GB| k8s2 switch1 <-->|1GB| k8s3 switch1 <-->|1GB| k8s4 ont[[Daisan H665 GPON ONT]] router[[TP-LINK EC120-F5 Router]] switch1[[D-Link DGS-1005D]] switch2[[TP-Link TL-SG1005D]] switch3[[TP-Link TL-SG1008D]] ap1[[TP-Link TL-WR845N]] other1(ethernet devices) other2(wifi devices) k8s1{{levant}} k8s2{{james}} k8s3{{bukit}} k8s4{{sigiriya}} workstation(dolmen)","title":"Overflow and historical information on original zone"},{"location":"technicalSouthernZone/#development-environment","text":"Three personal machines and workstations were re-purposed to create a dev environment. Upgrades to disk and ram were done where possible. It would have been great to get RAM on all devices up to 16GB, or more, but unfortunately only one device accommodated upgrade, and that to only 16GB.","title":"Development Environment"},{"location":"technicalSouthernZone/#sigiriya","text":"Late 2014 Mac Mini 2.80GHz i5-4308U (2 core, 4 thread) 8GB RAM (soldered) Ubuntu Server 22.04 (upgrade from macOS) 2TB SSD (upgrade from 500GB) eth0 IP: 192.168.0.6","title":"sigiriya"},{"location":"technicalSouthernZone/#bukit","text":"Late 2014 Mac Mini 1.4 GHz Dual Core i5 4 GB RAM (soldered) Ubuntu 22.04 desktop (existing installation) 500GB SSD eth0 IP: 192.168.0.52 admin user: martin","title":"bukit"},{"location":"technicalSouthernZone/#james","text":"Motherboard: ASRock H61M-VS3 3 GHz Quad Core i5 16GB (upgrade from 8 GB) RAM Ubuntu 22.04 desktop (existing installation) 500 GB SSD eth0 IP: 192.168.0.27","title":"james"},{"location":"technicalStaticSite/","text":"Helm Charts Kubernetes object specifications can be applied to the cluster manually using kubectl . However, as these objects increase in number, an abstraction above that of Kubernetes objects is useful, if not necessary. This is where helm plays a role, allowing sets of objects to be managed collectively, and provides a mechanism to externalise key aspects of configuration. This is achieved with a templating language, leaving the key configuration items isolated and aggregated. This in turn, together with a configuration value overriding facility, allows for the same package to be re-used with only the key configuration items requiring further management. static-site The kubernetes objects required for a static site have been refactored into a dedicated github repo: https://github.com/MoTTTT/static-site.git The helm chart has been published on Cloudsmith . It is available here: https://cloudsmith.io/~q-solutions/repos/static-site/packages/ . If anyone else has a similar requirement or use-case, then it would save a bit of work. I hope so, and welcome feedback. Helm Chart description Hardened Apache Web Server with git-sync, and LetsEncrypt certificate The Helm Chart contains the following resources: clusterissuer.yaml: This sets up a config for the certificate requests. Set the issuer definition in values.yaml certificate.yaml: This sets up a certificate for the site. Set the certificate definition in values.yaml configmap.yaml: This loads a minimal httpd.conf file, with security hardening appropriate for a static site deployment.yaml: This spins up Apache, with a git-sync-sidecar, and uses the httpd.conf configmap service.yaml: This is a cluster internal endpoint that load balances requests to the pods in the deployment. ingress.yaml: This sets up an external endpoint, and routes requests to the Service. Set the ingres definition in values.yaml serviceaccount.yaml: Service Account for the deployment Prerequisites L2 load balancer (I am using metallb). The IP address specified needs to be noted for port forwarding Ingress (I am using https://kubernetes.github.io/ingress-nginx ) Certificate Manager (I use the microk8s add-on package microk8s enable cert-manager ) WAN port forwarding to the metallb IP address is required for certificates to be issued. Publishing and use of the helm chart The helm chart is packaged using helm, and kindly hosted on Cloudsmith. To package the helm chart: helm package ./static-site To upload to CloudSmith: cloudsmith push helm q-solutions/static-site static-site-0.1.X.tgz The package is now available as: https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/ . The default chart deploys the https://musings.thruhere.net site, and is deployed as release musings-01 as follows: helm install musings-01 --debug --namespace musings --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' Using a values file overriding details like dns name, and source git repo, the second static site is deployed as release podzone-01 : helm install podzone-01 --debug --namespace podzone --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' --values valuespodzone.yaml The valuespodzone.yaml file looks like this: # Override defaults from qapps for podzone site. # Values for podzone certificate: name: podzone-cert dnsName: docs.podzone.net gitsyncimage: args: - --repo=https://github.com/MoTTTT/podzone.git - --depth=1 - --period=240s - --max-failures=10 - --link=current - --root=/git-apache - --verbose=9 ingress: className: \"nginx\" hosts: - host: docs.podzone.net paths: - path: / pathType: ImplementationSpecific tls: - secretName: podzone-cert hosts: - docs.podzone.net test: url: \"https://docs.podzone.net/index.html\" Apache Hardening The Apache server is a very capable and feature complete web server, serving or fronting over 10% of web and application resource installations. The default Apache configuration accommodates a broad set of web server use-cases, providing web server administrators considerable flexibility, and also the responsibility of first line defence. During initial testing, it was evident from request logs that some viewers were hostile. This was evident from the .git directory interest, and the expressed hope that a vulnerable wordpress site had been found. The default configuration therefore represents an unnecessarily large attack surface. The specific requirements for the applications is narrow in scope. There is no need for directory listings. Nor are there any legitimate POST requests. This would be the case for most static sites, especially considering the typical microservice architecture, where api deployments can be distinct from the front-end functionality. One of the reasons to share the final configuration is the possibility of improvement through feedback. Approach Extract default httpd.conf Disable unused modules Set minimum privileges on document root - no directory listings. Disable POST requests Apply best-practice hardening configurations (more about this can be found in references). The final configuration file is as follows: # httpd.conf for static-site # Modules critical for simple static site use-case LoadModule mpm_event_module modules/mod_mpm_event.so LoadModule access_compat_module modules/mod_access_compat.so LoadModule reqtimeout_module modules/mod_reqtimeout.so LoadModule mime_module modules/mod_mime.so LoadModule log_config_module modules/mod_log_config.so LoadModule headers_module modules/mod_headers.so LoadModule unixd_module modules/mod_unixd.so LoadModule dir_module modules/mod_dir.so LoadModule authz_core_module modules/mod_authz_core.so # Generic settings for qapps apache server component ServerRoot \"/usr/local/apache2\" Listen 80 ServerAdmin martinjcolley@gmail.com <IfModule unixd_module> User www-data Group www-data </IfModule> # Document root set up to accommodate \"current/site\" content root provided by volume mapped git-sync directory # Only request types required for static site access are allowed # Indexes not generated where index.html file does not exist DocumentRoot \"/usr/local/apache2/htdocs/current/site\" <Directory \"/usr/local/apache2/htdocs/current/site\"> Options -Indexes -Includes +FollowSymLinks AllowOverride None Require all granted <LimitExcept GET HEAD> deny from all </LimitExcept> </Directory> # Hardening: # Prevent server detail leakages # Set headers for best practice security # Enable request time-out to prevent slow request denial of service ServerTokens Prod ServerSignature Off FileETag None TraceEnable off Header edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure Header always append X-Frame-Options SAMEORIGIN Header set X-XSS-Protection \"1; mode=block\" Timeout 60 <IfModule dir_module> DirectoryIndex index.html </IfModule> <Files \".ht*\"> Require all denied </Files> <Directory /> AllowOverride none Require all denied </Directory> <IfModule headers_module> RequestHeader unset Proxy early </IfModule> # Logging configuration ErrorLog /proc/self/fd/2 LogLevel warn <IfModule log_config_module> LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common <IfModule logio_module> LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" %I %O\" combinedio </IfModule> CustomLog /proc/self/fd/1 common </IfModule> # Support for compression <IfModule mime_module> TypesConfig conf/mime.types AddType application/x-compress .Z AddType application/x-gzip .gz .tgz </IfModule> To_Do The static-site V0.1.1 solution has a broader dependency: updating of Name Server entries for the site domains. Currently the installation has the support of a DynDns updater running on an unrelated host on the network. Adding an operator to handle this on the cluster, one for each site is required.","title":"Helm Charts"},{"location":"technicalStaticSite/#helm-charts","text":"Kubernetes object specifications can be applied to the cluster manually using kubectl . However, as these objects increase in number, an abstraction above that of Kubernetes objects is useful, if not necessary. This is where helm plays a role, allowing sets of objects to be managed collectively, and provides a mechanism to externalise key aspects of configuration. This is achieved with a templating language, leaving the key configuration items isolated and aggregated. This in turn, together with a configuration value overriding facility, allows for the same package to be re-used with only the key configuration items requiring further management.","title":"Helm Charts"},{"location":"technicalStaticSite/#static-site","text":"The kubernetes objects required for a static site have been refactored into a dedicated github repo: https://github.com/MoTTTT/static-site.git The helm chart has been published on Cloudsmith . It is available here: https://cloudsmith.io/~q-solutions/repos/static-site/packages/ . If anyone else has a similar requirement or use-case, then it would save a bit of work. I hope so, and welcome feedback.","title":"static-site"},{"location":"technicalStaticSite/#helm-chart-description","text":"","title":"Helm Chart description"},{"location":"technicalStaticSite/#hardened-apache-web-server-with-git-sync-and-letsencrypt-certificate","text":"The Helm Chart contains the following resources: clusterissuer.yaml: This sets up a config for the certificate requests. Set the issuer definition in values.yaml certificate.yaml: This sets up a certificate for the site. Set the certificate definition in values.yaml configmap.yaml: This loads a minimal httpd.conf file, with security hardening appropriate for a static site deployment.yaml: This spins up Apache, with a git-sync-sidecar, and uses the httpd.conf configmap service.yaml: This is a cluster internal endpoint that load balances requests to the pods in the deployment. ingress.yaml: This sets up an external endpoint, and routes requests to the Service. Set the ingres definition in values.yaml serviceaccount.yaml: Service Account for the deployment","title":"Hardened Apache Web Server with git-sync, and LetsEncrypt certificate"},{"location":"technicalStaticSite/#prerequisites","text":"L2 load balancer (I am using metallb). The IP address specified needs to be noted for port forwarding Ingress (I am using https://kubernetes.github.io/ingress-nginx ) Certificate Manager (I use the microk8s add-on package microk8s enable cert-manager ) WAN port forwarding to the metallb IP address is required for certificates to be issued.","title":"Prerequisites"},{"location":"technicalStaticSite/#publishing-and-use-of-the-helm-chart","text":"The helm chart is packaged using helm, and kindly hosted on Cloudsmith. To package the helm chart: helm package ./static-site To upload to CloudSmith: cloudsmith push helm q-solutions/static-site static-site-0.1.X.tgz The package is now available as: https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/ . The default chart deploys the https://musings.thruhere.net site, and is deployed as release musings-01 as follows: helm install musings-01 --debug --namespace musings --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' Using a values file overriding details like dns name, and source git repo, the second static site is deployed as release podzone-01 : helm install podzone-01 --debug --namespace podzone --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' --values valuespodzone.yaml The valuespodzone.yaml file looks like this: # Override defaults from qapps for podzone site. # Values for podzone certificate: name: podzone-cert dnsName: docs.podzone.net gitsyncimage: args: - --repo=https://github.com/MoTTTT/podzone.git - --depth=1 - --period=240s - --max-failures=10 - --link=current - --root=/git-apache - --verbose=9 ingress: className: \"nginx\" hosts: - host: docs.podzone.net paths: - path: / pathType: ImplementationSpecific tls: - secretName: podzone-cert hosts: - docs.podzone.net test: url: \"https://docs.podzone.net/index.html\"","title":"Publishing and use of the helm chart"},{"location":"technicalStaticSite/#apache-hardening","text":"The Apache server is a very capable and feature complete web server, serving or fronting over 10% of web and application resource installations. The default Apache configuration accommodates a broad set of web server use-cases, providing web server administrators considerable flexibility, and also the responsibility of first line defence. During initial testing, it was evident from request logs that some viewers were hostile. This was evident from the .git directory interest, and the expressed hope that a vulnerable wordpress site had been found. The default configuration therefore represents an unnecessarily large attack surface. The specific requirements for the applications is narrow in scope. There is no need for directory listings. Nor are there any legitimate POST requests. This would be the case for most static sites, especially considering the typical microservice architecture, where api deployments can be distinct from the front-end functionality. One of the reasons to share the final configuration is the possibility of improvement through feedback.","title":"Apache Hardening"},{"location":"technicalStaticSite/#approach","text":"Extract default httpd.conf Disable unused modules Set minimum privileges on document root - no directory listings. Disable POST requests Apply best-practice hardening configurations (more about this can be found in references). The final configuration file is as follows: # httpd.conf for static-site # Modules critical for simple static site use-case LoadModule mpm_event_module modules/mod_mpm_event.so LoadModule access_compat_module modules/mod_access_compat.so LoadModule reqtimeout_module modules/mod_reqtimeout.so LoadModule mime_module modules/mod_mime.so LoadModule log_config_module modules/mod_log_config.so LoadModule headers_module modules/mod_headers.so LoadModule unixd_module modules/mod_unixd.so LoadModule dir_module modules/mod_dir.so LoadModule authz_core_module modules/mod_authz_core.so # Generic settings for qapps apache server component ServerRoot \"/usr/local/apache2\" Listen 80 ServerAdmin martinjcolley@gmail.com <IfModule unixd_module> User www-data Group www-data </IfModule> # Document root set up to accommodate \"current/site\" content root provided by volume mapped git-sync directory # Only request types required for static site access are allowed # Indexes not generated where index.html file does not exist DocumentRoot \"/usr/local/apache2/htdocs/current/site\" <Directory \"/usr/local/apache2/htdocs/current/site\"> Options -Indexes -Includes +FollowSymLinks AllowOverride None Require all granted <LimitExcept GET HEAD> deny from all </LimitExcept> </Directory> # Hardening: # Prevent server detail leakages # Set headers for best practice security # Enable request time-out to prevent slow request denial of service ServerTokens Prod ServerSignature Off FileETag None TraceEnable off Header edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure Header always append X-Frame-Options SAMEORIGIN Header set X-XSS-Protection \"1; mode=block\" Timeout 60 <IfModule dir_module> DirectoryIndex index.html </IfModule> <Files \".ht*\"> Require all denied </Files> <Directory /> AllowOverride none Require all denied </Directory> <IfModule headers_module> RequestHeader unset Proxy early </IfModule> # Logging configuration ErrorLog /proc/self/fd/2 LogLevel warn <IfModule log_config_module> LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common <IfModule logio_module> LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" %I %O\" combinedio </IfModule> CustomLog /proc/self/fd/1 common </IfModule> # Support for compression <IfModule mime_module> TypesConfig conf/mime.types AddType application/x-compress .Z AddType application/x-gzip .gz .tgz </IfModule>","title":"Approach"},{"location":"technicalStaticSite/#to_do","text":"The static-site V0.1.1 solution has a broader dependency: updating of Name Server entries for the site domains. Currently the installation has the support of a DynDns updater running on an unrelated host on the network. Adding an operator to handle this on the cluster, one for each site is required.","title":"To_Do"},{"location":"technicalTasklist1/","text":"Task List: southern.podzone.net The following checklist provides a high-level breakdown of the work that needs to be done. Each of these are further decomposed below, where required: [X] Documentation [X] k8s dev cluster build [X] k8s prod cluster build [X] Networking build [X] Ingress Build [ ] Security [X] Storage [ ] Applications and Services [ ] Testing Task-list: Documentation [X] Business brief [X] Consumer Cloud definition [X] Workload Success criteria [X] MVP deliverables [X] Network topology [X] Inventory [ ] Update documentation with production cluster details [X] Curate reference lists [ ] Site structure Task-list: k8s dev cluster build [X] james (upgrade RAM) [X] sigiriya (upgrade disk) [X] bukit [X] levant Task-list: k8s prod cluster build [X] Procurement: 3 X HP t630 Thinclient [X] Add second drive: 128 GB M.2 max 2242 modules [X] Host build: habilis [X] Host build: antecessor [X] Host build: naledi [ ] RAM upgrade: 8BG -> 16 GB [ ] Upgrade first drives [ ] Migrate DynDns updater to cluster (external-dns chart) [ ] Ingress load balancer Task-list: Networking build [X] Network design [X] Refactor wired network [X] Router config (port forward, dynamic dns) [X] https certificate for (qsolutions.endoftheinternet.org) [X] Load balancer (MetalLB) [X] DynDns WAN IP updates (ddclient) Task-list: Ingress Build [X] Certificate manager [X] Certificates for 4 X LetsEncrypt host certs [X] Route to Apache static sites [X] Route to k8s dashboard [X] Route to Search GUI : Cancelled [X] Route to k8s API [X] Route to zope [X] Route to podzone docs [ ] DynDns updater operator Task-list: Security [X] TLS certificate solution [X] https for all external access [X] Apache hardening [ ] Kubernetes hardening [ ] Purge sensitive info from DB Task-list: Storage [X] Consolidate data from media [X] Consolidate assets into iCloud [X] Extract source into GitHub [X] Persistent storage for k8s cluster Task Breakdown: Consolidate data from media [X] /home/${USER} directories on bare metal X 3 [X] /media on james [X] thumb drives X 12 [X] external hard drives X 1 [X] 2.5\" replaced hard drives X 3 - Install in james [X] 3.5\" replaced hard drives X 2 - Install in external enclosures Requirement: Consolidate data from media All information of interest on all media to go into iCloud All projects, including legacy and completed ones, into GitHub Sensitive data audit, and secure wipe where required Visible logical status labelling Task Breakdown: Extract source into GitHub [X] Book: Telling; BA Colley [X] Book: Cannon Becket; AH Colley [X] Book: All the Saints; AH Colley [X] Code: uNode assets [X] Code: BHC assets [X] Code: Archive/Backup search Task-list: Applications and Services [X] Consolidate Web sites [ ] Extract Zope zexp files and check in [ ] Containerise Zope, including application code and config Task Breakdown: Containerise Zope, including application code and config [X] Plone Service and Deployment [X] Plone ingress for qsolutions.endoftheinternet.org [X] Ingress rewrite rules for Zope Virtual Host Monster [ ] Plone ZPsycopgDA installation (containerInit?) [ ] Persistent storage volume for postgres [ ] Postgress Service and Deployment [ ] Postgress ingress Testing [ ] Cluster High Availability testing [ ] Cluster failure recovery [ ] Web functional test [ ] Application functional test","title":"Task List: southern.podzone.net"},{"location":"technicalTasklist1/#task-list-southernpodzonenet","text":"The following checklist provides a high-level breakdown of the work that needs to be done. Each of these are further decomposed below, where required: [X] Documentation [X] k8s dev cluster build [X] k8s prod cluster build [X] Networking build [X] Ingress Build [ ] Security [X] Storage [ ] Applications and Services [ ] Testing","title":"Task List: southern.podzone.net"},{"location":"technicalTasklist1/#task-list-documentation","text":"[X] Business brief [X] Consumer Cloud definition [X] Workload Success criteria [X] MVP deliverables [X] Network topology [X] Inventory [ ] Update documentation with production cluster details [X] Curate reference lists [ ] Site structure","title":"Task-list: Documentation"},{"location":"technicalTasklist1/#task-list-k8s-dev-cluster-build","text":"[X] james (upgrade RAM) [X] sigiriya (upgrade disk) [X] bukit [X] levant","title":"Task-list: k8s dev cluster build"},{"location":"technicalTasklist1/#task-list-k8s-prod-cluster-build","text":"[X] Procurement: 3 X HP t630 Thinclient [X] Add second drive: 128 GB M.2 max 2242 modules [X] Host build: habilis [X] Host build: antecessor [X] Host build: naledi [ ] RAM upgrade: 8BG -> 16 GB [ ] Upgrade first drives [ ] Migrate DynDns updater to cluster (external-dns chart) [ ] Ingress load balancer","title":"Task-list: k8s prod cluster build"},{"location":"technicalTasklist1/#task-list-networking-build","text":"[X] Network design [X] Refactor wired network [X] Router config (port forward, dynamic dns) [X] https certificate for (qsolutions.endoftheinternet.org) [X] Load balancer (MetalLB) [X] DynDns WAN IP updates (ddclient)","title":"Task-list: Networking build"},{"location":"technicalTasklist1/#task-list-ingress-build","text":"[X] Certificate manager [X] Certificates for 4 X LetsEncrypt host certs [X] Route to Apache static sites [X] Route to k8s dashboard [X] Route to Search GUI : Cancelled [X] Route to k8s API [X] Route to zope [X] Route to podzone docs [ ] DynDns updater operator","title":"Task-list: Ingress Build"},{"location":"technicalTasklist1/#task-list-security","text":"[X] TLS certificate solution [X] https for all external access [X] Apache hardening [ ] Kubernetes hardening [ ] Purge sensitive info from DB","title":"Task-list: Security"},{"location":"technicalTasklist1/#task-list-storage","text":"[X] Consolidate data from media [X] Consolidate assets into iCloud [X] Extract source into GitHub [X] Persistent storage for k8s cluster","title":"Task-list: Storage"},{"location":"technicalTasklist1/#task-breakdown-consolidate-data-from-media","text":"[X] /home/${USER} directories on bare metal X 3 [X] /media on james [X] thumb drives X 12 [X] external hard drives X 1 [X] 2.5\" replaced hard drives X 3 - Install in james [X] 3.5\" replaced hard drives X 2 - Install in external enclosures","title":"Task Breakdown: Consolidate data from media"},{"location":"technicalTasklist1/#requirement-consolidate-data-from-media","text":"All information of interest on all media to go into iCloud All projects, including legacy and completed ones, into GitHub Sensitive data audit, and secure wipe where required Visible logical status labelling","title":"Requirement: Consolidate data from media"},{"location":"technicalTasklist1/#task-breakdown-extract-source-into-github","text":"[X] Book: Telling; BA Colley [X] Book: Cannon Becket; AH Colley [X] Book: All the Saints; AH Colley [X] Code: uNode assets [X] Code: BHC assets [X] Code: Archive/Backup search","title":"Task Breakdown: Extract source into GitHub"},{"location":"technicalTasklist1/#task-list-applications-and-services","text":"[X] Consolidate Web sites [ ] Extract Zope zexp files and check in [ ] Containerise Zope, including application code and config","title":"Task-list: Applications and Services"},{"location":"technicalTasklist1/#task-breakdown-containerise-zope-including-application-code-and-config","text":"[X] Plone Service and Deployment [X] Plone ingress for qsolutions.endoftheinternet.org [X] Ingress rewrite rules for Zope Virtual Host Monster [ ] Plone ZPsycopgDA installation (containerInit?) [ ] Persistent storage volume for postgres [ ] Postgress Service and Deployment [ ] Postgress ingress","title":"Task Breakdown: Containerise Zope, including application code and config"},{"location":"technicalTasklist1/#testing","text":"[ ] Cluster High Availability testing [ ] Cluster failure recovery [ ] Web functional test [ ] Application functional test","title":"Testing"},{"location":"technicalTasklist2/","text":"Task List: northern.podzone.net The following checklist provides a high-level breakdown of the work that needs to be done. Each of these are further decomposed below, where required: [ ] Documentation [ ] k8s prod cluster build [ ] Networking build [ ] Ingress Build [ ] Security [ ] Storage [ ] Applications and Services [ ] Testing Task-list: Documentation [ ] Tasklist [ ] Hosts [ ] Network topology [ ] Inventory [ ] Site structure Task-list: k8s prod cluster build [X] Install power, network, and first two nodes [ ] Install ddclient and configure [X] Total clean-up: snap remove microk8s [X] Install microk8s, cluster nodes, and configure [ ] DynDNS and Router config for test domain Task-list: Networking build [X] Ethernet cabling from router to switch [X] Switch install and cabling to nodes [X] Router config: Static IP assignments [X] Client config: update hosts file [ ] Router config: Port forward [X] Router config: Set DHCP range to reserve LBR IP Storage Node IP addresses have changed. This is not supported by Ceph. Ceph cluster to be re-built from scratch. [X] Total clean-up: snap remove microceph [X] reinstall ceph on each node [X] cluster ceph nodes [X] disk assignment Testing [ ] t360 unit: Geekbench [ ] Cluster High Availability testing [ ] Cluster failure recovery [ ] Web functional test [ ] Application functional test Procurement Three node cluster [X] EBay 20-11075-47632: 1 X t630 {dariaiddle 2} [X] EBay 11-11081-94689: 3 X 128GB 2280 SSD [X] EBay 23-11073-38931: 3 X 256GB 2242 SSD [X] EBay 23-11073-47935: 3 X 16GB DDR4 RAM [X] EBay 15-11092-59277: 1 X t630 {dariaiddle 3} [X] EBay 10-11096-24713: 1 X t520 {chillitech_ltd} Five node cluster [X] EBay 05-11112-51382: 5 X t630 {dariaiddle} [X] EBay 11-11107-65868: 5 X 16GB DDR4 RAM [ ] EBay 23-11098-89931: 1 X 256GB 2242 SSD [X] EBay 12-11141-17449: 5 X Cat6 0.5m ethernet cables [X] EBay 12-11141-17448: 5 X 128GB 2280 SSD [ ] EBay 12-11141-17446: 4 X 256GB 2242 SSD [X] Amazon 206-2426422-7388328: 8 Port Gigabit switch [X] The range: 6 way Power strip Data server [X] EBay 12-11141-17445: 1 X 2 TB 2280 SSD [ ] EBay 12-11141-17447: NVMe + SATA adapter","title":"Task List: northern.podzone.net"},{"location":"technicalTasklist2/#task-list-northernpodzonenet","text":"The following checklist provides a high-level breakdown of the work that needs to be done. Each of these are further decomposed below, where required: [ ] Documentation [ ] k8s prod cluster build [ ] Networking build [ ] Ingress Build [ ] Security [ ] Storage [ ] Applications and Services [ ] Testing","title":"Task List: northern.podzone.net"},{"location":"technicalTasklist2/#task-list-documentation","text":"[ ] Tasklist [ ] Hosts [ ] Network topology [ ] Inventory [ ] Site structure","title":"Task-list: Documentation"},{"location":"technicalTasklist2/#task-list-k8s-prod-cluster-build","text":"[X] Install power, network, and first two nodes [ ] Install ddclient and configure [X] Total clean-up: snap remove microk8s [X] Install microk8s, cluster nodes, and configure [ ] DynDNS and Router config for test domain","title":"Task-list: k8s prod cluster build"},{"location":"technicalTasklist2/#task-list-networking-build","text":"[X] Ethernet cabling from router to switch [X] Switch install and cabling to nodes [X] Router config: Static IP assignments [X] Client config: update hosts file [ ] Router config: Port forward [X] Router config: Set DHCP range to reserve LBR IP","title":"Task-list: Networking build"},{"location":"technicalTasklist2/#storage","text":"Node IP addresses have changed. This is not supported by Ceph. Ceph cluster to be re-built from scratch. [X] Total clean-up: snap remove microceph [X] reinstall ceph on each node [X] cluster ceph nodes [X] disk assignment","title":"Storage"},{"location":"technicalTasklist2/#testing","text":"[ ] t360 unit: Geekbench [ ] Cluster High Availability testing [ ] Cluster failure recovery [ ] Web functional test [ ] Application functional test","title":"Testing"},{"location":"technicalTasklist2/#procurement","text":"","title":"Procurement"},{"location":"technicalTasklist2/#three-node-cluster","text":"[X] EBay 20-11075-47632: 1 X t630 {dariaiddle 2} [X] EBay 11-11081-94689: 3 X 128GB 2280 SSD [X] EBay 23-11073-38931: 3 X 256GB 2242 SSD [X] EBay 23-11073-47935: 3 X 16GB DDR4 RAM [X] EBay 15-11092-59277: 1 X t630 {dariaiddle 3} [X] EBay 10-11096-24713: 1 X t520 {chillitech_ltd}","title":"Three node cluster"},{"location":"technicalTasklist2/#five-node-cluster","text":"[X] EBay 05-11112-51382: 5 X t630 {dariaiddle} [X] EBay 11-11107-65868: 5 X 16GB DDR4 RAM [ ] EBay 23-11098-89931: 1 X 256GB 2242 SSD [X] EBay 12-11141-17449: 5 X Cat6 0.5m ethernet cables [X] EBay 12-11141-17448: 5 X 128GB 2280 SSD [ ] EBay 12-11141-17446: 4 X 256GB 2242 SSD [X] Amazon 206-2426422-7388328: 8 Port Gigabit switch [X] The range: 6 way Power strip","title":"Five node cluster"},{"location":"technicalTasklist2/#data-server","text":"[X] EBay 12-11141-17445: 1 X 2 TB 2280 SSD [ ] EBay 12-11141-17447: NVMe + SATA adapter","title":"Data server"},{"location":"technicalTools/","text":"Tools Technology Strategy Leverage Ubuntu experience Initial build is manual, dev and subsequent releases are declarative Increasing abstraction for infrastructure and application pipelines Substrate Technology Selection Kubernetes: Microk8s snap Ceph: MicroCeph snap Prometheus: snap Administration technologies selected Essential Installation on Mac Recommend brew Depends on x-code, so install with: xcode-select --install Install brew: /bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)\" Terminal browser: midnight commander ( mc ) installation: brew install mc Kubernetes admin: kubectl installation: brew install kubernetes-cli Kubernetes Terminal User Interface k9s installation: brew install k9s Kubernetes GUI User Interface octant installation: brew install octant Kubernetes Application release management helm installation: brew install helm Application and advanced Virtual Machine provisioning: Vagrant VM Configuration and microk8s cluster build: ansible Distributed Networking admin: calicoctl Database dashboard: adminer json processor: jq Cloudsmith CLI (helm repository management) Wireguard Platform technologies Monitoring: Prometheus Backup: Longhorn (to be evaluated) SSO: Dex (to be evaluated) References Tool installations https://www.redswitches.com/blog/install-homebrew-on-mac/ https://formulae.brew.sh/formula/kubernetes-cli Vagrant https://app.vagrantup.com/boxes/search https://blog.verbat.com/ansible-vs-vagrant-how-they-compare-and-which-one-should-you-use/ https://developer.hashicorp.com/vagrant/docs/cli/box https://developer.hashicorp.com/vagrant/docs/multi-machine https://developer.hashicorp.com/vagrant/docs/networking/private_network https://developer.hashicorp.com/vagrant/docs/networking/public_network https://developer.hashicorp.com/vagrant/docs/networking https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/boxes https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/common-issues https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/configuration https://developer.hashicorp.com/vagrant/docs/providers https://developer.hashicorp.com/vagrant/docs/provisioning/file https://developer.hashicorp.com/vagrant/docs/vagrantfile/machine_settings#config-vm-base_mac https://developer.hashicorp.com/vagrant/docs/vagrantfile/machine_settings https://developer.hashicorp.com/vagrant/docs/vagrantfile/ssh_settings https://developer.hashicorp.com/vagrant/docs/vagrantfile/tips https://developer.hashicorp.com/vagrant/intro https://developer.hashicorp.com/vagrant/tutorials/getting-started/getting-started-index https://developer.hashicorp.com/vagrant/tutorials/getting-started/getting-started-up https://discuss.hashicorp.com/t/vagrant-multiple-vms-with-unique-ip-address-on-public-network-using-dhcp/36374 https://luppeng.wordpress.com/2020/03/29/vagrant-up-with-the-lxc-provider/ https://www.vagrantup.com/ https://github.com/Fred78290/vagrant-multipass Ansible https://docs.ansible.com/ansible/2.9_ja/modules/snap_module.html https://docs.ansible.com/ansible/latest/collections_guide/collections_using_playbooks.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/copy_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/expect_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/index.html#plugins-in-ansible-builtin https://docs.ansible.com/ansible/latest/collections/ansible/builtin/known_hosts_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/pause_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/template_module.html#ansible-collections-ansible-builtin-template-module https://docs.ansible.com/ansible/latest/collections/community/general/snap_module.html https://docs.ansible.com/ansible/latest/getting_started/basic_concepts.html https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html#control-node-requirements https://docs.ansible.com/ansible/latest/inventory_guide/connection_details.html https://docs.ansible.com/ansible/latest/inventory_guide/intro_inventory.html https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_intro.html https://docs.ansible.com/ansible/latest/tips_tricks/ansible_tips_tricks.html https://docs.ansible.com/ansible/latest/tips_tricks/sample_setup.html#sample-directory-layout https://docs.ansible.com/ansible/latest/vault_guide/vault.html https://opensource.com/article/19/4/ansible-procedures https://opensource.com/article/19/9/ansible-documentation-kids-laptops https://opensource.com/resources/what-ansible https://opensource.com/article/19/3/developing-ansible-modules https://spacelift.io/blog/ansible-shell-module https://www.ansible.com/ https://www.ansible.com/community https://www.ansible.com/overview/how-ansible-works https://www.educba.com/ansible-vs-puppet-vs-chef/ https://www.linkedin.com/pulse/ansible-k8s-raspberry-pi-jens-fuchs/ https://www.theurbanpenguin.com/an-ansible-microk8s-install-of-kubernetes/ https://github.com/ansible/awx-operator https://github.com/ansible/awx/blob/devel/INSTALL.md https://github.com/ansible/awx Cloud DevOps https://backstage.io/docs/overview/what-is-backstage https://artifacthub.io/ https://betterprogramming.pub/observability-with-microk8s-14c1f0ff5183 https://bitnami.com/enterprise https://charmhub.io/topics/canonical-observability-stack https://byte.builders/blog/post/deploy-opensearch-with-opensearch-dashboards-in-gke/ https://computingforgeeks.com/install-prometheus-server-on-debian-ubuntu-linux/?expand_article=1 https://devopscube.com/setup-prometheus-monitoring-on-kubernetes/ https://docs.fluentd.org/container-deployment/kubernetes https://docs.fluentd.org/v/0.12/articles/kubernetes-fluentd https://docs.fluentd.org/v/0.12/articles/monitoring-prometheus https://jenkins-x.io/ https://jenkins-x.io/v3/about/how-it-works/ https://jenkins-x.io/v3/about/overview/ https://jenkins-x.io/v3/about/what/ https://jenkins-x.io/v3/admin/platforms/on-premises/ https://jenkins-x.io/v3/admin/platforms/on-premises/vault/ https://jenkins-x.io/v3/admin/setup/secrets/vault/ https://opensearch.org/blog/exploring-opensearch-2-10/ https://opensearch.org/blog/setup-multinode-cluster-kubernetes/ https://opensearch.org/docs/1.2/security-plugin/configuration/security-admin/ https://opensearch.org/docs/latest/ https://opensearch.org/docs/latest/search-plugins/neural-search/ https://opensearch.org/docs/latest/tuning-your-cluster/availability-and-recovery/remote-store/index/ https://opensearch.org/downloads.html https://medium.com/@mbianchidev/2023-devops-is-terrible-ec88162c86d7 https://medium.com/01001101/enhance-your-docker-image-build-pipeline-with-kaniko-567afb6cf97c https://medium.com/geekculture/create-docker-images-without-docker-daemon-kaniko-847a688155a6 https://medium.com/kubernetes-tutorials/cluster-level-logging-in-kubernetes-with-fluentd-e59aa2b6093a https://prometheus.io/ https://prometheus.io/docs/instrumenting/exporters/ https://prometheus.io/docs/introduction/overview/ https://prometheus.io/docs/prometheus/latest/configuration/configuration/ https://prometheus.io/docs/prometheus/latest/getting_started/ https://virtualizationreview.com/articles/2019/01/30/microk8s-part-2-how-to-monitor-and-manage-kubernetes.aspx https://github.com/opensearch-project/helm-charts/blob/main/charts/opensearch/README.md https://github.com/opensearch-project/helm-charts/blob/main/charts/opensearch/values.yaml https://itnext.io/how-to-expose-your-kubernetes-dashboard-with-cert-manager-422ab1e3bf30 https://k9scli.io/ https://linuxhint.com/install_prometheus_ubuntu/ https://snapcraft.io/prometheus https://vegastack.com/tutorials/how-to-install-prometheus-on-ubuntu-22-04/ https://github.com/kubernetes-sigs/prometheus-adapter https://github.com/prometheus/node_exporter https://github.com/prometheus/prometheus https://codilime.com/blog/day-0-day-1-day-2-the-software-lifecycle-in-the-cloud-age/ https://developer.hashicorp.com/terraform/tutorials/cloud-get-started/cloud-sign-up https://docs.codacy.com/chart/infrastructure/microk8s-quickstart/ https://katalon.com/resources-center/blog/continuous-delivery-vs-continuous-deployment https://octant.dev/ https://octant.dev/octant-reveals-objects-running-in-kubernetes-clusters/ https://signoz.io/docs/install/kubernetes/others/ https://www.datadoghq.com/dg/logs/kubernetes/ https://www.cloudforecast.io/blog/node-exporter-and-kubernetes/ https://www.middlewareinventory.com/blog/kubernetes-sidecar-logging-with-fluentd-to-efk/ https://tekton.dev/ https://www.deepnetwork.com/blog/2020/01/27/ELK-stack-filebeat-k8s-deployment.html https://www.linuxtechi.com/how-to-install-kvm-on-ubuntu-22-04/ https://www.logicmonitor.com/blog/jenkins-vs-jenkins-x https://www.mirantis.com/zeroops/what-is-zeroops/","title":"Tools"},{"location":"technicalTools/#tools","text":"","title":"Tools"},{"location":"technicalTools/#technology-strategy","text":"Leverage Ubuntu experience Initial build is manual, dev and subsequent releases are declarative Increasing abstraction for infrastructure and application pipelines","title":"Technology Strategy"},{"location":"technicalTools/#substrate-technology-selection","text":"Kubernetes: Microk8s snap Ceph: MicroCeph snap Prometheus: snap","title":"Substrate Technology Selection"},{"location":"technicalTools/#administration-technologies-selected","text":"","title":"Administration technologies selected"},{"location":"technicalTools/#essential","text":"","title":"Essential"},{"location":"technicalTools/#installation-on-mac","text":"Recommend brew Depends on x-code, so install with: xcode-select --install Install brew: /bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)\" Terminal browser: midnight commander ( mc ) installation: brew install mc Kubernetes admin: kubectl installation: brew install kubernetes-cli Kubernetes Terminal User Interface k9s installation: brew install k9s Kubernetes GUI User Interface octant installation: brew install octant Kubernetes Application release management helm installation: brew install helm","title":"Installation on Mac"},{"location":"technicalTools/#application-and-advanced","text":"Virtual Machine provisioning: Vagrant VM Configuration and microk8s cluster build: ansible Distributed Networking admin: calicoctl Database dashboard: adminer json processor: jq Cloudsmith CLI (helm repository management) Wireguard","title":"Application and advanced"},{"location":"technicalTools/#platform-technologies","text":"Monitoring: Prometheus Backup: Longhorn (to be evaluated) SSO: Dex (to be evaluated)","title":"Platform technologies"},{"location":"technicalTools/#references","text":"","title":"References"},{"location":"technicalTools/#tool-installations","text":"https://www.redswitches.com/blog/install-homebrew-on-mac/ https://formulae.brew.sh/formula/kubernetes-cli","title":"Tool installations"},{"location":"technicalTools/#vagrant","text":"https://app.vagrantup.com/boxes/search https://blog.verbat.com/ansible-vs-vagrant-how-they-compare-and-which-one-should-you-use/ https://developer.hashicorp.com/vagrant/docs/cli/box https://developer.hashicorp.com/vagrant/docs/multi-machine https://developer.hashicorp.com/vagrant/docs/networking/private_network https://developer.hashicorp.com/vagrant/docs/networking/public_network https://developer.hashicorp.com/vagrant/docs/networking https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/boxes https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/common-issues https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/configuration https://developer.hashicorp.com/vagrant/docs/providers https://developer.hashicorp.com/vagrant/docs/provisioning/file https://developer.hashicorp.com/vagrant/docs/vagrantfile/machine_settings#config-vm-base_mac https://developer.hashicorp.com/vagrant/docs/vagrantfile/machine_settings https://developer.hashicorp.com/vagrant/docs/vagrantfile/ssh_settings https://developer.hashicorp.com/vagrant/docs/vagrantfile/tips https://developer.hashicorp.com/vagrant/intro https://developer.hashicorp.com/vagrant/tutorials/getting-started/getting-started-index https://developer.hashicorp.com/vagrant/tutorials/getting-started/getting-started-up https://discuss.hashicorp.com/t/vagrant-multiple-vms-with-unique-ip-address-on-public-network-using-dhcp/36374 https://luppeng.wordpress.com/2020/03/29/vagrant-up-with-the-lxc-provider/ https://www.vagrantup.com/ https://github.com/Fred78290/vagrant-multipass","title":"Vagrant"},{"location":"technicalTools/#ansible","text":"https://docs.ansible.com/ansible/2.9_ja/modules/snap_module.html https://docs.ansible.com/ansible/latest/collections_guide/collections_using_playbooks.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/copy_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/expect_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/index.html#plugins-in-ansible-builtin https://docs.ansible.com/ansible/latest/collections/ansible/builtin/known_hosts_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/pause_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/template_module.html#ansible-collections-ansible-builtin-template-module https://docs.ansible.com/ansible/latest/collections/community/general/snap_module.html https://docs.ansible.com/ansible/latest/getting_started/basic_concepts.html https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html#control-node-requirements https://docs.ansible.com/ansible/latest/inventory_guide/connection_details.html https://docs.ansible.com/ansible/latest/inventory_guide/intro_inventory.html https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_intro.html https://docs.ansible.com/ansible/latest/tips_tricks/ansible_tips_tricks.html https://docs.ansible.com/ansible/latest/tips_tricks/sample_setup.html#sample-directory-layout https://docs.ansible.com/ansible/latest/vault_guide/vault.html https://opensource.com/article/19/4/ansible-procedures https://opensource.com/article/19/9/ansible-documentation-kids-laptops https://opensource.com/resources/what-ansible https://opensource.com/article/19/3/developing-ansible-modules https://spacelift.io/blog/ansible-shell-module https://www.ansible.com/ https://www.ansible.com/community https://www.ansible.com/overview/how-ansible-works https://www.educba.com/ansible-vs-puppet-vs-chef/ https://www.linkedin.com/pulse/ansible-k8s-raspberry-pi-jens-fuchs/ https://www.theurbanpenguin.com/an-ansible-microk8s-install-of-kubernetes/ https://github.com/ansible/awx-operator https://github.com/ansible/awx/blob/devel/INSTALL.md https://github.com/ansible/awx","title":"Ansible"},{"location":"technicalTools/#cloud-devops","text":"https://backstage.io/docs/overview/what-is-backstage https://artifacthub.io/ https://betterprogramming.pub/observability-with-microk8s-14c1f0ff5183 https://bitnami.com/enterprise https://charmhub.io/topics/canonical-observability-stack https://byte.builders/blog/post/deploy-opensearch-with-opensearch-dashboards-in-gke/ https://computingforgeeks.com/install-prometheus-server-on-debian-ubuntu-linux/?expand_article=1 https://devopscube.com/setup-prometheus-monitoring-on-kubernetes/ https://docs.fluentd.org/container-deployment/kubernetes https://docs.fluentd.org/v/0.12/articles/kubernetes-fluentd https://docs.fluentd.org/v/0.12/articles/monitoring-prometheus https://jenkins-x.io/ https://jenkins-x.io/v3/about/how-it-works/ https://jenkins-x.io/v3/about/overview/ https://jenkins-x.io/v3/about/what/ https://jenkins-x.io/v3/admin/platforms/on-premises/ https://jenkins-x.io/v3/admin/platforms/on-premises/vault/ https://jenkins-x.io/v3/admin/setup/secrets/vault/ https://opensearch.org/blog/exploring-opensearch-2-10/ https://opensearch.org/blog/setup-multinode-cluster-kubernetes/ https://opensearch.org/docs/1.2/security-plugin/configuration/security-admin/ https://opensearch.org/docs/latest/ https://opensearch.org/docs/latest/search-plugins/neural-search/ https://opensearch.org/docs/latest/tuning-your-cluster/availability-and-recovery/remote-store/index/ https://opensearch.org/downloads.html https://medium.com/@mbianchidev/2023-devops-is-terrible-ec88162c86d7 https://medium.com/01001101/enhance-your-docker-image-build-pipeline-with-kaniko-567afb6cf97c https://medium.com/geekculture/create-docker-images-without-docker-daemon-kaniko-847a688155a6 https://medium.com/kubernetes-tutorials/cluster-level-logging-in-kubernetes-with-fluentd-e59aa2b6093a https://prometheus.io/ https://prometheus.io/docs/instrumenting/exporters/ https://prometheus.io/docs/introduction/overview/ https://prometheus.io/docs/prometheus/latest/configuration/configuration/ https://prometheus.io/docs/prometheus/latest/getting_started/ https://virtualizationreview.com/articles/2019/01/30/microk8s-part-2-how-to-monitor-and-manage-kubernetes.aspx https://github.com/opensearch-project/helm-charts/blob/main/charts/opensearch/README.md https://github.com/opensearch-project/helm-charts/blob/main/charts/opensearch/values.yaml https://itnext.io/how-to-expose-your-kubernetes-dashboard-with-cert-manager-422ab1e3bf30 https://k9scli.io/ https://linuxhint.com/install_prometheus_ubuntu/ https://snapcraft.io/prometheus https://vegastack.com/tutorials/how-to-install-prometheus-on-ubuntu-22-04/ https://github.com/kubernetes-sigs/prometheus-adapter https://github.com/prometheus/node_exporter https://github.com/prometheus/prometheus https://codilime.com/blog/day-0-day-1-day-2-the-software-lifecycle-in-the-cloud-age/ https://developer.hashicorp.com/terraform/tutorials/cloud-get-started/cloud-sign-up https://docs.codacy.com/chart/infrastructure/microk8s-quickstart/ https://katalon.com/resources-center/blog/continuous-delivery-vs-continuous-deployment https://octant.dev/ https://octant.dev/octant-reveals-objects-running-in-kubernetes-clusters/ https://signoz.io/docs/install/kubernetes/others/ https://www.datadoghq.com/dg/logs/kubernetes/ https://www.cloudforecast.io/blog/node-exporter-and-kubernetes/ https://www.middlewareinventory.com/blog/kubernetes-sidecar-logging-with-fluentd-to-efk/ https://tekton.dev/ https://www.deepnetwork.com/blog/2020/01/27/ELK-stack-filebeat-k8s-deployment.html https://www.linuxtechi.com/how-to-install-kvm-on-ubuntu-22-04/ https://www.logicmonitor.com/blog/jenkins-vs-jenkins-x https://www.mirantis.com/zeroops/what-is-zeroops/","title":"Cloud DevOps"},{"location":"technicalTroubleshooting/","text":"Radio Troubleshooting More detailed testing will be required to determine feasibility of the architecture, and the solution. In addition, due to the nature of the failure, and it's impact on the default program, a test installation will be constructed for more extensive testing. Issues Dead Air Dead Air Switching from default program to DJ stream and back work seamlessly in unit testing. However, with field testing, two events failed with resulting silence being broadcast. [ ] Manual switch to stream via the gui required: automation of connect and disconnect was assumed to have caused previous streaming silence incident. [ ] Automated stream kick at the end of the session is not working. [ ] DJ source stream stop fallback to playlist failed [ ] Scheduled play-out the default radio program after dj session was complete, did not deliver audio (silence) to the broadcaster. [ ] Console controls for streaming incorrectly indicate stream status, and stream connection status. Failure scenario will not be easy to reproduce without impacting simultaneous testing. Dev environment with automated testing may trigger the failure. Good logging, i.e searchability, history, aggregation and log level flexibility, are also required. Issue notes Scheduled tracks and show changes ran as normal, but no audio. Deletion of playout / liquidsoap pod restored the service, but not immediately or completely. Decoupling incoming streams from radio infrastructure Also, testing of streaming, run during live gig sound checks, needs to be decoupled from the station schedule. Changing the mount-point between sound check test and radio broadcasted schedule would solve this, but it is not preferred to make changes between sound-check and live performance. Using a dedicated mount on the broadcaster, and scheduling it into the radio schedule as a webstream will be investigated as a more flexible solution. This also provides a more comprehensive broadcast service to members. Logs Logs after failure (logs at time of initial failure expired). Reference logs for default program Normally, during playlist playback, the playout logs look like this, after a restart (delete and automated redeploy) of the liquidsoap-playout pod: 2024-05-27 13:14:41,990 | INFO | libretime_playout.main:cli:100 - Timezone: ('UTC', 'UTC') 2024-05-27 13:14:41,991 | INFO | libretime_playout.main:cli:101 - UTC time: 2024-05-27 13:14:41.991703 2024-05-27 13:14:42,201 | WARNING | libretime_playout.liquidsoap.client._client:wait_for_version:62 - could not get version: [Errno 111] Connection refused 2024-05-27 13:14:43,203 | WARNING | libretime_playout.liquidsoap.client._client:wait_for_version:62 - could not get version: [Errno 111] Connection refused 2024-05-27 13:14:44,205 | WARNING | libretime_playout.liquidsoap.client._client:wait_for_version:62 - could not get version: [Errno 111] Connection refused 2024-05-27 13:14:45,233 | INFO | libretime_playout.liquidsoap.client._client:wait_for_version:59 - found version (1, 4, 3) 2024-05-27 13:14:45,238 | INFO | libretime_playout.player.fetch:__init__:62 - PypoFetch: init complete 2024-05-27 13:14:45,243 | INFO | libretime_playout.player.queue:main:36 - waiting indefinitely for schedule 2024-05-27 13:14:45,246 | INFO | libretime_playout.history.stats:run:152 - starting stats collector 2024-05-27 13:14:45,436 | INFO | libretime_playout.message_handler:run_forever:96 - starting message handler 2024-05-27 13:14:45,528 | INFO | kombu.mixins:Consumer:229 - Connected to amqp://libretime:**@rabbitmq:5672//libretime 2024-05-27 13:14:52,567 | INFO | libretime_playout.message_handler:on_message:47 - handling event reset_liquidsoap_bootstrap: {'event_type': 'reset_liquidsoap_bootstrap'} 2024-05-27 13:14:53,308 | INFO | libretime_playout.message_handler:on_message:47 - handling event update_schedule: {'event_type': 'update_schedule'} 2024-05-27 13:15:34,670 | INFO | libretime_playout.message_handler:on_message:47 - handling event switch_source: {'sourcename': 'live_dj', 'status': 'on', 'event_type': 'switch_source'} 2024-05-27 13:16:15,520 | INFO | libretime_playout.player.file:copy_file:47 - copying file 102 to cache /app/scheduler/102.mp3 2024-05-27 13:16:15,527 | INFO | libretime_playout.player.liquidsoap:verify_correct_present_media:286 - Need to add items to Liquidsoap *now*: {4769} Stream closed EOF for radio/liquidsoap-playout-84d64f5d75-s6czn (playout) 2024-05-27 17:51:05,681 | INFO | libretime_playout.player.fetch:main:311 - Loop #60 2024-05-27 17:54:33,048 | INFO | libretime_playout.player.queue:main:39 - waiting 240.951156s until next scheduled item 2024-05-27 17:57:45,681 | INFO | libretime_playout.player.fetch:main:332 - Queue timeout. Fetching schedule manually 2024-05-27 17:58:34,042 | INFO | libretime_playout.player.queue:main:39 - waiting 189.957957s until next scheduled item 2024-05-27 17:59:09,879 | INFO | libretime_playout.player.queue:main:57 - New schedule received 2024-05-27 17:59:09,881 | INFO | libretime_playout.player.queue:main:39 - waiting 154.118266s until next scheduled item 2024-05-27 17:59:09,925 | INFO | libretime_playout.player.file:copy_file:47 - copying file 722 to cache /app/scheduler/722.mp3 2024-05-27 17:59:09,987 | INFO | libretime_playout.player.fetch:cache_cleanup:255 - File '/app/scheduler/760.mp3' removed 2024-05-27 17:59:10,066 | INFO | libretime_playout.player.file:copy_file:47 - copying file 775 to cache /app/scheduler/775.mp3 2024-05-27 17:59:10,117 | INFO | libretime_playout.player.fetch:cache_cleanup:255 - File '/app/scheduler/605.mp3' removed 2024-05-27 17:59:10,117 | INFO | libretime_playout.player.fetch:main:311 - Loop #61 2024-05-27 18:01:03,786 | INFO | libretime_playout.message_handler:on_message:47 - handling event update_schedule: {'event_type': 'update_schedule'} 2024-05-27 18:01:44,035 | INFO | libretime_playout.player.queue:main:39 - waiting 270.964979s until next scheduled item 2024-05-27 18:02:29,481 | INFO | libretime_playout.player.queue:main:57 - New schedule received 2024-05-27 18:02:29,483 | INFO | libretime_playout.player.queue:main:39 - waiting 225.516333s until next scheduled item 2024-05-27 18:02:29,491 | INFO | libretime_playout.player.file:copy_file:47 - copying file 687 to cache /app/scheduler/687.mp3 2024-05-27 18:02:29,603 | INFO | libretime_playout.player.fetch:cache_cleanup:255 - File '/app/scheduler/699.mp3' removed 2024-05-27 18:02:29,604 | INFO | libretime_playout.player.fetch:handle_message:110 - New timeout: 400.0 2024-05-27 18:02:29,605 | INFO | libretime_playout.player.fetch:main:311 - Loop #62 2024-05-27 18:06:15,004 | INFO | libretime_playout.player.queue:main:39 - waiting 170.995881s until next scheduled item 2024-05-27 18:09:06,016 | INFO | libretime_playout.player.queue:main:39 - waiting 194.983447s until next scheduled item 2024-05-27 18:09:09,605 | INFO | libretime_playout.player.fetch:main:332 - Queue timeout. Fetching schedule manually 2024-05-27 18:10:37,417 | INFO | libretime_playout.player.queue:main:57 - New schedule received 2024-05-27 18:10:37,418 | INFO | libretime_playout.player.queue:main:39 - waiting 103.58131s until next scheduled item 2024-05-27 18:10:37,456 | INFO | libretime_playout.player.file:copy_file:47 - copying file 759 to cache /app/scheduler/759.mp3 2024-05-27 18:10:37,520 | INFO | libretime_playout.player.fetch:cache_cleanup:255 - File '/app/scheduler/603.mp3' removed 2024-05-27 18:10:37,592 | INFO | libretime_playout.player.file:copy_file:47 - copying file 820 to cache /app/scheduler/820.mp3 2024-05-27 18:10:37,628 | INFO | libretime_playout.player.fetch:cache_cleanup:255 - File '/app/scheduler/676.mp3' removed 2024-05-27 18:10:37,745 | INFO | libretime_playout.player.fetch:cache_cleanup:255 - File '/app/scheduler/750.mp3' removed Liquidsoap logs: 2024/05/27 13:16:25 >>> LOG START 2024/05/27 13:16:25 [main:3] Liquidsoap 1.4.3 2024/05/27 13:16:25 [main:3] Using: bytes=[distributed with OCaml 4.02 or above] pcre=[unspecified] sedlex=2.2 menhirLib=20201216 dtools=0.4.2 duppy=0.8.0 cry=0.6.5 mm=0.5.0 xmlplaylist=0.1.5 lastfm=0.3.2 ogg=0.5.2 vorbis=0.7.1 opus=0.1.3 speex=0.2.1 mad=0.4.6 flac=0.1.7 flac.ogg=0.1.7 dynlink=[distributed with Ocaml] lame=0.3.4 shine=0.2.1 gstreamer=0.3.0 frei0r=0.1.1 theora=0.3.1 gavl=0.1.6 ffmpeg=0.4.3 bjack=0.1.5 alsa=0.3.0 ao=0.2.1 samplerate=0.1.4 taglib=0.3.6 ssl=0.5.9 magic=0.7.3 camomile=[unspecified] inotify=2.3 yojson=[unspecified] faad=0.4.0 soundtouch=0.1.8 portaudio=0.2.1 pulseaudio=0.1.3 ladspa=0.1.5 sdl=0.9.1 camlimages=4.2.6 lo=0.1.2 gd=1.0a5 2024/05/27 13:16:25 [gstreamer.loader:3] Loaded GStreamer 1.18.4 0 2024/05/27 13:16:25 [dynamic.loader:3] Could not find dynamic module for fdkaac encoder. 2024/05/27 13:16:25 [frame:3] Using 44100Hz audio, 25Hz video, 44100Hz master. 2024/05/27 13:16:25 [frame:3] Frame size must be a multiple of 1764 ticks = 1764 audio samples = 1 video samples. 2024/05/27 13:16:25 [frame:3] Targetting 'frame.duration': 0.04s = 1764 audio samples = 1764 ticks. 2024/05/27 13:16:25 [frame:3] Frames last 0.04s = 1764 audio samples = 1 video samples = 1764 ticks. 2024/05/27 13:16:25 [lang:3] timeout --signal=KILL 45 libretime-playout-notify started & 2024/05/27 13:16:25 [sandbox:3] Could not find binary bwrap, disabling sandboxing.. 2024/05/27 13:16:25 [video.converter:3] Using preferred video converter: gavl. 2024/05/27 13:16:25 [audio.converter:3] Using samplerate converter: ffmpeg. 2024/05/27 13:16:25 [harbor:3] Adding mountpoint '/show' on port 8002 2024/05/27 13:16:25 [harbor:3] Adding mountpoint '/main' on port 8001 2024/05/27 13:16:25 [icecast:1:3] Connecting mount main for source@icecast.radio.svc.cluster.local... 2024/05/27 13:16:25 [icecast:1:3] Connection setup was successful. 2024/05/27 13:16:25 [lang:3] timeout --signal=KILL 45 libretime-playout-notify stream '1' '1716815785.52' & 2024/05/27 13:16:26 [clock.wallclock_main:3] Streaming loop starts, synchronized with wallclock. 2024/05/27 13:16:26 [map_metadata:offline:3] Inserting missing metadata. 2024/05/27 13:16:26 [switch:blank+schedule+show+main:3] Switch to switch:blank+schedule+show. 2024/05/27 13:16:26 [switch:blank+schedule+show:3] Switch to switch:blank+schedule. 2024/05/27 13:16:26 [switch:blank+schedule:3] Switch to map_metadata:offline. 2024-05-27 13:16:32,485 | INFO | libretime_playout.notify.main:stream:154 - Sending output stream '1' status 'OK' 2024/05/27 13:16:59 [server:3] New client: 127.0.0.1. 2024/05/27 13:16:59 [server:3] Client 127.0.0.1 disconnected. 2024/05/27 13:16:59 [decoder:3] Method \"FFMPEG\" accepted \"/app/scheduler/227.mp3\". 2024/05/27 13:16:59 [s3:3] Prepared \"/app/scheduler/227.mp3\" (RID 0). 2024/05/27 13:16:59 [switch_9646:3] Switch to insert_metadata_9631. 2024/05/27 13:16:59 [ffmpeg:3] [mp3float @ 0x7f3a7c0100c0] Could not update timestamps for skipped samples. 2024/05/27 13:16:59 [lang:3] timeout --signal=KILL 45 libretime-playout-notify media '4770' & 2024/05/27 13:16:59 [lang:3] Using message format 0 2024/05/27 13:16:59 [lang:3] Using message format 0 2024-05-27 13:17:05,052 | INFO | libretime_playout.notify.main:media:73 - Sending currently playing media id '4770' 2024/05/27 13:17:59 [server:3] New client: 127.0.0.1. 2024/05/27 13:17:59 [lang:3] web_stream.get_id 2024/05/27 13:17:59 [server:3] Client 127.0.0.1 disconnected. 2024/05/27 13:17:59 [server:3] New client: 127.0.0.1. 2024/05/27 13:17:59 [lang:3] sources.start_input_show 2024/05/27 13:17:59 [server:3] Client 127.0.0.1 disconnected. Stream closed EOF for radio/liquidsoap-playout-84d64f5d75-s6czn (liquidsoap) 2024/05/27 18:41:09 [ffmpeg:3] [mp3float @ 0x7f3a7c4d8ec0] Could not update timestamps for discarded samples. 2024/05/27 18:41:09 [cue_cut_9615:3] End of track before cue-out point. 2024/05/27 18:41:09 [dummy:3] Source failed (no more tracks) stopping output... 2024/05/27 18:41:09 [dummy(dot)2:3] Source failed (no more tracks) stopping output... 2024/05/27 18:41:09 [switch:blank+schedule:3] Switch to map_metadata:offline with forgetful transition. 2024/05/27 18:41:09 [lang:3] transition called... 2024/05/27 18:41:10 [server:3] New client: 127.0.0.1. 2024/05/27 18:41:10 [decoder:3] Method \"FFMPEG\" accepted \"/app/scheduler/667.mp3\". 2024/05/27 18:41:10 [server:3] Client 127.0.0.1 disconnected. 2024/05/27 18:41:10 [s3:3] Prepared \"/app/scheduler/667.mp3\" (RID 2). 2024/05/27 18:41:10 [switch:blank+schedule:3] Switch to map_metadata:schedule with transition. 2024/05/27 18:41:10 [lang:3] transition called... 2024/05/27 18:41:10 [switch_9646:3] Switch to insert_metadata_9631. 2024/05/27 18:41:10 [ffmpeg:3] [mp3float @ 0x7f3a7d4bb300] Could not update timestamps for skipped samples. 2024/05/27 18:41:10 [lang:3] timeout --signal=KILL 45 libretime-playout-notify media '12813' & 2024/05/27 18:41:10 [lang:3] Using message format 0 2024/05/27 18:41:10 [lang:3] Using message format 0 2024-05-27 18:41:15,145 | INFO | libretime_playout.notify.main:media:73 - Sending currently playing media id '12813' 2024/05/27 18:42:52 [server:3] New client: 127.0.0.1. 2024/05/27 18:42:52 [lang:3] web_stream.get_id 2024/05/27 18:42:52 [server:3] Client 127.0.0.1 disconnected. 2024/05/27 18:43:20 [ffmpeg:3] [mp3float @ 0x7f3a7d4bb300] Could not update timestamps for discarded samples. 2024/05/27 18:43:21 [server:3] New client: 127.0.0.1. 2024/05/27 18:43:21 [decoder:3] Method \"FFMPEG\" accepted \"/app/scheduler/595.mp3\". 2024/05/27 18:43:21 [server:3] Client 127.0.0.1 disconnected. 2024/05/27 18:43:21 [cue_cut_9615:3] End of track before cue-out point. 2024/05/27 18:43:21 [s3:3] Prepared \"/app/scheduler/595.mp3\" (RID 3). 2024/05/27 18:43:21 [ffmpeg:3] [mp3float @ 0x7f3a7c060080] Could not update timestamps for skipped samples. 2024/05/27 18:43:21 [lang:3] timeout --signal=KILL 45 libretime-playout-notify media '12814' & 2024/05/27 18:43:21 [lang:3] Using message format 0 2024/05/27 18:43:21 [lang:3] Using message format 0 2024-05-27 18:43:25,391 | INFO | libretime_playout.notify.main:media:73 - Sending currently playing media id '12814' References Libretime project kanban and issue boards: Work in progress https://github.com/libretime/libretime/projects/6 Bug triage https://github.com/libretime/libretime/projects/1 Issue list https://github.com/libretime/libretime/issues","title":"Radio Troubleshooting"},{"location":"technicalTroubleshooting/#radio-troubleshooting","text":"More detailed testing will be required to determine feasibility of the architecture, and the solution. In addition, due to the nature of the failure, and it's impact on the default program, a test installation will be constructed for more extensive testing.","title":"Radio Troubleshooting"},{"location":"technicalTroubleshooting/#issues","text":"Dead Air","title":"Issues"},{"location":"technicalTroubleshooting/#dead-air","text":"Switching from default program to DJ stream and back work seamlessly in unit testing. However, with field testing, two events failed with resulting silence being broadcast. [ ] Manual switch to stream via the gui required: automation of connect and disconnect was assumed to have caused previous streaming silence incident. [ ] Automated stream kick at the end of the session is not working. [ ] DJ source stream stop fallback to playlist failed [ ] Scheduled play-out the default radio program after dj session was complete, did not deliver audio (silence) to the broadcaster. [ ] Console controls for streaming incorrectly indicate stream status, and stream connection status. Failure scenario will not be easy to reproduce without impacting simultaneous testing. Dev environment with automated testing may trigger the failure. Good logging, i.e searchability, history, aggregation and log level flexibility, are also required.","title":"Dead Air"},{"location":"technicalTroubleshooting/#issue-notes","text":"Scheduled tracks and show changes ran as normal, but no audio. Deletion of playout / liquidsoap pod restored the service, but not immediately or completely.","title":"Issue notes"},{"location":"technicalTroubleshooting/#decoupling-incoming-streams-from-radio-infrastructure","text":"Also, testing of streaming, run during live gig sound checks, needs to be decoupled from the station schedule. Changing the mount-point between sound check test and radio broadcasted schedule would solve this, but it is not preferred to make changes between sound-check and live performance. Using a dedicated mount on the broadcaster, and scheduling it into the radio schedule as a webstream will be investigated as a more flexible solution. This also provides a more comprehensive broadcast service to members.","title":"Decoupling incoming streams from radio infrastructure"},{"location":"technicalTroubleshooting/#logs","text":"","title":"Logs"},{"location":"technicalTroubleshooting/#logs-after-failure-logs-at-time-of-initial-failure-expired","text":"","title":"Logs after failure (logs at time of initial failure expired)."},{"location":"technicalTroubleshooting/#reference-logs-for-default-program","text":"Normally, during playlist playback, the playout logs look like this, after a restart (delete and automated redeploy) of the liquidsoap-playout pod: 2024-05-27 13:14:41,990 | INFO | libretime_playout.main:cli:100 - Timezone: ('UTC', 'UTC') 2024-05-27 13:14:41,991 | INFO | libretime_playout.main:cli:101 - UTC time: 2024-05-27 13:14:41.991703 2024-05-27 13:14:42,201 | WARNING | libretime_playout.liquidsoap.client._client:wait_for_version:62 - could not get version: [Errno 111] Connection refused 2024-05-27 13:14:43,203 | WARNING | libretime_playout.liquidsoap.client._client:wait_for_version:62 - could not get version: [Errno 111] Connection refused 2024-05-27 13:14:44,205 | WARNING | libretime_playout.liquidsoap.client._client:wait_for_version:62 - could not get version: [Errno 111] Connection refused 2024-05-27 13:14:45,233 | INFO | libretime_playout.liquidsoap.client._client:wait_for_version:59 - found version (1, 4, 3) 2024-05-27 13:14:45,238 | INFO | libretime_playout.player.fetch:__init__:62 - PypoFetch: init complete 2024-05-27 13:14:45,243 | INFO | libretime_playout.player.queue:main:36 - waiting indefinitely for schedule 2024-05-27 13:14:45,246 | INFO | libretime_playout.history.stats:run:152 - starting stats collector 2024-05-27 13:14:45,436 | INFO | libretime_playout.message_handler:run_forever:96 - starting message handler 2024-05-27 13:14:45,528 | INFO | kombu.mixins:Consumer:229 - Connected to amqp://libretime:**@rabbitmq:5672//libretime 2024-05-27 13:14:52,567 | INFO | libretime_playout.message_handler:on_message:47 - handling event reset_liquidsoap_bootstrap: {'event_type': 'reset_liquidsoap_bootstrap'} 2024-05-27 13:14:53,308 | INFO | libretime_playout.message_handler:on_message:47 - handling event update_schedule: {'event_type': 'update_schedule'} 2024-05-27 13:15:34,670 | INFO | libretime_playout.message_handler:on_message:47 - handling event switch_source: {'sourcename': 'live_dj', 'status': 'on', 'event_type': 'switch_source'} 2024-05-27 13:16:15,520 | INFO | libretime_playout.player.file:copy_file:47 - copying file 102 to cache /app/scheduler/102.mp3 2024-05-27 13:16:15,527 | INFO | libretime_playout.player.liquidsoap:verify_correct_present_media:286 - Need to add items to Liquidsoap *now*: {4769} Stream closed EOF for radio/liquidsoap-playout-84d64f5d75-s6czn (playout) 2024-05-27 17:51:05,681 | INFO | libretime_playout.player.fetch:main:311 - Loop #60 2024-05-27 17:54:33,048 | INFO | libretime_playout.player.queue:main:39 - waiting 240.951156s until next scheduled item 2024-05-27 17:57:45,681 | INFO | libretime_playout.player.fetch:main:332 - Queue timeout. Fetching schedule manually 2024-05-27 17:58:34,042 | INFO | libretime_playout.player.queue:main:39 - waiting 189.957957s until next scheduled item 2024-05-27 17:59:09,879 | INFO | libretime_playout.player.queue:main:57 - New schedule received 2024-05-27 17:59:09,881 | INFO | libretime_playout.player.queue:main:39 - waiting 154.118266s until next scheduled item 2024-05-27 17:59:09,925 | INFO | libretime_playout.player.file:copy_file:47 - copying file 722 to cache /app/scheduler/722.mp3 2024-05-27 17:59:09,987 | INFO | libretime_playout.player.fetch:cache_cleanup:255 - File '/app/scheduler/760.mp3' removed 2024-05-27 17:59:10,066 | INFO | libretime_playout.player.file:copy_file:47 - copying file 775 to cache /app/scheduler/775.mp3 2024-05-27 17:59:10,117 | INFO | libretime_playout.player.fetch:cache_cleanup:255 - File '/app/scheduler/605.mp3' removed 2024-05-27 17:59:10,117 | INFO | libretime_playout.player.fetch:main:311 - Loop #61 2024-05-27 18:01:03,786 | INFO | libretime_playout.message_handler:on_message:47 - handling event update_schedule: {'event_type': 'update_schedule'} 2024-05-27 18:01:44,035 | INFO | libretime_playout.player.queue:main:39 - waiting 270.964979s until next scheduled item 2024-05-27 18:02:29,481 | INFO | libretime_playout.player.queue:main:57 - New schedule received 2024-05-27 18:02:29,483 | INFO | libretime_playout.player.queue:main:39 - waiting 225.516333s until next scheduled item 2024-05-27 18:02:29,491 | INFO | libretime_playout.player.file:copy_file:47 - copying file 687 to cache /app/scheduler/687.mp3 2024-05-27 18:02:29,603 | INFO | libretime_playout.player.fetch:cache_cleanup:255 - File '/app/scheduler/699.mp3' removed 2024-05-27 18:02:29,604 | INFO | libretime_playout.player.fetch:handle_message:110 - New timeout: 400.0 2024-05-27 18:02:29,605 | INFO | libretime_playout.player.fetch:main:311 - Loop #62 2024-05-27 18:06:15,004 | INFO | libretime_playout.player.queue:main:39 - waiting 170.995881s until next scheduled item 2024-05-27 18:09:06,016 | INFO | libretime_playout.player.queue:main:39 - waiting 194.983447s until next scheduled item 2024-05-27 18:09:09,605 | INFO | libretime_playout.player.fetch:main:332 - Queue timeout. Fetching schedule manually 2024-05-27 18:10:37,417 | INFO | libretime_playout.player.queue:main:57 - New schedule received 2024-05-27 18:10:37,418 | INFO | libretime_playout.player.queue:main:39 - waiting 103.58131s until next scheduled item 2024-05-27 18:10:37,456 | INFO | libretime_playout.player.file:copy_file:47 - copying file 759 to cache /app/scheduler/759.mp3 2024-05-27 18:10:37,520 | INFO | libretime_playout.player.fetch:cache_cleanup:255 - File '/app/scheduler/603.mp3' removed 2024-05-27 18:10:37,592 | INFO | libretime_playout.player.file:copy_file:47 - copying file 820 to cache /app/scheduler/820.mp3 2024-05-27 18:10:37,628 | INFO | libretime_playout.player.fetch:cache_cleanup:255 - File '/app/scheduler/676.mp3' removed 2024-05-27 18:10:37,745 | INFO | libretime_playout.player.fetch:cache_cleanup:255 - File '/app/scheduler/750.mp3' removed Liquidsoap logs: 2024/05/27 13:16:25 >>> LOG START 2024/05/27 13:16:25 [main:3] Liquidsoap 1.4.3 2024/05/27 13:16:25 [main:3] Using: bytes=[distributed with OCaml 4.02 or above] pcre=[unspecified] sedlex=2.2 menhirLib=20201216 dtools=0.4.2 duppy=0.8.0 cry=0.6.5 mm=0.5.0 xmlplaylist=0.1.5 lastfm=0.3.2 ogg=0.5.2 vorbis=0.7.1 opus=0.1.3 speex=0.2.1 mad=0.4.6 flac=0.1.7 flac.ogg=0.1.7 dynlink=[distributed with Ocaml] lame=0.3.4 shine=0.2.1 gstreamer=0.3.0 frei0r=0.1.1 theora=0.3.1 gavl=0.1.6 ffmpeg=0.4.3 bjack=0.1.5 alsa=0.3.0 ao=0.2.1 samplerate=0.1.4 taglib=0.3.6 ssl=0.5.9 magic=0.7.3 camomile=[unspecified] inotify=2.3 yojson=[unspecified] faad=0.4.0 soundtouch=0.1.8 portaudio=0.2.1 pulseaudio=0.1.3 ladspa=0.1.5 sdl=0.9.1 camlimages=4.2.6 lo=0.1.2 gd=1.0a5 2024/05/27 13:16:25 [gstreamer.loader:3] Loaded GStreamer 1.18.4 0 2024/05/27 13:16:25 [dynamic.loader:3] Could not find dynamic module for fdkaac encoder. 2024/05/27 13:16:25 [frame:3] Using 44100Hz audio, 25Hz video, 44100Hz master. 2024/05/27 13:16:25 [frame:3] Frame size must be a multiple of 1764 ticks = 1764 audio samples = 1 video samples. 2024/05/27 13:16:25 [frame:3] Targetting 'frame.duration': 0.04s = 1764 audio samples = 1764 ticks. 2024/05/27 13:16:25 [frame:3] Frames last 0.04s = 1764 audio samples = 1 video samples = 1764 ticks. 2024/05/27 13:16:25 [lang:3] timeout --signal=KILL 45 libretime-playout-notify started & 2024/05/27 13:16:25 [sandbox:3] Could not find binary bwrap, disabling sandboxing.. 2024/05/27 13:16:25 [video.converter:3] Using preferred video converter: gavl. 2024/05/27 13:16:25 [audio.converter:3] Using samplerate converter: ffmpeg. 2024/05/27 13:16:25 [harbor:3] Adding mountpoint '/show' on port 8002 2024/05/27 13:16:25 [harbor:3] Adding mountpoint '/main' on port 8001 2024/05/27 13:16:25 [icecast:1:3] Connecting mount main for source@icecast.radio.svc.cluster.local... 2024/05/27 13:16:25 [icecast:1:3] Connection setup was successful. 2024/05/27 13:16:25 [lang:3] timeout --signal=KILL 45 libretime-playout-notify stream '1' '1716815785.52' & 2024/05/27 13:16:26 [clock.wallclock_main:3] Streaming loop starts, synchronized with wallclock. 2024/05/27 13:16:26 [map_metadata:offline:3] Inserting missing metadata. 2024/05/27 13:16:26 [switch:blank+schedule+show+main:3] Switch to switch:blank+schedule+show. 2024/05/27 13:16:26 [switch:blank+schedule+show:3] Switch to switch:blank+schedule. 2024/05/27 13:16:26 [switch:blank+schedule:3] Switch to map_metadata:offline. 2024-05-27 13:16:32,485 | INFO | libretime_playout.notify.main:stream:154 - Sending output stream '1' status 'OK' 2024/05/27 13:16:59 [server:3] New client: 127.0.0.1. 2024/05/27 13:16:59 [server:3] Client 127.0.0.1 disconnected. 2024/05/27 13:16:59 [decoder:3] Method \"FFMPEG\" accepted \"/app/scheduler/227.mp3\". 2024/05/27 13:16:59 [s3:3] Prepared \"/app/scheduler/227.mp3\" (RID 0). 2024/05/27 13:16:59 [switch_9646:3] Switch to insert_metadata_9631. 2024/05/27 13:16:59 [ffmpeg:3] [mp3float @ 0x7f3a7c0100c0] Could not update timestamps for skipped samples. 2024/05/27 13:16:59 [lang:3] timeout --signal=KILL 45 libretime-playout-notify media '4770' & 2024/05/27 13:16:59 [lang:3] Using message format 0 2024/05/27 13:16:59 [lang:3] Using message format 0 2024-05-27 13:17:05,052 | INFO | libretime_playout.notify.main:media:73 - Sending currently playing media id '4770' 2024/05/27 13:17:59 [server:3] New client: 127.0.0.1. 2024/05/27 13:17:59 [lang:3] web_stream.get_id 2024/05/27 13:17:59 [server:3] Client 127.0.0.1 disconnected. 2024/05/27 13:17:59 [server:3] New client: 127.0.0.1. 2024/05/27 13:17:59 [lang:3] sources.start_input_show 2024/05/27 13:17:59 [server:3] Client 127.0.0.1 disconnected. Stream closed EOF for radio/liquidsoap-playout-84d64f5d75-s6czn (liquidsoap) 2024/05/27 18:41:09 [ffmpeg:3] [mp3float @ 0x7f3a7c4d8ec0] Could not update timestamps for discarded samples. 2024/05/27 18:41:09 [cue_cut_9615:3] End of track before cue-out point. 2024/05/27 18:41:09 [dummy:3] Source failed (no more tracks) stopping output... 2024/05/27 18:41:09 [dummy(dot)2:3] Source failed (no more tracks) stopping output... 2024/05/27 18:41:09 [switch:blank+schedule:3] Switch to map_metadata:offline with forgetful transition. 2024/05/27 18:41:09 [lang:3] transition called... 2024/05/27 18:41:10 [server:3] New client: 127.0.0.1. 2024/05/27 18:41:10 [decoder:3] Method \"FFMPEG\" accepted \"/app/scheduler/667.mp3\". 2024/05/27 18:41:10 [server:3] Client 127.0.0.1 disconnected. 2024/05/27 18:41:10 [s3:3] Prepared \"/app/scheduler/667.mp3\" (RID 2). 2024/05/27 18:41:10 [switch:blank+schedule:3] Switch to map_metadata:schedule with transition. 2024/05/27 18:41:10 [lang:3] transition called... 2024/05/27 18:41:10 [switch_9646:3] Switch to insert_metadata_9631. 2024/05/27 18:41:10 [ffmpeg:3] [mp3float @ 0x7f3a7d4bb300] Could not update timestamps for skipped samples. 2024/05/27 18:41:10 [lang:3] timeout --signal=KILL 45 libretime-playout-notify media '12813' & 2024/05/27 18:41:10 [lang:3] Using message format 0 2024/05/27 18:41:10 [lang:3] Using message format 0 2024-05-27 18:41:15,145 | INFO | libretime_playout.notify.main:media:73 - Sending currently playing media id '12813' 2024/05/27 18:42:52 [server:3] New client: 127.0.0.1. 2024/05/27 18:42:52 [lang:3] web_stream.get_id 2024/05/27 18:42:52 [server:3] Client 127.0.0.1 disconnected. 2024/05/27 18:43:20 [ffmpeg:3] [mp3float @ 0x7f3a7d4bb300] Could not update timestamps for discarded samples. 2024/05/27 18:43:21 [server:3] New client: 127.0.0.1. 2024/05/27 18:43:21 [decoder:3] Method \"FFMPEG\" accepted \"/app/scheduler/595.mp3\". 2024/05/27 18:43:21 [server:3] Client 127.0.0.1 disconnected. 2024/05/27 18:43:21 [cue_cut_9615:3] End of track before cue-out point. 2024/05/27 18:43:21 [s3:3] Prepared \"/app/scheduler/595.mp3\" (RID 3). 2024/05/27 18:43:21 [ffmpeg:3] [mp3float @ 0x7f3a7c060080] Could not update timestamps for skipped samples. 2024/05/27 18:43:21 [lang:3] timeout --signal=KILL 45 libretime-playout-notify media '12814' & 2024/05/27 18:43:21 [lang:3] Using message format 0 2024/05/27 18:43:21 [lang:3] Using message format 0 2024-05-27 18:43:25,391 | INFO | libretime_playout.notify.main:media:73 - Sending currently playing media id '12814'","title":"Reference logs for default program"},{"location":"technicalTroubleshooting/#references","text":"Libretime project kanban and issue boards: Work in progress https://github.com/libretime/libretime/projects/6 Bug triage https://github.com/libretime/libretime/projects/1 Issue list https://github.com/libretime/libretime/issues","title":"References"},{"location":"technicalWireguard/","text":"Wireguard installation notes To load and verify wireguard linux kernel module: modprobe wireguard ; lsmod | grep wireguard To load permanently: sudo echo 'wireguard' >> /etc/modules Install wireguard tools: apt install wireguard-tools Generate server key, save and secure: wg genkey | sudo tee /etc/wireguard/server.key ; chmod 0400 /etc/wireguard/server.key Public key: cat /etc/wireguard/server.key | wg pubkey | sudo tee /etc/wireguard/server.pub mkdir -p /etc/wireguard/clients wg genkey | tee /etc/wireguard/clients/client1.key cat /etc/wireguard/clients/client1.key | wg pubkey | tee /etc/wireguard/clients/client1.pub /etc/wireguard/wg0.conf [Interface] PrivateKey = <> Address = 192.168.0.104/29 ListenPort = 51820 SaveConfig = true [Peer] PublicKey = <> AllowedIPs = 192.168.0.1/24 Only required for egress from vpn server: /etc/sysctl.conf : uncomment net.ipv4.ip_forward=1 ; Apply: sysctl -p ip route list default","title":"Wireguard installation notes"},{"location":"technicalWireguard/#wireguard-installation-notes","text":"To load and verify wireguard linux kernel module: modprobe wireguard ; lsmod | grep wireguard To load permanently: sudo echo 'wireguard' >> /etc/modules Install wireguard tools: apt install wireguard-tools Generate server key, save and secure: wg genkey | sudo tee /etc/wireguard/server.key ; chmod 0400 /etc/wireguard/server.key Public key: cat /etc/wireguard/server.key | wg pubkey | sudo tee /etc/wireguard/server.pub mkdir -p /etc/wireguard/clients wg genkey | tee /etc/wireguard/clients/client1.key cat /etc/wireguard/clients/client1.key | wg pubkey | tee /etc/wireguard/clients/client1.pub /etc/wireguard/wg0.conf [Interface] PrivateKey = <> Address = 192.168.0.104/29 ListenPort = 51820 SaveConfig = true [Peer] PublicKey = <> AllowedIPs = 192.168.0.1/24 Only required for egress from vpn server: /etc/sysctl.conf : uncomment net.ipv4.ip_forward=1 ; Apply: sysctl -p ip route list default","title":"Wireguard installation notes"},{"location":"technicalWordpress/","text":"Installing Wordpress Using Kubeapps Pre-requisite: Install kubeapps Set up user info Set storage class Set service type to ClusterIP Set storageClass to ceph-rbd Using repo directly Reference: https://github.com/bitnami/charts/tree/main/bitnami/wordpress Repo GitHub: https://bitnami.com/stack/wordpress/helm Clone values file to motttt-values.yaml Install with: helm install --namespace motttt --create-namespace motttt-01 --debug bitnami/wordpress --values motttt-values.yaml Use cases Adam Biography Charles Project Toolkit Artist sites Martin MoTTTT biography SEO links Norma biography online questionaries UK Today helm install --namespace uktoday --create-namespace uktoday-01 --debug bitnami/wordpress --values uktodayblog-values.yaml helm install --namespace norma --create-namespace norma-01 --debug bitnami/wordpress --values normablog-values.yaml References https://wordpress.org/plugins/html-forms/ https://themeisle.com/blog/multi-author-wordpress-blog/ https://ays-pro.com/wordpress/survey-maker https://ays-demo.com/demographic-survey-questionnaire/ https://wordpress.org/plugins/survey-maker/ https://quizandsurveymaster.com/best-free-wordpress-survey-plugins/ https://kubiobuilder.com/wordpress-web-design/custom-html-css-wordpress/ https://wordpress.com/support/wordpress-editor/blocks/custom-html-block/ https://stackoverflow.com/questions/33727812/basic-questionnaire-input-how-to-style-questions-to-the-left-and-radios-to-the-r","title":"Installing Wordpress"},{"location":"technicalWordpress/#installing-wordpress","text":"","title":"Installing Wordpress"},{"location":"technicalWordpress/#using-kubeapps","text":"Pre-requisite: Install kubeapps Set up user info Set storage class Set service type to ClusterIP Set storageClass to ceph-rbd","title":"Using Kubeapps"},{"location":"technicalWordpress/#using-repo-directly","text":"Reference: https://github.com/bitnami/charts/tree/main/bitnami/wordpress Repo GitHub: https://bitnami.com/stack/wordpress/helm Clone values file to motttt-values.yaml Install with: helm install --namespace motttt --create-namespace motttt-01 --debug bitnami/wordpress --values motttt-values.yaml","title":"Using repo directly"},{"location":"technicalWordpress/#use-cases","text":"","title":"Use cases"},{"location":"technicalWordpress/#adam","text":"Biography","title":"Adam"},{"location":"technicalWordpress/#charles","text":"Project Toolkit Artist sites","title":"Charles"},{"location":"technicalWordpress/#martin","text":"MoTTTT biography SEO links","title":"Martin"},{"location":"technicalWordpress/#norma","text":"biography online questionaries","title":"Norma"},{"location":"technicalWordpress/#uk-today","text":"helm install --namespace uktoday --create-namespace uktoday-01 --debug bitnami/wordpress --values uktodayblog-values.yaml helm install --namespace norma --create-namespace norma-01 --debug bitnami/wordpress --values normablog-values.yaml","title":"UK Today"},{"location":"technicalWordpress/#references","text":"https://wordpress.org/plugins/html-forms/ https://themeisle.com/blog/multi-author-wordpress-blog/ https://ays-pro.com/wordpress/survey-maker https://ays-demo.com/demographic-survey-questionnaire/ https://wordpress.org/plugins/survey-maker/ https://quizandsurveymaster.com/best-free-wordpress-survey-plugins/ https://kubiobuilder.com/wordpress-web-design/custom-html-css-wordpress/ https://wordpress.com/support/wordpress-editor/blocks/custom-html-block/ https://stackoverflow.com/questions/33727812/basic-questionnaire-input-how-to-style-questions-to-the-left-and-radios-to-the-r","title":"References"},{"location":"uktodayTechnical/","text":"UK Today Current Channel Branding: https://www.youtube.com/@UK2Day About Welcome to the UK Today YouTube channel! Our aim is to showcase the beautiful and diverse scenery from all over the United Kingdom. From the bustling city to the captivating countryside, our nation has so much more to offer than many people may be aware of. Please join us in our journey, and feel free to submit your own clips of hidden gems and interesting happenings from around the nation :) In order to submit your own clips to be featured in the next UK Today video, please send your video to the submission email or WhatsApp number below, along with the location of where the clip was shot, and your name should you wish to be credited. Thanks! WhatsApp number: +44 7833103820 Submission Email: uk2daysubmissions@gmail.com Placeholder domains uktoday.blogsite.org uktoday.thruhere.net uktoday.podzone.org uktoday.podzone.net uktoday.blog.podzone.org Brand considerations Search Google: \"UK Today\" https://en.wikipedia.org/wiki/UK_Today https://find-and-update.company-information.service.gov.uk/company/03444862 Search Google: \"UK Today Youtube\" - https://www.youtube.com/user/youtubeuk","title":"UK Today"},{"location":"uktodayTechnical/#uk-today","text":"","title":"UK Today"},{"location":"uktodayTechnical/#current-channel-branding-httpswwwyoutubecomuk2day","text":"About Welcome to the UK Today YouTube channel! Our aim is to showcase the beautiful and diverse scenery from all over the United Kingdom. From the bustling city to the captivating countryside, our nation has so much more to offer than many people may be aware of. Please join us in our journey, and feel free to submit your own clips of hidden gems and interesting happenings from around the nation :) In order to submit your own clips to be featured in the next UK Today video, please send your video to the submission email or WhatsApp number below, along with the location of where the clip was shot, and your name should you wish to be credited. Thanks! WhatsApp number: +44 7833103820 Submission Email: uk2daysubmissions@gmail.com","title":"Current Channel Branding: https://www.youtube.com/@UK2Day"},{"location":"uktodayTechnical/#placeholder-domains","text":"uktoday.blogsite.org uktoday.thruhere.net uktoday.podzone.org uktoday.podzone.net uktoday.blog.podzone.org","title":"Placeholder domains"},{"location":"uktodayTechnical/#brand-considerations","text":"","title":"Brand considerations"},{"location":"uktodayTechnical/#search-google-uk-today","text":"https://en.wikipedia.org/wiki/UK_Today https://find-and-update.company-information.service.gov.uk/company/03444862","title":"Search Google: \"UK Today\""},{"location":"uktodayTechnical/#search-google-uk-today-youtube","text":"","title":"Search Google: \"UK Today Youtube\""},{"location":"uktodayTechnical/#-httpswwwyoutubecomuseryoutubeuk","text":"","title":"- https://www.youtube.com/user/youtubeuk"}]}