{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Introduction to the PodZone project This micro-site contains documentation including the requirements, specification, design, and build notes for the technology research, development, test and build of a kubernetes cluster, and migrating a workload from older technologies. Technology decisions While lifecycle cost considerations would typically guide the selection of components for a solution, the architecture was chosen to gain exposure to current technologies, the timelines and effort regarded as learning investment. Lifecycle costs have however been applied to selection of external services, with a preference for consuming on-prem services where reasonable. Learning goals Build confidence in deploying, troubleshooting and consuming Kubernetes Apply declarative processes for the platform and service provisioning (IoC) Documenting a \"Consumer Cloud\" case study","title":"Introduction to the PodZone project"},{"location":"#introduction-to-the-podzone-project","text":"This micro-site contains documentation including the requirements, specification, design, and build notes for the technology research, development, test and build of a kubernetes cluster, and migrating a workload from older technologies.","title":"Introduction to the PodZone project"},{"location":"#technology-decisions","text":"While lifecycle cost considerations would typically guide the selection of components for a solution, the architecture was chosen to gain exposure to current technologies, the timelines and effort regarded as learning investment. Lifecycle costs have however been applied to selection of external services, with a preference for consuming on-prem services where reasonable.","title":"Technology decisions"},{"location":"#learning-goals","text":"Build confidence in deploying, troubleshooting and consuming Kubernetes Apply declarative processes for the platform and service provisioning (IoC) Documenting a \"Consumer Cloud\" case study","title":"Learning goals"},{"location":"inventoryCosting/","text":"Costing Production hardware Hardware selection The following criteria were used to short-list potential hardware: DDR4 RAM capacity No of CPU Cores, and processor speed SSD module capacity Recovered or second hand hardware Small form factor Low noise The HP t630 meets these requirements, although has a limitation of only supporting SATA SSDs. At the time of this project there are many units available, as they were popular for scaled call centre and office use. These varied widely in price. Those without power supply and cable are not of use, so check before ordering. The t630s purchased for build of cluster nodes have the following capacities: 4 X 2.2GHz CPU cores (AMD GX-420GI) 2 X SODIMM DDR4 RAM slots (Max capacity 64GB RAM) 2 X M.2 SATA SSD slots (1 X 2242 max modules, 1 X 2280 max modules) Drives The t630 has two M.2 SATA slots: Primary module slot: Up to size 2242 modules. The devices purchased were populated with 32GB modules. Secondary module slot: Up to size 2280 modules Secondary modules of 256GB were purchased for dedicated ceph disks. Once operating system, kubernetes and ceph were installed, ceph gave space threshold warnings for the boot device, so 32GB proved too small for the boot device. With Ubuntu Server 22.04 minimised, microk8s and ceph installed and configured and the baseline application workload deployed, ceph MON_DISK_LOW health checks were failing. Primary modules were therefore upgraded to 128GB. With 256GB allocated to each ceph node, with 3 replicas of each object stored, safe cluster size is 170GB. Drive issues Availability of M.2 SATA SSDs is limited. M.2 NVME SSDs, which are more easily available than the SATAs are not supported. Availability of M.2 size 2242 M.2 modules is limited, the 2280 size modules being more easily available. Some of the t630s devices did not support adjusting the BIOS to boot from the secondary module slot, requiring a 2242 size boot device module. Stock of each of the modules is limited. Online ordering cancellations due to availability happened more than once. As a result of these constraints, some modules were over specified for their purpose, but for all devices, at least 128GB was assigned to the boot SSD. NOTE: The UK refurbished / second hand parts online market is easy, quick and reliable. Ebay would be good to have in SA. RAM The t630 has two DDR4 RAM slots. The devices purchased were populated with one 8GB module. An additional 16GB module was purchased to make up for a total of 24 GB. A minimum of 256 MB RAM is allocated to GPU. BIOS configuration reduced this from the default of 1 GB. Scaling up would be easy while DDR4 RAM is available, first replacing the 8GB modules with e.g. 32GB modules. Maximum supported RAM for a three node cluster would be 191GB, once dedicated GPU RAM is considered. Example Pricing: SA t630 unit price: R900 M.2 SATA 256GB SSD: R469 M.2 SATA 128GB SSD: R339 16GB DDR4 RAM: R899 Node cost: R2607 == \u00a3116 Example Pricing: UK t630 unit price: \u00a335 (1 ordered) M.2 SATA 2242 256GB SSD: \u00a318.66 (3 ordered) M.2 SATA 2280 128GB SSD: \u00a313.95 (3 ordered) 16GB DDR4 RAM: \u00a319.99 (3 ordered) Node cost: \u00a388 == R2125 SSD pricing m.2 SATA 128GB \u00a314 : \u00a3112/TB 256GB \u00a320 : \u00a380/TB 512GB \u00a330 : \u00a360/TB 1TB \u00a355 : \u00a355/TB 2TB \u00a3100 : \u00a350/TB m.2 nvme 215 GB \u00a325 : 100 1 TB \u00a353 2 TB \u00a3120 : 60 4 TB \u00a3233 : 58 References HP t630 specs: https://support.hp.com/za-en/document/c05240287 Ceph storage capacity calculator: https://florian.ca/ceph-calculator/","title":"Costing"},{"location":"inventoryCosting/#costing","text":"","title":"Costing"},{"location":"inventoryCosting/#production-hardware","text":"","title":"Production hardware"},{"location":"inventoryCosting/#hardware-selection","text":"The following criteria were used to short-list potential hardware: DDR4 RAM capacity No of CPU Cores, and processor speed SSD module capacity Recovered or second hand hardware Small form factor Low noise The HP t630 meets these requirements, although has a limitation of only supporting SATA SSDs. At the time of this project there are many units available, as they were popular for scaled call centre and office use. These varied widely in price. Those without power supply and cable are not of use, so check before ordering. The t630s purchased for build of cluster nodes have the following capacities: 4 X 2.2GHz CPU cores (AMD GX-420GI) 2 X SODIMM DDR4 RAM slots (Max capacity 64GB RAM) 2 X M.2 SATA SSD slots (1 X 2242 max modules, 1 X 2280 max modules)","title":"Hardware selection"},{"location":"inventoryCosting/#drives","text":"The t630 has two M.2 SATA slots: Primary module slot: Up to size 2242 modules. The devices purchased were populated with 32GB modules. Secondary module slot: Up to size 2280 modules Secondary modules of 256GB were purchased for dedicated ceph disks. Once operating system, kubernetes and ceph were installed, ceph gave space threshold warnings for the boot device, so 32GB proved too small for the boot device. With Ubuntu Server 22.04 minimised, microk8s and ceph installed and configured and the baseline application workload deployed, ceph MON_DISK_LOW health checks were failing. Primary modules were therefore upgraded to 128GB. With 256GB allocated to each ceph node, with 3 replicas of each object stored, safe cluster size is 170GB.","title":"Drives"},{"location":"inventoryCosting/#drive-issues","text":"Availability of M.2 SATA SSDs is limited. M.2 NVME SSDs, which are more easily available than the SATAs are not supported. Availability of M.2 size 2242 M.2 modules is limited, the 2280 size modules being more easily available. Some of the t630s devices did not support adjusting the BIOS to boot from the secondary module slot, requiring a 2242 size boot device module. Stock of each of the modules is limited. Online ordering cancellations due to availability happened more than once. As a result of these constraints, some modules were over specified for their purpose, but for all devices, at least 128GB was assigned to the boot SSD. NOTE: The UK refurbished / second hand parts online market is easy, quick and reliable. Ebay would be good to have in SA.","title":"Drive issues"},{"location":"inventoryCosting/#ram","text":"The t630 has two DDR4 RAM slots. The devices purchased were populated with one 8GB module. An additional 16GB module was purchased to make up for a total of 24 GB. A minimum of 256 MB RAM is allocated to GPU. BIOS configuration reduced this from the default of 1 GB. Scaling up would be easy while DDR4 RAM is available, first replacing the 8GB modules with e.g. 32GB modules. Maximum supported RAM for a three node cluster would be 191GB, once dedicated GPU RAM is considered.","title":"RAM"},{"location":"inventoryCosting/#example-pricing-sa","text":"t630 unit price: R900 M.2 SATA 256GB SSD: R469 M.2 SATA 128GB SSD: R339 16GB DDR4 RAM: R899 Node cost: R2607 == \u00a3116","title":"Example Pricing: SA"},{"location":"inventoryCosting/#example-pricing-uk","text":"t630 unit price: \u00a335 (1 ordered) M.2 SATA 2242 256GB SSD: \u00a318.66 (3 ordered) M.2 SATA 2280 128GB SSD: \u00a313.95 (3 ordered) 16GB DDR4 RAM: \u00a319.99 (3 ordered) Node cost: \u00a388 == R2125","title":"Example Pricing: UK"},{"location":"inventoryCosting/#ssd-pricing","text":"","title":"SSD pricing"},{"location":"inventoryCosting/#m2-sata","text":"128GB \u00a314 : \u00a3112/TB 256GB \u00a320 : \u00a380/TB 512GB \u00a330 : \u00a360/TB 1TB \u00a355 : \u00a355/TB 2TB \u00a3100 : \u00a350/TB","title":"m.2 SATA"},{"location":"inventoryCosting/#m2-nvme","text":"215 GB \u00a325 : 100 1 TB \u00a353 2 TB \u00a3120 : 60 4 TB \u00a3233 : 58","title":"m.2 nvme"},{"location":"inventoryCosting/#references","text":"HP t630 specs: https://support.hp.com/za-en/document/c05240287 Ceph storage capacity calculator: https://florian.ca/ceph-calculator/","title":"References"},{"location":"inventoryHosts/","text":"Hosts Inventory This page provides convenience listings of hosts file entries, and details of devices not already listed. hostnames relevant to the podzone project DNS domains hosted DynDns have been in use for years (the first paid for service was ordered in 2008) and will be used further for this project. Hostnames for minimum viable product southern.podzone.net musings.thruhere.net qsolutions.endoftheinternet.org docs.podzone.net mottttspot.servegame.org Hostnames configured for future use central.podzone.net control.podzone.net dev.podzone.net east.podzone.net eastern.podzone.net north.podzone.net northern.podzone.net west.podzone.net western.podzone.net Hostnames made redundant These sites are becoming redundant with the MVP implementation, and can be cleaned up: colley.endoftheinternet.org poc.endoftheinternet.org qapps.does-it.net Ingress hosts Ingress hosts make use of the DNS entries defined above. southern.podzone.net is a wildcard entry used by some of these. https://musings.thruhere.net : Routing to Apache instance for serving a static web site. https://qsolutions.endoftheinternet.org : Routing to a Zope application server, serving QSolutions Applications. https://control.southern.podzone.net : Routing to kubernetes API. https://db.southern.podzone.net : Routing to database GUI console. https://ceph.southern.podzone.net:8443/ : Routing to Ceph dashboard. IP Address Management: southern The internal network uses the 192.168.0.0/24 subnet, providing 256 unique IP addresses. The first set are assigned to the DHCP server for allocation, allowing layer 2 load balanced routers to be defined in the same subnet. Static IPs are assigned to all kubernetes hosts, configured on the router as static, on initial lease. 192.168.0.2 - 192.168.0.99 : Addresses assigned to the router DHCP server 192.168.0.104 - 102.168.0.111 : ( 192.168.0.104/29 ) Wireguard 192.168.0.131 - 192.168.0.140 : L2 load-balancer IP address range for dev on bare metal 192.168.0.141 - 192.168.0.150 : L2 load-balancer IP address range for dev on virtual servers 192.168.0.151 - 192.168.0.151 : L2 load-balancer IP address range for production (southcluster) 192.168.0.152 - 192.168.0.152 : L2 load-balancer IP address range for production (northcluster) 192.168.0.160 : Hercules static IP assignment 192.168.0.160 : Hercules static IP assignment IP Address Management: northern The internal network uses the 192.168.1.0/24 subnet, providing 256 unique IP addresses. The DHCP server currently serves all of these, requiring adjustment to allow a layer 2 load balanced routers to be defined in the same subnet. Static IPs are assigned to all kubernetes hosts, configured on the router as static, on initial lease. Since the subnet differs from the site the nodes were built on, rebuild of the ceph clusters will be required, and may be required for microk8s. 192.168.0.2 - 192.168.0.99 : Addresses assigned to the router DHCP server 192.168.0.152 - 192.168.0.152 : L2 load-balancer IP address range for production (northcluster) 192.168.1.220 - 192.168.1.220 : L2 L2 load-balancer IP address range for production (northcluster) UK /etc/hosts The text block below contains the full hosts file entry list, mainly useful on the admin client. Add /etc/hosts file entries on servers Add /private/etc/hosts for Mac clients Original Site # Workstations 192.168.0.6 sigiriya 192.168.0.18 dolmen 192.168.0.27 james # Cluster Nodes 192.168.0.4 habilis 192.168.0.14 antecessor 192.168.0.21 naledi 192.168.0.7 denisova 192.168.0.30 rudolfensis 192.168.0.33 ergaster Turned down: # Dynamic VM, will be assigned IP on startup: 192.168.0.47 ularu # Mac mini, rebuild for sale 192.168.0.52 bukit # IoT Devices 192.168.0.11 anasazi 192.168.0.28 levant 192.168.0.131 ovoo 192.168.0.13 balin 192.168.0.20 thorin 192.168.0.26 dwalin Northern interim site # Workstations 192.168.0.18 dolmen # VMs 192.168.1.115 ularu # Cluster Nodes 192.168.1.117 habilis 192.168.1.113 antecessor 192.168.1.112 naledi 192.168.1.130 neanderthal 192.168.1.131 erectus 192.168.1.137 floresiensis 192.168.1.134 rudolfensis 192.168.1.140 norham01 192.168.1.141 norham02 192.168.1.142 norham03 192.168.1.143 norham04","title":"Hosts Inventory"},{"location":"inventoryHosts/#hosts-inventory","text":"This page provides convenience listings of hosts file entries, and details of devices not already listed.","title":"Hosts Inventory"},{"location":"inventoryHosts/#hostnames-relevant-to-the-podzone-project","text":"DNS domains hosted DynDns have been in use for years (the first paid for service was ordered in 2008) and will be used further for this project.","title":"hostnames relevant to the podzone project"},{"location":"inventoryHosts/#hostnames-for-minimum-viable-product","text":"southern.podzone.net musings.thruhere.net qsolutions.endoftheinternet.org docs.podzone.net mottttspot.servegame.org","title":"Hostnames for minimum viable product"},{"location":"inventoryHosts/#hostnames-configured-for-future-use","text":"central.podzone.net control.podzone.net dev.podzone.net east.podzone.net eastern.podzone.net north.podzone.net northern.podzone.net west.podzone.net western.podzone.net","title":"Hostnames configured for future use"},{"location":"inventoryHosts/#hostnames-made-redundant","text":"These sites are becoming redundant with the MVP implementation, and can be cleaned up: colley.endoftheinternet.org poc.endoftheinternet.org qapps.does-it.net","title":"Hostnames made redundant"},{"location":"inventoryHosts/#ingress-hosts","text":"Ingress hosts make use of the DNS entries defined above. southern.podzone.net is a wildcard entry used by some of these. https://musings.thruhere.net : Routing to Apache instance for serving a static web site. https://qsolutions.endoftheinternet.org : Routing to a Zope application server, serving QSolutions Applications. https://control.southern.podzone.net : Routing to kubernetes API. https://db.southern.podzone.net : Routing to database GUI console. https://ceph.southern.podzone.net:8443/ : Routing to Ceph dashboard.","title":"Ingress hosts"},{"location":"inventoryHosts/#ip-address-management-southern","text":"The internal network uses the 192.168.0.0/24 subnet, providing 256 unique IP addresses. The first set are assigned to the DHCP server for allocation, allowing layer 2 load balanced routers to be defined in the same subnet. Static IPs are assigned to all kubernetes hosts, configured on the router as static, on initial lease. 192.168.0.2 - 192.168.0.99 : Addresses assigned to the router DHCP server 192.168.0.104 - 102.168.0.111 : ( 192.168.0.104/29 ) Wireguard 192.168.0.131 - 192.168.0.140 : L2 load-balancer IP address range for dev on bare metal 192.168.0.141 - 192.168.0.150 : L2 load-balancer IP address range for dev on virtual servers 192.168.0.151 - 192.168.0.151 : L2 load-balancer IP address range for production (southcluster) 192.168.0.152 - 192.168.0.152 : L2 load-balancer IP address range for production (northcluster) 192.168.0.160 : Hercules static IP assignment 192.168.0.160 : Hercules static IP assignment","title":"IP Address Management: southern"},{"location":"inventoryHosts/#ip-address-management-northern","text":"The internal network uses the 192.168.1.0/24 subnet, providing 256 unique IP addresses. The DHCP server currently serves all of these, requiring adjustment to allow a layer 2 load balanced routers to be defined in the same subnet. Static IPs are assigned to all kubernetes hosts, configured on the router as static, on initial lease. Since the subnet differs from the site the nodes were built on, rebuild of the ceph clusters will be required, and may be required for microk8s. 192.168.0.2 - 192.168.0.99 : Addresses assigned to the router DHCP server 192.168.0.152 - 192.168.0.152 : L2 load-balancer IP address range for production (northcluster) 192.168.1.220 - 192.168.1.220 : L2 L2 load-balancer IP address range for production (northcluster) UK","title":"IP Address Management: northern"},{"location":"inventoryHosts/#etchosts","text":"The text block below contains the full hosts file entry list, mainly useful on the admin client. Add /etc/hosts file entries on servers Add /private/etc/hosts for Mac clients","title":"/etc/hosts"},{"location":"inventoryHosts/#original-site","text":"# Workstations 192.168.0.6 sigiriya 192.168.0.18 dolmen 192.168.0.27 james # Cluster Nodes 192.168.0.4 habilis 192.168.0.14 antecessor 192.168.0.21 naledi 192.168.0.7 denisova 192.168.0.30 rudolfensis 192.168.0.33 ergaster Turned down: # Dynamic VM, will be assigned IP on startup: 192.168.0.47 ularu # Mac mini, rebuild for sale 192.168.0.52 bukit # IoT Devices 192.168.0.11 anasazi 192.168.0.28 levant 192.168.0.131 ovoo 192.168.0.13 balin 192.168.0.20 thorin 192.168.0.26 dwalin","title":"Original Site"},{"location":"inventoryHosts/#northern-interim-site","text":"# Workstations 192.168.0.18 dolmen # VMs 192.168.1.115 ularu # Cluster Nodes 192.168.1.117 habilis 192.168.1.113 antecessor 192.168.1.112 naledi 192.168.1.130 neanderthal 192.168.1.131 erectus 192.168.1.137 floresiensis 192.168.1.134 rudolfensis 192.168.1.140 norham01 192.168.1.141 norham02 192.168.1.142 norham03 192.168.1.143 norham04","title":"Northern interim site"},{"location":"inventoryIoT/","text":"IoT (Internet of Things) devices While unrelated to the podzone project, the following Raspberry Pis are also on the network. Only Levant participated in k8s cluster work. levant Raspberry Pi 4 B 1.8GHz Broadcom BCM2711, Quad Core Cortex-A72 4GB RAM Ubuntu Core 22 IP: 192.168.0.28 balin Model: Raspberry Pi Model B Rev 2 ARMv6-compatible processor rev 7 (v6l) MAC: B8-27-EB-AB-1A-F3 IP: 192.168.0.13 thorin Model: Raspberry Pi Model B Rev 2 ARMv6-compatible processor rev 7 (v6l) MAC: B8-27-EB-05-94-A7 IP: 192.168.0.20 dwalin Model: Zero W MAC: B8-27-EB-7C-FE-CA IP: 192.168.0.26 anasazi Model: Raspberry Pi 2 Model B Rev 1.1 Quad Core 1.2GHz Broadcom BCM2837 64bit CPU {4 X ARMv7 Processor rev 5 (v7l)} 1GB RAM IP: 192.168.0.11 MAC: B8-27-EB-BE-0D-EB","title":"IoT (Internet of Things) devices"},{"location":"inventoryIoT/#iot-internet-of-things-devices","text":"While unrelated to the podzone project, the following Raspberry Pis are also on the network. Only Levant participated in k8s cluster work.","title":"IoT (Internet of Things) devices"},{"location":"inventoryIoT/#levant","text":"Raspberry Pi 4 B 1.8GHz Broadcom BCM2711, Quad Core Cortex-A72 4GB RAM Ubuntu Core 22 IP: 192.168.0.28","title":"levant"},{"location":"inventoryIoT/#balin","text":"Model: Raspberry Pi Model B Rev 2 ARMv6-compatible processor rev 7 (v6l) MAC: B8-27-EB-AB-1A-F3 IP: 192.168.0.13","title":"balin"},{"location":"inventoryIoT/#thorin","text":"Model: Raspberry Pi Model B Rev 2 ARMv6-compatible processor rev 7 (v6l) MAC: B8-27-EB-05-94-A7 IP: 192.168.0.20","title":"thorin"},{"location":"inventoryIoT/#dwalin","text":"Model: Zero W MAC: B8-27-EB-7C-FE-CA IP: 192.168.0.26","title":"dwalin"},{"location":"inventoryIoT/#anasazi","text":"Model: Raspberry Pi 2 Model B Rev 1.1 Quad Core 1.2GHz Broadcom BCM2837 64bit CPU {4 X ARMv7 Processor rev 5 (v7l)} 1GB RAM IP: 192.168.0.11 MAC: B8-27-EB-BE-0D-EB","title":"anasazi"},{"location":"inventorySelection/","text":"Hardware Selection From a mail to a friend: I looked at 2nd hand PowerEdge servers. The issue is the hard drive caddys. Most of the PowerEdge servers I have seen second hand has had the HD caddy stripped. The HD caddy makes the drives hot-swappable, and is expensive, only used in enterprise gear. If you look at this deal for example: https://www.ebay.co.uk/itm/225945684989, it all looks good until you notice there are no RAM, HDs or caddys. I went for the HP thin client for the following reasons: - form factor - low noise - DDR4 RAM up to 64GB (poweredge is DDR3) - 4 CPU Cores (poweredge has 2 X 4 core CPUs) - 2.2GHz CPU (poweredge is around here as well, depending on model) - 2 X m.2 SATA SSD slots (poweredge uses SAS disks, good but expensive) With 3 units, you get a 12 Core cluster, up to 96 GB RAM, and 6 X M.2 SATA slots for distributed storage.","title":"Hardware Selection"},{"location":"inventorySelection/#hardware-selection","text":"From a mail to a friend: I looked at 2nd hand PowerEdge servers. The issue is the hard drive caddys. Most of the PowerEdge servers I have seen second hand has had the HD caddy stripped. The HD caddy makes the drives hot-swappable, and is expensive, only used in enterprise gear. If you look at this deal for example: https://www.ebay.co.uk/itm/225945684989, it all looks good until you notice there are no RAM, HDs or caddys. I went for the HP thin client for the following reasons: - form factor - low noise - DDR4 RAM up to 64GB (poweredge is DDR3) - 4 CPU Cores (poweredge has 2 X 4 core CPUs) - 2.2GHz CPU (poweredge is around here as well, depending on model) - 2 X m.2 SATA SSD slots (poweredge uses SAS disks, good but expensive) With 3 units, you get a 12 Core cluster, up to 96 GB RAM, and 6 X M.2 SATA slots for distributed storage.","title":"Hardware Selection"},{"location":"inventoryServers/","text":"Server Inventory As cluster build-out has progressed, devices and their resource configuration have been standardised. Detail of the original development environments has since been refactored out of this documentation. Cluster nodes Cluster nodes are HP t630 Thin Clients, for which the specifications are available from HP online: https://support.hp.com/za-en/document/c05240287 . The devices were purchased second hand, and typically had limited RAM and disk installed (e.g. 32GB disk, and 8GB DDR4 RAM). RAM and disk were installed, giving the following common node configuration: HP t360 specs HP t630 Thinclient OS: Ubuntu Server 22.04 minimised AMD Quad Core CPU @ 2.0 Ghz 24Gb DDR4 RAM 128 GB M.2 SATA SSDs 256 GB M.2 SATA SSDs northern zone solution http request router In order to support multiple k8s clusters on the northern network served by a single static IP assigned by the ISP, without any cluster depending on another, an HP t520 device is added to the solution to serve a reverse proxy (apache) function. Routing of https requests at the proxy is based on domain name. In addition, the domain name IP address management function (ddclient) and tls certificate management for the reverse proxy (certbot) are provided on this device: rudolfensis: t520; apache, ddclient, certbot Kubernetes nodes The northern zone solution has the following node configuration: naledi: t630; k8s, ceph habilis: t630; k8s, ceph antecessor: t630; k8s, ceph neanderthal: t630; k8s, ceph erectus: t630; k8s, ceph floresiensis: t630; k8s, ceph norham01: t630; k8s, ceph norham02: t630; k8s, ceph norham03: t630; k8s, ceph norham04: t630; k8s, ceph Cluster resource totals Total t630 CPU: 40 cores Total t630 RAM: 200 GB Total t630 Raw Disk: 2.5 TB southern zone solution denisova: t630; k8s, ceph, ddclient, ularu rudolfensis: t630; k8s, ceph ergaster: t630; k8s, ceph","title":"Server Inventory"},{"location":"inventoryServers/#server-inventory","text":"As cluster build-out has progressed, devices and their resource configuration have been standardised. Detail of the original development environments has since been refactored out of this documentation.","title":"Server Inventory"},{"location":"inventoryServers/#cluster-nodes","text":"Cluster nodes are HP t630 Thin Clients, for which the specifications are available from HP online: https://support.hp.com/za-en/document/c05240287 . The devices were purchased second hand, and typically had limited RAM and disk installed (e.g. 32GB disk, and 8GB DDR4 RAM). RAM and disk were installed, giving the following common node configuration:","title":"Cluster nodes"},{"location":"inventoryServers/#hp-t360-specs","text":"HP t630 Thinclient OS: Ubuntu Server 22.04 minimised AMD Quad Core CPU @ 2.0 Ghz 24Gb DDR4 RAM 128 GB M.2 SATA SSDs 256 GB M.2 SATA SSDs","title":"HP t360 specs"},{"location":"inventoryServers/#northern-zone-solution","text":"","title":"northern zone solution"},{"location":"inventoryServers/#http-request-router","text":"In order to support multiple k8s clusters on the northern network served by a single static IP assigned by the ISP, without any cluster depending on another, an HP t520 device is added to the solution to serve a reverse proxy (apache) function. Routing of https requests at the proxy is based on domain name. In addition, the domain name IP address management function (ddclient) and tls certificate management for the reverse proxy (certbot) are provided on this device: rudolfensis: t520; apache, ddclient, certbot","title":"http request router"},{"location":"inventoryServers/#kubernetes-nodes","text":"The northern zone solution has the following node configuration: naledi: t630; k8s, ceph habilis: t630; k8s, ceph antecessor: t630; k8s, ceph neanderthal: t630; k8s, ceph erectus: t630; k8s, ceph floresiensis: t630; k8s, ceph norham01: t630; k8s, ceph norham02: t630; k8s, ceph norham03: t630; k8s, ceph norham04: t630; k8s, ceph","title":"Kubernetes nodes"},{"location":"inventoryServers/#cluster-resource-totals","text":"Total t630 CPU: 40 cores Total t630 RAM: 200 GB Total t630 Raw Disk: 2.5 TB","title":"Cluster resource totals"},{"location":"inventoryServers/#southern-zone-solution","text":"denisova: t630; k8s, ceph, ddclient, ularu rudolfensis: t630; k8s, ceph ergaster: t630; k8s, ceph","title":"southern zone solution"},{"location":"inventorySite/","text":"Site Inventory South Africa (SA) SA: Current Main High Availability is achieved with k8s and ceph HA clustering. Shut Down #1: Node 1 Pack for UK: Before 20240113 Shut Down #2: Node 2 Pack for UK: Before 20240113 Shut Down #2: Node 3 Pack for UK: Before 20240116 12pm SA: Temporary Main Site, no High Availability Availability: {Single node k8s, no ceph} OR {3 Node complete cluster} Start Up: Before 20240113 Shut Down: After 20240120 United Kingdom (UK) High availability: k8s and ceph Start Up #1: Nodes 3 and 4: After 20240116 Start Up #2: Node 1: After 20240119 timeline title Production Traffic 20240113 : SA Current 20240114 : SA Temporary 20240122 : UK Southampton Temporary 20240130 : SA Current Network Shutdown 20240701 : UK Southampton Permanent","title":"Site Inventory"},{"location":"inventorySite/#site-inventory","text":"","title":"Site Inventory"},{"location":"inventorySite/#south-africa-sa","text":"","title":"South Africa (SA)"},{"location":"inventorySite/#sa-current-main","text":"High Availability is achieved with k8s and ceph HA clustering. Shut Down #1: Node 1 Pack for UK: Before 20240113 Shut Down #2: Node 2 Pack for UK: Before 20240113 Shut Down #2: Node 3 Pack for UK: Before 20240116 12pm","title":"SA: Current Main"},{"location":"inventorySite/#sa-temporary-main-site-no-high-availability","text":"Availability: {Single node k8s, no ceph} OR {3 Node complete cluster} Start Up: Before 20240113 Shut Down: After 20240120","title":"SA: Temporary Main Site, no High Availability"},{"location":"inventorySite/#united-kingdom-uk","text":"High availability: k8s and ceph Start Up #1: Nodes 3 and 4: After 20240116 Start Up #2: Node 1: After 20240119 timeline title Production Traffic 20240113 : SA Current 20240114 : SA Temporary 20240122 : UK Southampton Temporary 20240130 : SA Current Network Shutdown 20240701 : UK Southampton Permanent","title":"United Kingdom (UK)"},{"location":"inventoryVm/","text":"Virtual Machine Inventory Virtual server: ularu Ularu is the single instance service the full current workload. It represents an unacceptable single point of failure. It is to be turned down once MVP implementation is complete. Virtualbox on bukit Ubuntu 16.04.7 Zope Version 2.13.24 (python 2.7.11, linux2) QApps release 3.0 RAM assignment: 1.8GB CPU assignment: 1 IP: 192.168.0.3 MAC: 08-00-27-C3-E9-F6 ssh colleymj@ularu -p 2222 Virtualbox dev nodes Before the production servers were procured, \"prod\" (not yet feature complete, but servicing web) was run on the currently labelled \"dev\" infrastructure, leaving a need for dev work without compromising the rolled out solution. To support this, a set of virtual machines, running on james, were deployed. These instances are managed as follows: Vagrant to spin up the virtualbox machines, and prepare ssh access Vagrant box image: https://app.vagrantup.com/techchad2022/boxes/ubuntu2204 Ansible for microk8s installation and configuration After production server procurement, these hosts are turned down, and hostnames and IP addresses reclaimed. denisova RAM assignment: 4GB CPU assignment: 4 MAC: 08-00-27-19-87-6B IP: 192.168.0.5 rudolfensis RAM assignment: 2GB CPU assignment: 1 MAC: 08-00-27-1C-B8-7E IP: 192.168.0.16 ergaster RAM assignment: 2GB CPU assignment: 1 MAC: 08-00-27-5D-14-DB IP: 192.168.0.17 floresiensis RAM assignment: 1GB CPU assignment: 1 MAC: 08-00-27-8A-AA-C5 IP: 192.168.0.19 Multipass dev nodes These are named place-holders for a MicroCloud exercise. multipass instance: ardipithecus multipass instance: australopithecus multipass instance: tugenensis multipass instance: tchadensis","title":"Virtual Machine Inventory"},{"location":"inventoryVm/#virtual-machine-inventory","text":"","title":"Virtual Machine Inventory"},{"location":"inventoryVm/#virtual-server-ularu","text":"Ularu is the single instance service the full current workload. It represents an unacceptable single point of failure. It is to be turned down once MVP implementation is complete. Virtualbox on bukit Ubuntu 16.04.7 Zope Version 2.13.24 (python 2.7.11, linux2) QApps release 3.0 RAM assignment: 1.8GB CPU assignment: 1 IP: 192.168.0.3 MAC: 08-00-27-C3-E9-F6 ssh colleymj@ularu -p 2222","title":"Virtual server: ularu"},{"location":"inventoryVm/#virtualbox-dev-nodes","text":"Before the production servers were procured, \"prod\" (not yet feature complete, but servicing web) was run on the currently labelled \"dev\" infrastructure, leaving a need for dev work without compromising the rolled out solution. To support this, a set of virtual machines, running on james, were deployed. These instances are managed as follows: Vagrant to spin up the virtualbox machines, and prepare ssh access Vagrant box image: https://app.vagrantup.com/techchad2022/boxes/ubuntu2204 Ansible for microk8s installation and configuration After production server procurement, these hosts are turned down, and hostnames and IP addresses reclaimed.","title":"Virtualbox dev nodes"},{"location":"inventoryVm/#denisova","text":"RAM assignment: 4GB CPU assignment: 4 MAC: 08-00-27-19-87-6B IP: 192.168.0.5","title":"denisova"},{"location":"inventoryVm/#rudolfensis","text":"RAM assignment: 2GB CPU assignment: 1 MAC: 08-00-27-1C-B8-7E IP: 192.168.0.16","title":"rudolfensis"},{"location":"inventoryVm/#ergaster","text":"RAM assignment: 2GB CPU assignment: 1 MAC: 08-00-27-5D-14-DB IP: 192.168.0.17","title":"ergaster"},{"location":"inventoryVm/#floresiensis","text":"RAM assignment: 1GB CPU assignment: 1 MAC: 08-00-27-8A-AA-C5 IP: 192.168.0.19","title":"floresiensis"},{"location":"inventoryVm/#multipass-dev-nodes","text":"These are named place-holders for a MicroCloud exercise.","title":"Multipass dev nodes"},{"location":"inventoryVm/#multipass-instance-ardipithecus","text":"","title":"multipass instance: ardipithecus"},{"location":"inventoryVm/#multipass-instance-australopithecus","text":"","title":"multipass instance: australopithecus"},{"location":"inventoryVm/#multipass-instance-tugenensis","text":"","title":"multipass instance: tugenensis"},{"location":"inventoryVm/#multipass-instance-tchadensis","text":"","title":"multipass instance: tchadensis"},{"location":"inventoryWorkstation/","text":"Workstation config The purpose of this page is to keep some track of software installations required for build, troubleshooting and administration of the solution. Some of the tools are described in the Tooling topic above, under Administration . Tooling Tools installed on Dolmen for cluster build and management: ansible kubectl calicoctl k8s helm jq octant openssl vagrant Connectivity --- title: southern.podzone.net On-premise workstation connectivity --- graph TD kubectl --- microk8sW2 calicoctl --- kubectl k9s --- kubectl ssh --- james ssh --- sigiriya ssh --- bukit ssh --- anasazi ssh --- levant ansible --- ssh subgraph dolmen workstation kubectl calicoctl ssh k9s ansible end subgraph microk8s Cluster subgraph Control Plane subgraph james microk8sW2{{microk8s}} end end subgraph sigiriya microk8sW1{{microk8s}} end subgraph bukit microk8sC2{{microk8s}} end end subgraph k3s Cluster subgraph levant k3s1{{k3s}} end subgraph anasazi k3s2{{k3s}} end end Hardware configuration MacBook Pro Apple M1 16GB RAM macOs Ventura 13.5.2","title":"Workstation config"},{"location":"inventoryWorkstation/#workstation-config","text":"The purpose of this page is to keep some track of software installations required for build, troubleshooting and administration of the solution. Some of the tools are described in the Tooling topic above, under Administration .","title":"Workstation config"},{"location":"inventoryWorkstation/#tooling","text":"Tools installed on Dolmen for cluster build and management: ansible kubectl calicoctl k8s helm jq octant openssl vagrant","title":"Tooling"},{"location":"inventoryWorkstation/#connectivity","text":"--- title: southern.podzone.net On-premise workstation connectivity --- graph TD kubectl --- microk8sW2 calicoctl --- kubectl k9s --- kubectl ssh --- james ssh --- sigiriya ssh --- bukit ssh --- anasazi ssh --- levant ansible --- ssh subgraph dolmen workstation kubectl calicoctl ssh k9s ansible end subgraph microk8s Cluster subgraph Control Plane subgraph james microk8sW2{{microk8s}} end end subgraph sigiriya microk8sW1{{microk8s}} end subgraph bukit microk8sC2{{microk8s}} end end subgraph k3s Cluster subgraph levant k3s1{{k3s}} end subgraph anasazi k3s2{{k3s}} end end","title":"Connectivity"},{"location":"inventoryWorkstation/#hardware-configuration","text":"MacBook Pro Apple M1 16GB RAM macOs Ventura 13.5.2","title":"Hardware configuration"},{"location":"referenceLightingControl/","text":"Lighting control http://elm-chan.org/works/vlp/report_e.html https://www.laserfocusworld.com/software-accessories/positioning-support-accessories/article/16556839/beam-steering-parallel-projection-galvo-scanning-enables-materials-processing-of-freeform-surfaces https://www.ilda.com/technical.htm https://www.ilda.com/controllerfaq.htm https://www.laserworld.com/en/glossary-definitions/79-i/1316-ilda-eng.html https://en.wikipedia.org/wiki/Entertainment_Services_and_Technology_Association https://www.laserworld.com/en/laser-technical-faq/1131-can-i-use-dmx-capable-show-laser-systems-in-master-slave-mode.html https://en.wikipedia.org/wiki/DMX512 https://www.instructables.com/Raspberry-Pi-as-a-DMX-light-controller/ https://github.com/mcallegari/qlcplus https://www.instructables.com/How-to-Use-DMX512-RDM-With-Raspberry-Pi/ https://www.qlcplus.org/download https://developer.valvesoftware.com/wiki/DMX/Binary https://developer.valvesoftware.com/wiki/DMX https://www.facebook.com/SubsonicSystems","title":"Lighting control"},{"location":"referenceLightingControl/#lighting-control","text":"http://elm-chan.org/works/vlp/report_e.html https://www.laserfocusworld.com/software-accessories/positioning-support-accessories/article/16556839/beam-steering-parallel-projection-galvo-scanning-enables-materials-processing-of-freeform-surfaces https://www.ilda.com/technical.htm https://www.ilda.com/controllerfaq.htm https://www.laserworld.com/en/glossary-definitions/79-i/1316-ilda-eng.html https://en.wikipedia.org/wiki/Entertainment_Services_and_Technology_Association https://www.laserworld.com/en/laser-technical-faq/1131-can-i-use-dmx-capable-show-laser-systems-in-master-slave-mode.html https://en.wikipedia.org/wiki/DMX512 https://www.instructables.com/Raspberry-Pi-as-a-DMX-light-controller/ https://github.com/mcallegari/qlcplus https://www.instructables.com/How-to-Use-DMX512-RDM-With-Raspberry-Pi/ https://www.qlcplus.org/download https://developer.valvesoftware.com/wiki/DMX/Binary https://developer.valvesoftware.com/wiki/DMX https://www.facebook.com/SubsonicSystems","title":"Lighting control"},{"location":"referencesApplication/","text":"Application references These references are related to the build of the workload: Serving Web, Zope, Postgres, and Plone, and Internet access to these resources. Applications https://3.docs.plone.org/manage/deploying/backup.html https://6.docs.plone.org/install/containers/images/index.html https://artifacthub.io/packages/helm/bitnami/apache https://bluedynamics.com/blog/jens/the-zope-2-virtualhostmonster-how-it-works-internally.html https://carlos.mendible.com/2019/02/10/kubernetes-mount-file-pod-with-configmap/ https://charmhub.io/postgresql/docs/t-setup-environment?channel=14/stable https://cloudinfrastructureservices.co.uk/apache-web-server-security-and-hardening-best-practices-checklist/ https://community.plone.org/t/how-to-backup-and-restore-plone-files-and-images/12283/3 https://community.plone.org/t/postgres-with-plone/7530/3 https://dev.to/codewithml/setup-adminer-with-docker-for-database-management-4dd2 https://devpress.csdn.net/ubuntu/62e7a40b907d7d59d1c8d15b.html https://httpd.apache.org/docs/2.4/en/mod/mod_access_compat.html https://httpd.apache.org/docs/2.4/en/mod/mod_auth_basic.html https://httpd.apache.org/docs/2.4/mod/mod_alias.html https://httpd.apache.org/docs/2.4/mod/mod_env.html https://httpd.apache.org/docs/2.4/mod/mod_filter.html https://httpd.apache.org/docs/2.4/mod/mod_headers.html https://httpd.apache.org/docs/2.4/mod/mod_mime.html https://httpd.apache.org/docs/2.4/mod/mod_reqtimeout.html https://httpd.apache.org/docs/2.4/mod/mod_status.html https://httpd.apache.org/docs/2.4/mod/mod_unixd.html https://httpd.apache.org/docs/2.4/mod/mod_version.html https://httpd.apache.org/docs/current/mod/mod_setenvif.html https://hub.docker.com/_/adminer/ https://hub.docker.com/_/plone/ https://hub.docker.com/_/plone https://hub.docker.com/_/postgres https://hub.docker.com/r/eeacms/zope-2-7-2 https://hub.docker.com/r/mryattle/zope2 https://hub.docker.com/r/robcast/legacy-zope https://pypi.org/project/bluebream/ https://pypi.org/project/Products.ZPsycopgDA/ https://pypi.org/project/psycopg2/#files https://pypi.org/project/z3c.sqlalchemy/ https://www.postgresql.org/download/linux/ubuntu/ https://www.psycopg.org/ https://www.psycopg.org/psycopg3/docs/basic/install.html https://docs.sqlalchemy.org/en/20/intro.html#installation https://github.com/plone/cookiecutter-zope-instance https://geekflare.com/apache-web-server-hardening-security/ https://github.com/canonical/postgresql-k8s-operator/tree/main https://github.com/canonical/postgresql-k8s-operator https://zope.readthedocs.io/en/latest/zopebook/RelationalDatabases.html https://zpsycopgda.readthedocs.io/en/latest/installation.html https://github.com/wodby/adminer https://github.com/zopefoundation/Products.SQLAlchemyDA https://gitlab.gwdg.de/MPIWG/research-it/docker-legacy-zope https://kodekloud.com/blog/deploy-postgresql-kubernetes/ https://thanhtungvo.medium.com/build-git-sync-for-side-car-container-in-kubernetes-4ee51bda84f0 https://www.tutorialspoint.com/10-apache-web-server-security-and-hardening-tips https://www.crunchydata.com/blog/stateful-postgres-storage-using-kubernetes https://www.devopstricks.in/deploy-apache-kubernetes/ https://github.com/CrunchyData/postgres-operator https://squidfunk.github.io/mkdocs-material/publishing-your-site/ https://www.adminer.org/ https://www.henryxieblogs.com/2019/04/use-configmap-to-store-httpconf-for.html https://www.digitalocean.com/community/tutorials/how-to-install-and-use-zope-2-and-postgresql-on-ubuntu-13-10 https://www.linuxjournal.com/article/5849 https://www.makeuseof.com/md-block-render-markdown-web-page/ https://www.mkdocs.org/ https://www.mkdocs.org/user-guide/configuration/ https://zope.readthedocs.io/en/latest/zopebook/InstallingZope.html https://zope.readthedocs.io/en/latest/ https://gitlab.gwdg.de/MPIWG/research-it/docker-legacy-zope/-/blob/master/legacy-zope-2.13/Dockerfile?ref_type=heads https://www.zope.dev/world.html https://hub.docker.com/r/robcast/legacy-zope Network, Ingress and Certification Management https://benbrougher.tech/posts/microk8s-ingress/ https://akyriako.medium.com/ssl-tls-for-kubernetes-with-cert-manager-and-lets-encrypt-87846ca74cb4 https://betterprogramming.pub/strato-dyndns-controller-for-kubernetes-9a59ae426c5b https://betterprogramming.pub/how-to-use-kubernetes-secrets-for-storing-sensitive-config-data-f3c5e7d11c15 https://brewpackets.blog/2023/02/20/calico-and-metallb-working-together-with-bgp/ https://cert-manager.io/docs/concepts/issuer/ https://cert-manager.io/docs/configuration/acme/ https://cert-manager.io/docs/configuration/acme/dns01/ https://cert-manager.io/docs/configuration/acme/http01/ https://cert-manager.io/docs/installation/ https://cert-manager.io/docs/troubleshooting/ https://cert-manager.io/docs/troubleshooting/acme/ https://cert-manager.io/docs/usage/ingress/ https://cloud.google.com/kubernetes-engine/docs/how-to/load-balance-ingress https://discuss.linuxcontainers.org/t/simple-bridge-from-lxd-to-hosts-private-network-with-static-ip/14754 https://docs.docker.com/network/drivers/macvlan/ https://docs.docker.com/network/network-tutorial-macvlan/ https://docs.nginx.com/nginx-ingress-controller/configuration/global-configuration/configmap-resource/ https://docs.tigera.io/calico/latest/about https://docs.tigera.io/calico/latest/getting-started/kubernetes/ https://docs.tigera.io/calico/latest/getting-started/kubernetes/microk8s https://docs.tigera.io/calico/latest/getting-started/kubernetes/quickstart https://docs.tigera.io/calico/latest/network-policy/services/kubernetes-node-ports#before-you-begin https://docs.tigera.io/calico/latest/network-policy/services/kubernetes-node-ports https://docs.tigera.io/calico/latest/networking/configuring/bgp https://docs.tigera.io/calico/latest/networking/configuring/workloads-outside-cluster https://docs.tigera.io/calico/latest/networking/ipam/ip-autodetection https://docs.tigera.io/calico/latest/networking/openstack/ https://docs.tigera.io/calico/latest/operations/calicoctl/install https://docs.tigera.io/calico/latest/operations/install-apiserver https://docs.tigera.io/calico/latest/reference/calicoctl/overview https://docs.tigera.io/calico/latest/reference/host-endpoints/pre-dnat https://docs.tigera.io/calico/latest/reference/resources/globalnetworkpolicy https://docs.tigera.io/calico/latest/reference/resources/hostendpoint https://docs.tigera.io/calico/latest/reference/resources/profile https://metallb.org/ https://metallb.org/usage/ https://medium.com/@chamilad/load-balancing-and-reverse-proxying-for-kubernetes-services-f03dd0efe80 https://medium.com/avmconsulting-blog/encrypting-the-certificate-for-kubernetes-lets-encrypt-805d2bf88b2a https://opensource.byjg.com/devops/docker-easy-haproxy/ https://opensource.byjg.com/devops/docker-easy-haproxy/microk8s.md https://vmwire.com/2020/09/29/using-lets-encrypt-certificates-with-cloud-director/ https://vmwire.com/2022/02/07/running-kubernetes-dashboard-with-signed-certificates/ https://www.frakkingsweet.com/metallb-calico-bgp-loadbalancer-and-loadbalancer-ips/ https://earthly.dev/blog/setup-reverse-proxy-kubernetes-nginx/ https://github.com/canonical/manual-tls-certificates-operator/tree/main https://kndrck.co/posts/microk8s_ingress_example/ https://mvysny.github.io/microk8s-lets-encrypt/ https://phoenixnap.com/kb/microk8s-ingress https://raw.githubusercontent.com/kubernetes/ingress-nginx/130af33510882ae62c89277f2ad0baca50e0fafe/deploy/static/mandatory.yaml https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.2.0/deploy/static/provider/cloud/deploy.yaml https://subscription.packtpub.com/book/cloud-and-networking/9781785287916/1/ch01lvl1sec12/connecting-two-networks https://www.adaltas.com/en/2022/09/08/kubernetes-metallb-nginx/ https://help.dyn.com/tsig/ https://help.ubuntu.com/community/DynamicDNS https://sourceforge.net/projects/ddclient/ https://platform9.com/learn/v1.0/tutorials/nginix-controller-via-yaml https://www.datree.io/helm-chart/ddns-updater-truecharts Wordpress https://kubeapps.dev/docs/latest/tutorials/getting-started/ https://github.com/jvalderrama/helm-training https://kubeapps.dev/docs/latest/tutorials/getting-started/ https://kubeapps.dev/docs/latest/howto/dashboard/ https://bitnami.com/stack/wordpress/helm Minecraft https://docker-minecraft-server.readthedocs.io/en/latest/ https://hub.docker.com/r/itzg/minecraft-server/ https://github.com/solarhess/kubernetes-minecraft-server https://github.com/solarhess/kubernetes-minecraft-server/blob/master/helm/minecraft/templates/volume.yaml","title":"Application references"},{"location":"referencesApplication/#application-references","text":"These references are related to the build of the workload: Serving Web, Zope, Postgres, and Plone, and Internet access to these resources.","title":"Application references"},{"location":"referencesApplication/#applications","text":"https://3.docs.plone.org/manage/deploying/backup.html https://6.docs.plone.org/install/containers/images/index.html https://artifacthub.io/packages/helm/bitnami/apache https://bluedynamics.com/blog/jens/the-zope-2-virtualhostmonster-how-it-works-internally.html https://carlos.mendible.com/2019/02/10/kubernetes-mount-file-pod-with-configmap/ https://charmhub.io/postgresql/docs/t-setup-environment?channel=14/stable https://cloudinfrastructureservices.co.uk/apache-web-server-security-and-hardening-best-practices-checklist/ https://community.plone.org/t/how-to-backup-and-restore-plone-files-and-images/12283/3 https://community.plone.org/t/postgres-with-plone/7530/3 https://dev.to/codewithml/setup-adminer-with-docker-for-database-management-4dd2 https://devpress.csdn.net/ubuntu/62e7a40b907d7d59d1c8d15b.html https://httpd.apache.org/docs/2.4/en/mod/mod_access_compat.html https://httpd.apache.org/docs/2.4/en/mod/mod_auth_basic.html https://httpd.apache.org/docs/2.4/mod/mod_alias.html https://httpd.apache.org/docs/2.4/mod/mod_env.html https://httpd.apache.org/docs/2.4/mod/mod_filter.html https://httpd.apache.org/docs/2.4/mod/mod_headers.html https://httpd.apache.org/docs/2.4/mod/mod_mime.html https://httpd.apache.org/docs/2.4/mod/mod_reqtimeout.html https://httpd.apache.org/docs/2.4/mod/mod_status.html https://httpd.apache.org/docs/2.4/mod/mod_unixd.html https://httpd.apache.org/docs/2.4/mod/mod_version.html https://httpd.apache.org/docs/current/mod/mod_setenvif.html https://hub.docker.com/_/adminer/ https://hub.docker.com/_/plone/ https://hub.docker.com/_/plone https://hub.docker.com/_/postgres https://hub.docker.com/r/eeacms/zope-2-7-2 https://hub.docker.com/r/mryattle/zope2 https://hub.docker.com/r/robcast/legacy-zope https://pypi.org/project/bluebream/ https://pypi.org/project/Products.ZPsycopgDA/ https://pypi.org/project/psycopg2/#files https://pypi.org/project/z3c.sqlalchemy/ https://www.postgresql.org/download/linux/ubuntu/ https://www.psycopg.org/ https://www.psycopg.org/psycopg3/docs/basic/install.html https://docs.sqlalchemy.org/en/20/intro.html#installation https://github.com/plone/cookiecutter-zope-instance https://geekflare.com/apache-web-server-hardening-security/ https://github.com/canonical/postgresql-k8s-operator/tree/main https://github.com/canonical/postgresql-k8s-operator https://zope.readthedocs.io/en/latest/zopebook/RelationalDatabases.html https://zpsycopgda.readthedocs.io/en/latest/installation.html https://github.com/wodby/adminer https://github.com/zopefoundation/Products.SQLAlchemyDA https://gitlab.gwdg.de/MPIWG/research-it/docker-legacy-zope https://kodekloud.com/blog/deploy-postgresql-kubernetes/ https://thanhtungvo.medium.com/build-git-sync-for-side-car-container-in-kubernetes-4ee51bda84f0 https://www.tutorialspoint.com/10-apache-web-server-security-and-hardening-tips https://www.crunchydata.com/blog/stateful-postgres-storage-using-kubernetes https://www.devopstricks.in/deploy-apache-kubernetes/ https://github.com/CrunchyData/postgres-operator https://squidfunk.github.io/mkdocs-material/publishing-your-site/ https://www.adminer.org/ https://www.henryxieblogs.com/2019/04/use-configmap-to-store-httpconf-for.html https://www.digitalocean.com/community/tutorials/how-to-install-and-use-zope-2-and-postgresql-on-ubuntu-13-10 https://www.linuxjournal.com/article/5849 https://www.makeuseof.com/md-block-render-markdown-web-page/ https://www.mkdocs.org/ https://www.mkdocs.org/user-guide/configuration/ https://zope.readthedocs.io/en/latest/zopebook/InstallingZope.html https://zope.readthedocs.io/en/latest/ https://gitlab.gwdg.de/MPIWG/research-it/docker-legacy-zope/-/blob/master/legacy-zope-2.13/Dockerfile?ref_type=heads https://www.zope.dev/world.html https://hub.docker.com/r/robcast/legacy-zope","title":"Applications"},{"location":"referencesApplication/#network-ingress-and-certification-management","text":"https://benbrougher.tech/posts/microk8s-ingress/ https://akyriako.medium.com/ssl-tls-for-kubernetes-with-cert-manager-and-lets-encrypt-87846ca74cb4 https://betterprogramming.pub/strato-dyndns-controller-for-kubernetes-9a59ae426c5b https://betterprogramming.pub/how-to-use-kubernetes-secrets-for-storing-sensitive-config-data-f3c5e7d11c15 https://brewpackets.blog/2023/02/20/calico-and-metallb-working-together-with-bgp/ https://cert-manager.io/docs/concepts/issuer/ https://cert-manager.io/docs/configuration/acme/ https://cert-manager.io/docs/configuration/acme/dns01/ https://cert-manager.io/docs/configuration/acme/http01/ https://cert-manager.io/docs/installation/ https://cert-manager.io/docs/troubleshooting/ https://cert-manager.io/docs/troubleshooting/acme/ https://cert-manager.io/docs/usage/ingress/ https://cloud.google.com/kubernetes-engine/docs/how-to/load-balance-ingress https://discuss.linuxcontainers.org/t/simple-bridge-from-lxd-to-hosts-private-network-with-static-ip/14754 https://docs.docker.com/network/drivers/macvlan/ https://docs.docker.com/network/network-tutorial-macvlan/ https://docs.nginx.com/nginx-ingress-controller/configuration/global-configuration/configmap-resource/ https://docs.tigera.io/calico/latest/about https://docs.tigera.io/calico/latest/getting-started/kubernetes/ https://docs.tigera.io/calico/latest/getting-started/kubernetes/microk8s https://docs.tigera.io/calico/latest/getting-started/kubernetes/quickstart https://docs.tigera.io/calico/latest/network-policy/services/kubernetes-node-ports#before-you-begin https://docs.tigera.io/calico/latest/network-policy/services/kubernetes-node-ports https://docs.tigera.io/calico/latest/networking/configuring/bgp https://docs.tigera.io/calico/latest/networking/configuring/workloads-outside-cluster https://docs.tigera.io/calico/latest/networking/ipam/ip-autodetection https://docs.tigera.io/calico/latest/networking/openstack/ https://docs.tigera.io/calico/latest/operations/calicoctl/install https://docs.tigera.io/calico/latest/operations/install-apiserver https://docs.tigera.io/calico/latest/reference/calicoctl/overview https://docs.tigera.io/calico/latest/reference/host-endpoints/pre-dnat https://docs.tigera.io/calico/latest/reference/resources/globalnetworkpolicy https://docs.tigera.io/calico/latest/reference/resources/hostendpoint https://docs.tigera.io/calico/latest/reference/resources/profile https://metallb.org/ https://metallb.org/usage/ https://medium.com/@chamilad/load-balancing-and-reverse-proxying-for-kubernetes-services-f03dd0efe80 https://medium.com/avmconsulting-blog/encrypting-the-certificate-for-kubernetes-lets-encrypt-805d2bf88b2a https://opensource.byjg.com/devops/docker-easy-haproxy/ https://opensource.byjg.com/devops/docker-easy-haproxy/microk8s.md https://vmwire.com/2020/09/29/using-lets-encrypt-certificates-with-cloud-director/ https://vmwire.com/2022/02/07/running-kubernetes-dashboard-with-signed-certificates/ https://www.frakkingsweet.com/metallb-calico-bgp-loadbalancer-and-loadbalancer-ips/ https://earthly.dev/blog/setup-reverse-proxy-kubernetes-nginx/ https://github.com/canonical/manual-tls-certificates-operator/tree/main https://kndrck.co/posts/microk8s_ingress_example/ https://mvysny.github.io/microk8s-lets-encrypt/ https://phoenixnap.com/kb/microk8s-ingress https://raw.githubusercontent.com/kubernetes/ingress-nginx/130af33510882ae62c89277f2ad0baca50e0fafe/deploy/static/mandatory.yaml https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.2.0/deploy/static/provider/cloud/deploy.yaml https://subscription.packtpub.com/book/cloud-and-networking/9781785287916/1/ch01lvl1sec12/connecting-two-networks https://www.adaltas.com/en/2022/09/08/kubernetes-metallb-nginx/ https://help.dyn.com/tsig/ https://help.ubuntu.com/community/DynamicDNS https://sourceforge.net/projects/ddclient/ https://platform9.com/learn/v1.0/tutorials/nginix-controller-via-yaml https://www.datree.io/helm-chart/ddns-updater-truecharts","title":"Network, Ingress and Certification Management"},{"location":"referencesApplication/#wordpress","text":"https://kubeapps.dev/docs/latest/tutorials/getting-started/ https://github.com/jvalderrama/helm-training https://kubeapps.dev/docs/latest/tutorials/getting-started/ https://kubeapps.dev/docs/latest/howto/dashboard/ https://bitnami.com/stack/wordpress/helm","title":"Wordpress"},{"location":"referencesApplication/#minecraft","text":"https://docker-minecraft-server.readthedocs.io/en/latest/ https://hub.docker.com/r/itzg/minecraft-server/ https://github.com/solarhess/kubernetes-minecraft-server https://github.com/solarhess/kubernetes-minecraft-server/blob/master/helm/minecraft/templates/volume.yaml","title":"Minecraft"},{"location":"referencesDB/","text":"DB installation references https://github.com/wodby/adminer https://jineshnagori.medium.com/ultimate-guide-to-setting-up-postgresql-in-kubernetes-with-statefulsets-adminer-dashboard-and-6232323cb4dc Other refs https://www.geekbench.com/download/linux/ https://microk8s.io/docs/registry-images https://kubernetes.io/docs/reference/access-authn-authz/rbac/","title":"DB installation references"},{"location":"referencesDB/#db-installation-references","text":"https://github.com/wodby/adminer https://jineshnagori.medium.com/ultimate-guide-to-setting-up-postgresql-in-kubernetes-with-statefulsets-adminer-dashboard-and-6232323cb4dc","title":"DB installation references"},{"location":"referencesDB/#other-refs","text":"https://www.geekbench.com/download/linux/ https://microk8s.io/docs/registry-images https://kubernetes.io/docs/reference/access-authn-authz/rbac/","title":"Other refs"},{"location":"referencesIoT/","text":"Edge and IoT References Build Networking library: https://github.com/cesanta/mongoose https://github.com/cpq/bare-metal-programming-guide Mixed https://blog.balena.io/resin-io-changes-name-to-balena-releases-open-source-edition/ https://community.element14.com/products/raspberry-pi/w/polls/20656/raspberry-pi-2-which-os-is-best https://dd-wrt.com/ https://dev.to/shandesai/provision-your-raspberry-pi-4-cluster-with-ansible-2j8m https://developer.ibm.com/articles/how-cloud-fog-and-mist-computing-can-work-together/ https://github.com/raspberrypi/pico-tflmicro https://github.com/raspberrypi/rpi-eeprom/ https://medium.com/@souhaylsellami/buildroot-or-yocto-choosing-your-build-system-f061f56ac11f https://medium.com/karlmax-berlin/how-to-install-kubernetes-on-raspberry-pi-53b4ce300b58 https://medium.com/thinkport/how-to-build-a-raspberry-pi-kubernetes-cluster-with-k3s-76224788576c https://epteck.com/yocto-vs-buildroot-comparison/ https://docs.turingpi.com/docs/turing-pi2-kubernetes-os-setup https://docs.yoctoproject.org/brief-yoctoprojectqs/index.html https://docs.yoctoproject.org/dev-manual/layers.html#creating-a-general-layer-using-the-bitbake-layers-script https://docs.yoctoproject.org/what-i-wish-id-known.html https://ubuntu.com/download/raspberry-pi-core https://ubuntu.com/engage/embedded-linux-make-or-buy https://ubuntu.com/engage/Embedding_IoT_GUI_with_Ubuntu_Frame https://ubuntu.com/engage/secure-kubernetes-at-the-edge https://ubuntu.com/tutorials/getting-started-with-microk8s-on-ubuntu-core#1-introduction https://github.com/MontaVista-OpenSourceTechnology/meta-raspberrypi-xen https://github.com/mrlesmithjr/ansible-rpi-k8s-cluster https://github.com/UpdateHub/meta-updatehub-raspberrypi https://linuxhit.com/raspberry-pi-pxe-boot-netbooting-a-pi-4-without-an-sd-card/ https://nodered.org/docs/getting-started/raspberrypi https://www.padok.fr/en/blog/raspberry-kubernetes https://www.raspberrypi.com/documentation/computers/config_txt.html https://www.raspberrypi.com/documentation/computers/raspberry-pi.html https://www.techtarget.com/searchitoperations/tutorial/Use-MicroK8s-with-Raspberry-Pi-in-this-tutorial https://www.zdnet.com/article/raspberry-pi-banana-pi-maker-touts-this-new-rival-board-with-amlogic-chip-and-4gb-ram/ https://github.com/ahcbb6/meta-raspberrypi-baremetal https://github.com/balena-os/balena-raspberrypi https://www.openembedded.org/wiki/Main_Page https://www.openhab.org/ https://www.openhab.org/addons/bindings/icloud/ https://www.openhab.org/addons/bindings/mqtt/ https://www.openhab.org/docs/installation/openhabian.html https://hacks.mozilla.org/2019/04/introducing-mozilla-webthings/ https://lwn.net/Articles/682540/ https://openwrt.org/ https://openwrt.org/docs/guide-user/start https://openwrt.org/toh/tp-link/tl-wa901nd https://orbcode.org/orbuculum/ https://promwad.com/news/bsp-linux-buildroot-comparison-peta-linux https://sheepdogguides.com/arduino/asw1onew1.htm https://shifu.dev/ https://thinnect.com/mist-computing-2/mist-computing-edge-computing-efficient-sensing-smart-device-management/ https://ubuntu.com/blog/the-ubuntu-appliance-portfolio https://www.balena.io/os https://www.freertos.org/index.html https://www.padok.fr/en/blog/multi-architectures-docker-iot https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18841738/Getting+Started https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18842279/Build+Device+Tree+Blob New https://github.com/meta-rust/meta-rust https://michael2012z.medium.com/rust-with-yocto-eab41476cd7b https://git.yoctoproject.org/poky https://wellys.com/posts/rp2040_c_linux/ https://www.hackster.io/news/old-school-new-tech-2e4bbeafcbfc https://docs.zephyrproject.org/latest/develop/west/install.html https://docs.zephyrproject.org/latest/boards/index.html https://docs.zephyrproject.org/latest/boards/arm/nucleo_f446re/doc/index.html https://docs.zephyrproject.org/latest/develop/application/index.html https://www.st.com/en/development-tools/sw4stm32.html https://pengutronix.de/en/company/about.html https://github.com/garmin/whisk https://github.com/JPEWdev/kube-battlestar-cluster https://labgrid.readthedocs.io/en/latest/ https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18841883/Yocto https://docs.microfocus.com/doc/OMT/23.4/InstallLandingEmbed https://docs.microfocus.com/doc/OMT/23.4/Home https://github.com/sorrir/yocto-pipeline https://github.com/janeczku/meta-k3s https://github.com/k3s-io/k3s https://forum.gitlab.com/t/embedded-builds-with-k8s-and-kas-bitbake/41051 https://github.com/siemens/kas/ https://kas.readthedocs.io/en/latest/userguide.html https://layers.openembedded.org/layerindex/branch/master/layer/meta-virtualization/ https://docs.yoctoproject.org/1.6/dev-manual/dev-manual.html https://ubuntu.com/blog/embedded-linux-project-i https://ubuntu.com/blog/embedded-linux-project-iv https://ubuntu.com/internet-of-things/appstore https://www.reddit.com/r/IOT/comments/shxjza/operating_system_in_the_iot_space/ https://www.openembedded.org/wiki/Getting_started https://github.com/openembedded/openembedded-core https://wiki.st.com/stm32mpu/wiki/OpenEmbedded https://github.com/STMicroelectronics/meta-st-stm32mp/tree/mickledore https://github.com/davisjp1822/stm32_nucleo_linux https://www.hackster.io/news/an-ultra-tiny-risc-v-emulator-turns-the-raspberry-pi-pico-into-a-functional-if-slow-linux-pc-17493d4d7130 https://hackaday.com/2021/02/19/the-raspberry-pi-pico-cant-run-linux-but-it-can-run-fuzix/ https://hackaday.com/2023/03/19/rp2040-runs-linux-through-risc-v-emulation/ https://github.com/raspberrypi/pico-tflmicro https://github.com/ahcbb6/meta-raspberrypi-baremetal https://buildroot.org/docs.html https://jaycarlson.net/embedded-linux/ https://forums.raspberrypi.com/viewtopic.php?t=354547 https://blog.balena.io/balena-releases-first-fully-functional-64-bit-os-for-the-raspberry-pi-4/ https://github.com/balena-os/balena-raspberrypi https://forums.raspberrypi.com/viewtopic.php?t=253537 https://michael2012z.medium.com/rust-with-yocto-eab41476cd7b https://docs.yoctoproject.org/singleindex.html https://docs.rust-embedded.org/book/start/registers.html https://docs.rust-embedded.org/book/intro/index.html https://crates.io/crates/rp2040-pac https://github.com/rust-embedded/awesome-embedded-rust https://docs.rust-embedded.org/discovery/microbit/01-background/index.html https://docs.rust-embedded.org/discovery/ https://www.digikey.com/en/maker/projects/intro-to-embedded-linux-part-1-buildroot/a73a56de62444610a2187cd9e681c3f2 https://www.digikey.com/en/maker/projects/intro-to-embedded-linux-part-2-yocto-project/2c08a1ad09d74f20b9844e566d332da4 https://docs.yoctoproject.org/1.8/yocto-project-qs/yocto-project-qs.html https://github.com/rayui/scooby https://metebalci.com/blog/bare-metal-rpi3-network-boot/ https://blog.alexellis.io/test-drive-k3s-on-raspberry-pi/ https://git.yoctoproject.org/meta-raspberrypi/ https://docs.yoctoproject.org/2.4.4/bsp-guide/bsp-guide.html","title":"Edge and IoT References"},{"location":"referencesIoT/#edge-and-iot-references","text":"","title":"Edge and IoT References"},{"location":"referencesIoT/#build","text":"Networking library: https://github.com/cesanta/mongoose https://github.com/cpq/bare-metal-programming-guide","title":"Build"},{"location":"referencesIoT/#mixed","text":"https://blog.balena.io/resin-io-changes-name-to-balena-releases-open-source-edition/ https://community.element14.com/products/raspberry-pi/w/polls/20656/raspberry-pi-2-which-os-is-best https://dd-wrt.com/ https://dev.to/shandesai/provision-your-raspberry-pi-4-cluster-with-ansible-2j8m https://developer.ibm.com/articles/how-cloud-fog-and-mist-computing-can-work-together/ https://github.com/raspberrypi/pico-tflmicro https://github.com/raspberrypi/rpi-eeprom/ https://medium.com/@souhaylsellami/buildroot-or-yocto-choosing-your-build-system-f061f56ac11f https://medium.com/karlmax-berlin/how-to-install-kubernetes-on-raspberry-pi-53b4ce300b58 https://medium.com/thinkport/how-to-build-a-raspberry-pi-kubernetes-cluster-with-k3s-76224788576c https://epteck.com/yocto-vs-buildroot-comparison/ https://docs.turingpi.com/docs/turing-pi2-kubernetes-os-setup https://docs.yoctoproject.org/brief-yoctoprojectqs/index.html https://docs.yoctoproject.org/dev-manual/layers.html#creating-a-general-layer-using-the-bitbake-layers-script https://docs.yoctoproject.org/what-i-wish-id-known.html https://ubuntu.com/download/raspberry-pi-core https://ubuntu.com/engage/embedded-linux-make-or-buy https://ubuntu.com/engage/Embedding_IoT_GUI_with_Ubuntu_Frame https://ubuntu.com/engage/secure-kubernetes-at-the-edge https://ubuntu.com/tutorials/getting-started-with-microk8s-on-ubuntu-core#1-introduction https://github.com/MontaVista-OpenSourceTechnology/meta-raspberrypi-xen https://github.com/mrlesmithjr/ansible-rpi-k8s-cluster https://github.com/UpdateHub/meta-updatehub-raspberrypi https://linuxhit.com/raspberry-pi-pxe-boot-netbooting-a-pi-4-without-an-sd-card/ https://nodered.org/docs/getting-started/raspberrypi https://www.padok.fr/en/blog/raspberry-kubernetes https://www.raspberrypi.com/documentation/computers/config_txt.html https://www.raspberrypi.com/documentation/computers/raspberry-pi.html https://www.techtarget.com/searchitoperations/tutorial/Use-MicroK8s-with-Raspberry-Pi-in-this-tutorial https://www.zdnet.com/article/raspberry-pi-banana-pi-maker-touts-this-new-rival-board-with-amlogic-chip-and-4gb-ram/ https://github.com/ahcbb6/meta-raspberrypi-baremetal https://github.com/balena-os/balena-raspberrypi https://www.openembedded.org/wiki/Main_Page https://www.openhab.org/ https://www.openhab.org/addons/bindings/icloud/ https://www.openhab.org/addons/bindings/mqtt/ https://www.openhab.org/docs/installation/openhabian.html https://hacks.mozilla.org/2019/04/introducing-mozilla-webthings/ https://lwn.net/Articles/682540/ https://openwrt.org/ https://openwrt.org/docs/guide-user/start https://openwrt.org/toh/tp-link/tl-wa901nd https://orbcode.org/orbuculum/ https://promwad.com/news/bsp-linux-buildroot-comparison-peta-linux https://sheepdogguides.com/arduino/asw1onew1.htm https://shifu.dev/ https://thinnect.com/mist-computing-2/mist-computing-edge-computing-efficient-sensing-smart-device-management/ https://ubuntu.com/blog/the-ubuntu-appliance-portfolio https://www.balena.io/os https://www.freertos.org/index.html https://www.padok.fr/en/blog/multi-architectures-docker-iot https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18841738/Getting+Started https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18842279/Build+Device+Tree+Blob","title":"Mixed"},{"location":"referencesIoT/#new","text":"https://github.com/meta-rust/meta-rust https://michael2012z.medium.com/rust-with-yocto-eab41476cd7b https://git.yoctoproject.org/poky https://wellys.com/posts/rp2040_c_linux/ https://www.hackster.io/news/old-school-new-tech-2e4bbeafcbfc https://docs.zephyrproject.org/latest/develop/west/install.html https://docs.zephyrproject.org/latest/boards/index.html https://docs.zephyrproject.org/latest/boards/arm/nucleo_f446re/doc/index.html https://docs.zephyrproject.org/latest/develop/application/index.html https://www.st.com/en/development-tools/sw4stm32.html https://pengutronix.de/en/company/about.html https://github.com/garmin/whisk https://github.com/JPEWdev/kube-battlestar-cluster https://labgrid.readthedocs.io/en/latest/ https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18841883/Yocto https://docs.microfocus.com/doc/OMT/23.4/InstallLandingEmbed https://docs.microfocus.com/doc/OMT/23.4/Home https://github.com/sorrir/yocto-pipeline https://github.com/janeczku/meta-k3s https://github.com/k3s-io/k3s https://forum.gitlab.com/t/embedded-builds-with-k8s-and-kas-bitbake/41051 https://github.com/siemens/kas/ https://kas.readthedocs.io/en/latest/userguide.html https://layers.openembedded.org/layerindex/branch/master/layer/meta-virtualization/ https://docs.yoctoproject.org/1.6/dev-manual/dev-manual.html https://ubuntu.com/blog/embedded-linux-project-i https://ubuntu.com/blog/embedded-linux-project-iv https://ubuntu.com/internet-of-things/appstore https://www.reddit.com/r/IOT/comments/shxjza/operating_system_in_the_iot_space/ https://www.openembedded.org/wiki/Getting_started https://github.com/openembedded/openembedded-core https://wiki.st.com/stm32mpu/wiki/OpenEmbedded https://github.com/STMicroelectronics/meta-st-stm32mp/tree/mickledore https://github.com/davisjp1822/stm32_nucleo_linux https://www.hackster.io/news/an-ultra-tiny-risc-v-emulator-turns-the-raspberry-pi-pico-into-a-functional-if-slow-linux-pc-17493d4d7130 https://hackaday.com/2021/02/19/the-raspberry-pi-pico-cant-run-linux-but-it-can-run-fuzix/ https://hackaday.com/2023/03/19/rp2040-runs-linux-through-risc-v-emulation/ https://github.com/raspberrypi/pico-tflmicro https://github.com/ahcbb6/meta-raspberrypi-baremetal https://buildroot.org/docs.html https://jaycarlson.net/embedded-linux/ https://forums.raspberrypi.com/viewtopic.php?t=354547 https://blog.balena.io/balena-releases-first-fully-functional-64-bit-os-for-the-raspberry-pi-4/ https://github.com/balena-os/balena-raspberrypi https://forums.raspberrypi.com/viewtopic.php?t=253537 https://michael2012z.medium.com/rust-with-yocto-eab41476cd7b https://docs.yoctoproject.org/singleindex.html https://docs.rust-embedded.org/book/start/registers.html https://docs.rust-embedded.org/book/intro/index.html https://crates.io/crates/rp2040-pac https://github.com/rust-embedded/awesome-embedded-rust https://docs.rust-embedded.org/discovery/microbit/01-background/index.html https://docs.rust-embedded.org/discovery/ https://www.digikey.com/en/maker/projects/intro-to-embedded-linux-part-1-buildroot/a73a56de62444610a2187cd9e681c3f2 https://www.digikey.com/en/maker/projects/intro-to-embedded-linux-part-2-yocto-project/2c08a1ad09d74f20b9844e566d332da4 https://docs.yoctoproject.org/1.8/yocto-project-qs/yocto-project-qs.html https://github.com/rayui/scooby https://metebalci.com/blog/bare-metal-rpi3-network-boot/ https://blog.alexellis.io/test-drive-k3s-on-raspberry-pi/ https://git.yoctoproject.org/meta-raspberrypi/ https://docs.yoctoproject.org/2.4.4/bsp-guide/bsp-guide.html","title":"New"},{"location":"referencesResearch/","text":"Research References References on the topics of virtualisation, kubernetes, storage and helm. Virtualisation http://linux-vserver.org/Paper http://supervisord.org/ http://www.linuxvirtualserver.org/ https://www.padok.fr/en/blog/container-docker-oci https://blog.container-solutions.com/linux-capabilities-in-practice https://blog.container-solutions.com/linux-capabilities-why-they-exist-and-how-they-work https://blog.mobyproject.org/introducing-buildkit-17e056cc5317 https://blogs.vmware.com/teamfusion/2021/09/fusion-for-m1-public-tech-preview-now-available.html https://devm.io/docker/build-containers-quickly-buildah-155839-001 https://documentation.ubuntu.com/lxd/en/latest/howto/ https://documentation.ubuntu.com/lxd/en/latest/howto/cluster_config_networks/ https://documentation.ubuntu.com/lxd/en/latest/howto/initialize/ https://documentation.ubuntu.com/lxd/en/latest/installing/ https://linux-kvm.org/page/HOWTO https://linux-kvm.org/page/Main_Page https://linux-kvm.org/page/RunningKVM https://multipass.run/ https://multipass.run/docs/authenticating-clients https://multipass.run/docs/configure-static-ips https://multipass.run/docs/create-an-instance https://multipass.run/docs/how-to-guides https://multipass.run/docs/multipass-gui-client https://multipass.run/docs/troubleshoot-networking https://ubuntu.com/blog/lxd_ui https://ubuntu.com/blog/lxd-5-17-is-now-available https://ubuntu.com/blog/lxd-networking-lxdbr0-explained https://ubuntu.com/blog/lxd-vs-docker https://ubuntu.com/blog/what-are-linux-containers https://ubuntu.com/blog/one_command_micro_cloud https://ubuntu.com/blog/using-cloud-init-with-multipass https://ubuntu.com/kubernetes/charmed-k8s https://ubuntu.com/lxd https://ubuntu.com/openstack/install https://ubuntu.com/openstack/managed https://ubuntu.com/openstack/pricing-calculator https://ubuntu.com/openstack https://ubuntu.com/tutorials/explore-openstack-components-and-set-up-an-openstack-client https://ubuntu.com/tutorials/install-openstack-on-your-workstation-and-launch-your-first-instance#1-overview https://ubuntu.com/security/docker-images https://ubuntu.com/server/docs/install/autoinstall-quickstart https://earthly.dev/blog/lxc-vs-docker/ https://github.com/opencontainers/image-spec https://github.com/opencontainers/runtime-spec/blob/main/bundle.md https://github.com/opencontainers/runtime-spec/blob/main/config.md https://github.com/opencontainers/runtime-spec/blob/main/spec.md https://github.com/opencontainers/runtime-spec https://github.com/cncf/foundation/blob/main/code-of-conduct.md https://linux.how2shout.com/how-to-use-virt-manager-gui-to-manage-multipass-ubuntu-vms/ https://www.nakivo.com/blog/virtualbox-network-setting-guide/ https://www.virtualbox.org/manual/ch04.html https://github.com/containernetworking/cni https://github.com/containers/Demos/blob/main/building/buildah_intro/buildah_intro.sh https://github.com/moby/buildkit https://libvirt.org/manpages/libvirtd.html https://linuxcontainers.org/lxd/ https://pwittrock.github.io/docs/getting-started-guides/rkt/ https://rocket.readthedocs.io/en/latest/Documentation/devel/architecture/ https://rocket.readthedocs.io/en/latest/README/ https://wiki.ubuntu.com/Lvm https://www.youtube.com/watch?v=sK5i-N34im8 {J\u00e9r\u00f4me Petazzoni: cgroups, namespaces, and beyond} https://hercstudio.sourceforge.io/ https://www.howtoinstall.me/ubuntu/18-04/hercules/ https://hercstudio.sourceforge.io/ubuntu.html http://www.hercules-390.eu/ https://ubuntu.com/download/server/s390x http://www.hercules-390.org/hercconf.html#CCKD https://astr0baby.wordpress.com/2018/06/03/installing-ubuntu-18-04-server-s390x-in-hercules-mainframe-simulator/ https://supratim-sanyal.blogspot.com/2018/10/bionic-beaver-on-zarchitecture-my.html https://wiki.ubuntu.com/S390X https://cloud-images.ubuntu.com/releases/22.04/release/ https://share.confex.com/share/124/webprogram/Handout/Session16427/share-march-2015-kvm-for-zvm-lovers.pdf http://www.hercules-390.org/hercsupp.html http://www.hercules-390.org/hercinst.html https://hercstudio.sourceforge.io/index.html https://en.wikipedia.org/wiki/Hercules_(emulator) https://en.wikipedia.org/wiki/Comparison_of_platform_virtualization_software https://linuxcontainers.org/incus/ https://linuxcontainers.org/incus/try-it/ Kubernetes https://askubuntu.com/questions/1316899/remove-node-from-microk8s-cluster https://charmhub.io/microk8s/docs/how-to-cluster https://cloudyuga.guru/hands_on_lab/subpath https://dev.to/ajeetraina/how-to-install-kubernetes-cluster-on-ubuntu-2004-with-kubeadm-in-2023-501i https://docs.k3s.io/installation https://github.com/kubernetes/ingress-nginx/blob/main/docs/deploy/index.md https://github.com/kubernetes/ingress-nginx/blob/main/docs/examples/rewrite/README.md https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/annotations.md https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/configmap.md https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/custom-template.md https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/index.md https://github.com/kubernetes/sample-controller/blob/master/controller.go https://github.com/kubernetes/sample-controller/blob/master/docs/controller-client-go.md https://kubeapps.dev/ https://kubernetes.github.io/ingress-nginx/ https://kubernetes.github.io/ingress-nginx/deploy/ https://kubernetes.github.io/ingress-nginx/deploy/baremetal/ https://kubernetes.github.io/ingress-nginx/deploy/rbac/ https://kubernetes.github.io/ingress-nginx/examples/rewrite/#app-root https://kubernetes.github.io/ingress-nginx/examples/static-ip/ https://kubernetes.github.io/ingress-nginx/user-guide/tls/ https://kubernetes.io/blog/2021/08/09/run-nodes-with-swap-alpha/ https://kubernetes.io/blog/2021/09/13/read-write-once-pod-access-mode-alpha/ https://kubernetes.io/blog/2023/03/17/upcoming-changes-in-kubernetes-v1-27/ https://kubernetes.io/blog/2023/08/15/pkgs-k8s-io-introduction/ https://kubernetes.io/blog/2023/08/24/swap-linux-beta/ https://kubernetes.io/blog/2023/08/31/legacy-package-repository-deprecation/ https://kubernetes.io/docs/concepts/architecture/controller/ https://kubernetes.io/docs/concepts/architecture/garbage-collection/ https://kubernetes.io/docs/concepts/cluster-administration/logging/ https://kubernetes.io/docs/concepts/cluster-administration/networking/ https://kubernetes.io/docs/concepts/cluster-administration/system-logs/ https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/ https://kubernetes.io/docs/concepts/containers/images/ https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/ https://kubernetes.io/docs/concepts/extend-kubernetes/operator/ https://kubernetes.io/docs/concepts/overview/components/ https://kubernetes.io/docs/concepts/overview/kubernetes-api/ https://kubernetes.io/docs/concepts/overview/working-with-objects/common-labels/ https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ https://kubernetes.io/docs/concepts/overview/working-with-objects/names/ https://kubernetes.io/docs/concepts/security/service-accounts/ https://kubernetes.io/docs/concepts/services-networking/ https://kubernetes.io/docs/concepts/services-networking/cluster-ip-allocation/ https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/ https://kubernetes.io/docs/concepts/services-networking/endpoint-slices/ https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/ https://kubernetes.io/docs/concepts/services-networking/ingress/#examples https://kubernetes.io/docs/concepts/services-networking/ingress/ https://kubernetes.io/docs/concepts/services-networking/service/ https://kubernetes.io/docs/concepts/storage/ https://kubernetes.io/docs/concepts/storage/persistent-volumes/ https://kubernetes.io/docs/concepts/storage/volumes/#using-subpath https://kubernetes.io/docs/concepts/storage/volumes/ https://kubernetes.io/docs/concepts/workloads/controllers/deployment/ https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates https://kubernetes.io/docs/concepts/workloads/pods/ https://kubernetes.io/docs/concepts/workloads/pods/ephemeral-containers/ https://kubernetes.io/docs/concepts/workloads/pods/init-containers/ https://kubernetes.io/docs/reference/access-authn-authz/authentication/ https://kubernetes.io/docs/reference/access-authn-authz/authorization/ https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/ https://kubernetes.io/docs/reference/config-api/kubeadm-config.v1beta4/ https://kubernetes.io/docs/reference/config-api/kubelet-config.v1beta1/ https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/ https://kubernetes.io/docs/reference/kubectl/ https://kubernetes.io/docs/reference/kubectl/cheatsheet/ https://kubernetes.io/docs/reference/networking/virtual-ips/ https://kubernetes.io/docs/reference/setup-tools/kubeadm/ https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm-init/ https://kubernetes.io/docs/reference/using-api/ https://kubernetes.io/docs/setup/best-practices/ https://kubernetes.io/docs/setup/best-practices/certificates/ https://kubernetes.io/docs/setup/best-practices/multiple-zones/ https://kubernetes.io/docs/setup/best-practices/node-conformance/ https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/ha-topology/ https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/ https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/ https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/ https://kubernetes.io/docs/tasks/administer-cluster/change-default-storage-class/ https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/ https://kubernetes.io/docs/tasks/configure-pod-container/configure-pod-configmap/ https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/ https://kubernetes.io/docs/tasks/configure-pod-container/security-context/ https://kubernetes.io/docs/tasks/debug/debug-application/debug-running-pod/ https://kubernetes.io/docs/tasks/run-application/run-stateless-application-deployment/ https://kubernetes.io/docs/tasks/tools/ https://kubernetes.io/docs/tasks/tools/install-kubectl-macos/ https://kubernetes.io/docs/tutorials/configuration/configure-redis-using-configmap/ https://kubernetes.io/docs/tutorials/services/connect-applications-service/ https://kubernetes.io/docs/tutorials/services/source-ip/ https://kubernetes.io/docs/tutorials/stateless-application/expose-external-ip-address/ https://microk8s.io/docs/add-launch-config https://microk8s.io/docs/addon-cert-manager https://microk8s.io/docs/addon-dashboard https://microk8s.io/docs/addon-easyhaproxy https://microk8s.io/docs/addon-fluentd https://microk8s.io/docs/addon-host-access https://microk8s.io/docs/addon-hostpath-storage https://microk8s.io/docs/addon-ingress https://microk8s.io/docs/addon-mayastor https://microk8s.io/docs/addon-metallb https://microk8s.io/docs/addon-minio https://microk8s.io/docs/addon-nfs https://microk8s.io/docs/addon-rook-ceph https://microk8s.io/docs/addons https://microk8s.io/docs/change-cidr https://microk8s.io/docs/cis-compliance https://microk8s.io/docs/clustering https://microk8s.io/docs/configure-host-interfaces https://microk8s.io/docs/explain-launch-config https://microk8s.io/docs/external-lma https://microk8s.io/docs/high-availability https://microk8s.io/docs/how-to-ceph https://microk8s.io/docs/how-to-cis-harden https://microk8s.io/docs/how-to-nfs https://microk8s.io/docs/install-lxd https://microk8s.io/docs/ref-launch-config https://microk8s.io/docs/registry-built-in https://microk8s.io/docs/services-and-ports https://microk8s.io/docs/troubleshooting https://microk8s.io/docs/upgrading https://github.com/kubernetes-sigs/kubebuilder https://github.com/kubernetes-sigs/kubespray https://github.com/kubernetes-sigs/kustomize/blob/master/examples/valueAdd.md https://github.com/kubernetes-sigs/kustomize https://github.com/kubernetes-sigs/metrics-server https://github.com/kubernetes/community/blob/8cafef897a22026d42f5e5bb3f104febe7e29830/contributors/devel/controllers.md https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md#admin-privileges https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md https://github.com/kubernetes/enhancements/blob/9d127347773ad19894ca488ee04f1cd3af5774fc/keps/sig-node/2400-node-swap/README.md https://github.com/kubernetes/enhancements/tree/master/keps/sig-node/753-sidecar-containers https://github.com/kubernetes/examples/blob/master/staging/https-nginx/default.conf https://github.com/kubernetes/git-sync/blob/master/docs/kubernetes.md https://github.com/kubernetes/git-sync https://medium.com/@senthilrch/woot-kubernetes-adds-support-for-swap-memory-92541aad01a0 https://medium.com/thermokline/how-to-choose-a-k8s-cni-plugin-771edf4842c0 https://medium.com/nerd-for-tech/getting-started-with-kubernetes-pod-security-context-and-policy-26619529a64b https://medium.com/programmers-journey/dead-simple-include-env-variables-in-kubernetes-deployment-yaml-1c0e8f859fde https://faun.pub/an-overview-of-microk8s-and-why-using-it-in-the-cloud-was-a-terrible-idea-9ba8506dc467 https://get.k3s.io/ https://itnext.io/microk8s-1-27-is-out-6eef05f63e3b https://k3s.io/ https://minikube.sigs.k8s.io/docs/start/ https://ubuntu.com/kubernetes/install https://github.com/canonical/microk8s/tree/feature/jdb%2Fstrict https://logz.io/blog/getting-started-with-kubernetes-using-microk8s/ https://richardscoding.wordpress.com/2021/04/08/setting-up-a-microk8s-cluster/ https://www.linkedin.com/pulse/9-steps-enable-kubernetes-dashboard-microk8s-hendri-t/ https://www.server-world.info/en/note?os=Ubuntu_20.04&p=microk8s&f=5 https://www.rancher.com/products/k3s https://k21academy.com/docker-kubernetes/kubernetes-namespace/ https://opensource.com/article/22/3/visual-map-kubernetes-deployment https://opensource.com/article/22/6/kubernetes-networking-fundamentals https://ubuntu.com/blog/canonical%EF%BB%BF-kubernetes-1-28-is-now-generally-available https://ubuntu.com/tutorials/navigate-through-the-openstack-dashboard-menu#1-overview https://www.ianlewis.org/en/almighty-pause-container https://www.ianlewis.org/en/what-are-kubernetes-pods-anyway https://www.padok.fr/en/blog/kubernetes-architecture-clusters https://kubernetes.io/docs/concepts/workloads/pods/disruptions/ https://docs.starlingx.io/security/kubernetes/install-the-kubernetes-dashboard.html https://fntlnz.wtf/post/what-i-learnt-about-kubernetes-controller/ https://github.com/ovn-org/ovn-kubernetes/ https://ibm.github.io/kubernetes-networking/services/nodeport/ https://kubevious.io/blog/post/comparing-kubernetes-container-network-interface-cni-providers https://loft.sh/blog/kubernetes-persistent-volumes-examples-and-best-practices/ https://spacelift.io/blog/restart-kubernetes-pods-with-kubectl https://tharangarajapaksha.medium.com/backup-options-in-kubernetes-deployment-f301a9464c96 https://thenewstack.io/deletion-garbage-collection-kubernetes-objects/ https://wkrzywiec.medium.com/deployment-of-multiple-apps-on-kubernetes-cluster-walkthrough-e05d37ed63d1 https://www.civo.com/academy/kubernetes-volumes/introduction-kubernetes-remote-storage https://www.cncf.io/blog/2023/07/03/kubernetes-logging-best-practices/ https://www.g2.com/products/kubernetes/competitors/alternatives https://www.ibm.com/docs/en/fcifi/3.0.1?topic=administering-changing-kubernetes-master-node-ip-address https://www.techtarget.com/searchitoperations/tutorial/Kubernetes-performance-testing-tutorial-Load-test-a-cluster https://github.com/operator-framework/operator-sdk https://pwittrock.github.io/docs/admin/kubeadm/ https://spacelift.io/blog/kubectl-logs https://www.freecodecamp.org/news/subnet-cheat-sheet-24-subnet-mask-30-26-27-29-and-other-ip-address-cidr-network-references/ https://www.getambassador.io/docs/edge-stack/latest/howtos/cert-manager https://www.wiz.io/blog/from-pod-security-policies-to-pod-security-standards-a-migration-guide https://kubernetes.io/docs/tasks/administer-cluster/safely-drain-node/ Storage https://docs.ceph.com/en/latest/rbd/rbd-kubernetes/ https://blog.palark.com/kubernetes-storage-performance-linstor-ceph-mayastor-vitastor/ https://canonical-microceph.readthedocs-hosted.com/en/latest/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/cluster-configurations/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/full-disk-encryption/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/snap-content-interface/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/configure-network-keys/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/enable-metrics/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/remove-disk/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/service-placement/ https://canonical-microceph.readthedocs-hosted.com/en/latest/reference/commands/cluster/ https://canonical-microceph.readthedocs-hosted.com/en/latest/tutorial/multi-node/ https://ceph.com/assets/pdfs/weil-rados-pdsw07.pdf https://ceph.io/en/ https://ceph.io/en/users/getting-started/ https://charmhub.io/ceph-fs https://cloudian.com/guides/kubernetes-storage/kubernetes-storage-101-concepts-and-best-practices/ https://cloudopsofficial.medium.com/the-ultimate-rook-and-ceph-survival-guide-eff198a5764a https://computingforgeeks.com/persistent-storage-for-kubernetes-with-ceph-rbd/ https://confluence.cc.lehigh.edu/pages/viewpage.action?pageId=108364140 https://daegonk.medium.com/kubernetes-provisioner-setup-for-ceph-rbd-and-cephfs-ce286fbbd1e3 https://discourse.ubuntu.com/t/deploying-ceph-with-rook/32565 https://discuss.linuxcontainers.org/t/introducing-microceph/15457/43?page=2 https://docs.ceph.com/en/latest/install/ https://docs.ceph.com/en/latest/man/8/ceph-volume/ https://docs.ceph.com/en/latest/man/8/mount.ceph/ https://docs.ceph.com/en/latest/mgr/administrator/ https://docs.ceph.com/en/latest/rados/configuration/network-config-ref/ https://docs.ceph.com/en/latest/rados/operations/ https://docs.ceph.com/en/latest/rados/operations/crush-map/ https://docs.ceph.com/en/latest/rados/operations/operating/ https://docs.ceph.com/en/latest/rados/operations/placement-groups/ https://docs.ceph.com/en/latest/rados/operations/pools/ https://docs.ceph.com/en/latest/start/intro/ https://docs.ceph.com/en/mimic/rados/configuration/pool-pg-config-ref/ https://docs.ceph.com/en/mimic/rados/operations/monitoring-osd-pg/ https://docs.ceph.com/en/quincy/cephfs/fs-volumes/ https://docs.ceph.com/en/quincy/cephfs/mount-using-kernel-driver/ https://docs.ceph.com/en/quincy/glossary/ https://docs.ceph.com/en/quincy/rados/api/librados-intro/ https://docs.ceph.com/en/quincy/rados/operations/pools/#create-a-pool https://docs.ceph.com/en/quincy/rados/troubleshooting/troubleshooting-osd/ https://docs.ceph.com/en/quincy/start/hardware-recommendations/ https://docs.ceph.com/en/quincy/start/intro/ https://docs.ceph.com/en/quincy/start/quick-rbd/ https://docs.ceph.com/en/reef/rbd/rados-rbd-cmds/ https://rook.github.io/docs/rook/v1.7/ceph-teardown.html https://rook.io/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-csi-common-issues/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-toolbox/ https://medium.com/@muneeburrehman2610/kubernetes-persistent-volume-for-beginners-a13cbe5bdeea https://medium.com/avmconsulting-blog/persistent-volumes-pv-and-claims-pvc-in-kubernetes-bd76923a61f6 https://jonathangazeley.com/2020/09/10/building-a-hyperconverged-kubernetes-cluster-with-microk8s-and-ceph/ https://jonathangazeley.com/2023/03/14/kubernetes-homelab-part-4-hyperconverged-storage/ https://github.com/balchua/do-microk8s/blob/master/docs/rook.md https://www.virtono.com/community/tutorial-how-to/how-to-install-mayastor-add-on-on-microk8s/ https://www.virtualizationhowto.com/2023/08/kubernetes-persistent-volume-setup-with-microk8s-rook-and-ceph/ https://charmhub.io/swift-storage https://joshua-robinson.medium.com/elasticsearch-kubernetes-and-persistent-volumes-f763d9054e54 https://snapcraft.io/microceph https://ubuntu.com/blog/cloud-storage-at-the-edge-with-microceph https://ubuntu.com/ceph https://www.purestorage.com/br/knowledge/what-is-nfs-data-store.html https://manpages.ubuntu.com/manpages/xenial/en/man1/dyndns.1.html https://mayastor.gitbook.io/introduction/ https://mayastor.gitbook.io/introduction/basic-architecture https://github.com/container-storage-interface/spec/blob/master/spec.md https://github.com/rook/kubectl-rook-ceph https://github.com/rook/rook https://github.com/openebs/mayastor https://openebs.io/ https://spdk.io/ https://www.cyberciti.biz/faq/apple-mac-osx-nfs-mount-command-tutorial/ https://www.mirantis.com/blog/object-storage-openstack-cloud-swift-ceph/ Helm https://blog.knoldus.com/helm2-vs-helm3-simplified/ https://docs.bitnami.com/kubernetes/faq/administration/understand-helm-chart/ https://docs.bitnami.com/kubernetes/faq/get-started/understand-charts-release-process/ https://helm.sh/docs/helm/helm_list/ https://helm.sh/docs/helm/helm_uninstall/ https://helm.sh/docs/helm/helm_upgrade/ https://helm.sh/docs/howto/charts_tips_and_tricks/ https://helm.sh/docs/intro/quickstart/ https://helm.sh/docs/topics/chart_repository/ https://helm.sh/docs/topics/charts/ https://helmfile.readthedocs.io/en/latest/ https://medium.com/swlh/how-to-declaratively-run-helm-charts-using-helmfile-ac78572e6088 https://chartmuseum.com/ https://charts.helm.sh/stable/ https://wkrzywiec.medium.com/how-to-deploy-application-on-kubernetes-with-helm-39f545ad33b8 https://help.cloudsmith.io/docs/helm-chart-repository","title":"Research References"},{"location":"referencesResearch/#research-references","text":"References on the topics of virtualisation, kubernetes, storage and helm.","title":"Research References"},{"location":"referencesResearch/#virtualisation","text":"http://linux-vserver.org/Paper http://supervisord.org/ http://www.linuxvirtualserver.org/ https://www.padok.fr/en/blog/container-docker-oci https://blog.container-solutions.com/linux-capabilities-in-practice https://blog.container-solutions.com/linux-capabilities-why-they-exist-and-how-they-work https://blog.mobyproject.org/introducing-buildkit-17e056cc5317 https://blogs.vmware.com/teamfusion/2021/09/fusion-for-m1-public-tech-preview-now-available.html https://devm.io/docker/build-containers-quickly-buildah-155839-001 https://documentation.ubuntu.com/lxd/en/latest/howto/ https://documentation.ubuntu.com/lxd/en/latest/howto/cluster_config_networks/ https://documentation.ubuntu.com/lxd/en/latest/howto/initialize/ https://documentation.ubuntu.com/lxd/en/latest/installing/ https://linux-kvm.org/page/HOWTO https://linux-kvm.org/page/Main_Page https://linux-kvm.org/page/RunningKVM https://multipass.run/ https://multipass.run/docs/authenticating-clients https://multipass.run/docs/configure-static-ips https://multipass.run/docs/create-an-instance https://multipass.run/docs/how-to-guides https://multipass.run/docs/multipass-gui-client https://multipass.run/docs/troubleshoot-networking https://ubuntu.com/blog/lxd_ui https://ubuntu.com/blog/lxd-5-17-is-now-available https://ubuntu.com/blog/lxd-networking-lxdbr0-explained https://ubuntu.com/blog/lxd-vs-docker https://ubuntu.com/blog/what-are-linux-containers https://ubuntu.com/blog/one_command_micro_cloud https://ubuntu.com/blog/using-cloud-init-with-multipass https://ubuntu.com/kubernetes/charmed-k8s https://ubuntu.com/lxd https://ubuntu.com/openstack/install https://ubuntu.com/openstack/managed https://ubuntu.com/openstack/pricing-calculator https://ubuntu.com/openstack https://ubuntu.com/tutorials/explore-openstack-components-and-set-up-an-openstack-client https://ubuntu.com/tutorials/install-openstack-on-your-workstation-and-launch-your-first-instance#1-overview https://ubuntu.com/security/docker-images https://ubuntu.com/server/docs/install/autoinstall-quickstart https://earthly.dev/blog/lxc-vs-docker/ https://github.com/opencontainers/image-spec https://github.com/opencontainers/runtime-spec/blob/main/bundle.md https://github.com/opencontainers/runtime-spec/blob/main/config.md https://github.com/opencontainers/runtime-spec/blob/main/spec.md https://github.com/opencontainers/runtime-spec https://github.com/cncf/foundation/blob/main/code-of-conduct.md https://linux.how2shout.com/how-to-use-virt-manager-gui-to-manage-multipass-ubuntu-vms/ https://www.nakivo.com/blog/virtualbox-network-setting-guide/ https://www.virtualbox.org/manual/ch04.html https://github.com/containernetworking/cni https://github.com/containers/Demos/blob/main/building/buildah_intro/buildah_intro.sh https://github.com/moby/buildkit https://libvirt.org/manpages/libvirtd.html https://linuxcontainers.org/lxd/ https://pwittrock.github.io/docs/getting-started-guides/rkt/ https://rocket.readthedocs.io/en/latest/Documentation/devel/architecture/ https://rocket.readthedocs.io/en/latest/README/ https://wiki.ubuntu.com/Lvm https://www.youtube.com/watch?v=sK5i-N34im8 {J\u00e9r\u00f4me Petazzoni: cgroups, namespaces, and beyond} https://hercstudio.sourceforge.io/ https://www.howtoinstall.me/ubuntu/18-04/hercules/ https://hercstudio.sourceforge.io/ubuntu.html http://www.hercules-390.eu/ https://ubuntu.com/download/server/s390x http://www.hercules-390.org/hercconf.html#CCKD https://astr0baby.wordpress.com/2018/06/03/installing-ubuntu-18-04-server-s390x-in-hercules-mainframe-simulator/ https://supratim-sanyal.blogspot.com/2018/10/bionic-beaver-on-zarchitecture-my.html https://wiki.ubuntu.com/S390X https://cloud-images.ubuntu.com/releases/22.04/release/ https://share.confex.com/share/124/webprogram/Handout/Session16427/share-march-2015-kvm-for-zvm-lovers.pdf http://www.hercules-390.org/hercsupp.html http://www.hercules-390.org/hercinst.html https://hercstudio.sourceforge.io/index.html https://en.wikipedia.org/wiki/Hercules_(emulator) https://en.wikipedia.org/wiki/Comparison_of_platform_virtualization_software https://linuxcontainers.org/incus/ https://linuxcontainers.org/incus/try-it/","title":"Virtualisation"},{"location":"referencesResearch/#kubernetes","text":"https://askubuntu.com/questions/1316899/remove-node-from-microk8s-cluster https://charmhub.io/microk8s/docs/how-to-cluster https://cloudyuga.guru/hands_on_lab/subpath https://dev.to/ajeetraina/how-to-install-kubernetes-cluster-on-ubuntu-2004-with-kubeadm-in-2023-501i https://docs.k3s.io/installation https://github.com/kubernetes/ingress-nginx/blob/main/docs/deploy/index.md https://github.com/kubernetes/ingress-nginx/blob/main/docs/examples/rewrite/README.md https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/annotations.md https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/configmap.md https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/custom-template.md https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/index.md https://github.com/kubernetes/sample-controller/blob/master/controller.go https://github.com/kubernetes/sample-controller/blob/master/docs/controller-client-go.md https://kubeapps.dev/ https://kubernetes.github.io/ingress-nginx/ https://kubernetes.github.io/ingress-nginx/deploy/ https://kubernetes.github.io/ingress-nginx/deploy/baremetal/ https://kubernetes.github.io/ingress-nginx/deploy/rbac/ https://kubernetes.github.io/ingress-nginx/examples/rewrite/#app-root https://kubernetes.github.io/ingress-nginx/examples/static-ip/ https://kubernetes.github.io/ingress-nginx/user-guide/tls/ https://kubernetes.io/blog/2021/08/09/run-nodes-with-swap-alpha/ https://kubernetes.io/blog/2021/09/13/read-write-once-pod-access-mode-alpha/ https://kubernetes.io/blog/2023/03/17/upcoming-changes-in-kubernetes-v1-27/ https://kubernetes.io/blog/2023/08/15/pkgs-k8s-io-introduction/ https://kubernetes.io/blog/2023/08/24/swap-linux-beta/ https://kubernetes.io/blog/2023/08/31/legacy-package-repository-deprecation/ https://kubernetes.io/docs/concepts/architecture/controller/ https://kubernetes.io/docs/concepts/architecture/garbage-collection/ https://kubernetes.io/docs/concepts/cluster-administration/logging/ https://kubernetes.io/docs/concepts/cluster-administration/networking/ https://kubernetes.io/docs/concepts/cluster-administration/system-logs/ https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/ https://kubernetes.io/docs/concepts/containers/images/ https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/ https://kubernetes.io/docs/concepts/extend-kubernetes/operator/ https://kubernetes.io/docs/concepts/overview/components/ https://kubernetes.io/docs/concepts/overview/kubernetes-api/ https://kubernetes.io/docs/concepts/overview/working-with-objects/common-labels/ https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ https://kubernetes.io/docs/concepts/overview/working-with-objects/names/ https://kubernetes.io/docs/concepts/security/service-accounts/ https://kubernetes.io/docs/concepts/services-networking/ https://kubernetes.io/docs/concepts/services-networking/cluster-ip-allocation/ https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/ https://kubernetes.io/docs/concepts/services-networking/endpoint-slices/ https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/ https://kubernetes.io/docs/concepts/services-networking/ingress/#examples https://kubernetes.io/docs/concepts/services-networking/ingress/ https://kubernetes.io/docs/concepts/services-networking/service/ https://kubernetes.io/docs/concepts/storage/ https://kubernetes.io/docs/concepts/storage/persistent-volumes/ https://kubernetes.io/docs/concepts/storage/volumes/#using-subpath https://kubernetes.io/docs/concepts/storage/volumes/ https://kubernetes.io/docs/concepts/workloads/controllers/deployment/ https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates https://kubernetes.io/docs/concepts/workloads/pods/ https://kubernetes.io/docs/concepts/workloads/pods/ephemeral-containers/ https://kubernetes.io/docs/concepts/workloads/pods/init-containers/ https://kubernetes.io/docs/reference/access-authn-authz/authentication/ https://kubernetes.io/docs/reference/access-authn-authz/authorization/ https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/ https://kubernetes.io/docs/reference/config-api/kubeadm-config.v1beta4/ https://kubernetes.io/docs/reference/config-api/kubelet-config.v1beta1/ https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/ https://kubernetes.io/docs/reference/kubectl/ https://kubernetes.io/docs/reference/kubectl/cheatsheet/ https://kubernetes.io/docs/reference/networking/virtual-ips/ https://kubernetes.io/docs/reference/setup-tools/kubeadm/ https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm-init/ https://kubernetes.io/docs/reference/using-api/ https://kubernetes.io/docs/setup/best-practices/ https://kubernetes.io/docs/setup/best-practices/certificates/ https://kubernetes.io/docs/setup/best-practices/multiple-zones/ https://kubernetes.io/docs/setup/best-practices/node-conformance/ https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/ha-topology/ https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/ https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/ https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/ https://kubernetes.io/docs/tasks/administer-cluster/change-default-storage-class/ https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/ https://kubernetes.io/docs/tasks/configure-pod-container/configure-pod-configmap/ https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/ https://kubernetes.io/docs/tasks/configure-pod-container/security-context/ https://kubernetes.io/docs/tasks/debug/debug-application/debug-running-pod/ https://kubernetes.io/docs/tasks/run-application/run-stateless-application-deployment/ https://kubernetes.io/docs/tasks/tools/ https://kubernetes.io/docs/tasks/tools/install-kubectl-macos/ https://kubernetes.io/docs/tutorials/configuration/configure-redis-using-configmap/ https://kubernetes.io/docs/tutorials/services/connect-applications-service/ https://kubernetes.io/docs/tutorials/services/source-ip/ https://kubernetes.io/docs/tutorials/stateless-application/expose-external-ip-address/ https://microk8s.io/docs/add-launch-config https://microk8s.io/docs/addon-cert-manager https://microk8s.io/docs/addon-dashboard https://microk8s.io/docs/addon-easyhaproxy https://microk8s.io/docs/addon-fluentd https://microk8s.io/docs/addon-host-access https://microk8s.io/docs/addon-hostpath-storage https://microk8s.io/docs/addon-ingress https://microk8s.io/docs/addon-mayastor https://microk8s.io/docs/addon-metallb https://microk8s.io/docs/addon-minio https://microk8s.io/docs/addon-nfs https://microk8s.io/docs/addon-rook-ceph https://microk8s.io/docs/addons https://microk8s.io/docs/change-cidr https://microk8s.io/docs/cis-compliance https://microk8s.io/docs/clustering https://microk8s.io/docs/configure-host-interfaces https://microk8s.io/docs/explain-launch-config https://microk8s.io/docs/external-lma https://microk8s.io/docs/high-availability https://microk8s.io/docs/how-to-ceph https://microk8s.io/docs/how-to-cis-harden https://microk8s.io/docs/how-to-nfs https://microk8s.io/docs/install-lxd https://microk8s.io/docs/ref-launch-config https://microk8s.io/docs/registry-built-in https://microk8s.io/docs/services-and-ports https://microk8s.io/docs/troubleshooting https://microk8s.io/docs/upgrading https://github.com/kubernetes-sigs/kubebuilder https://github.com/kubernetes-sigs/kubespray https://github.com/kubernetes-sigs/kustomize/blob/master/examples/valueAdd.md https://github.com/kubernetes-sigs/kustomize https://github.com/kubernetes-sigs/metrics-server https://github.com/kubernetes/community/blob/8cafef897a22026d42f5e5bb3f104febe7e29830/contributors/devel/controllers.md https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md#admin-privileges https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md https://github.com/kubernetes/enhancements/blob/9d127347773ad19894ca488ee04f1cd3af5774fc/keps/sig-node/2400-node-swap/README.md https://github.com/kubernetes/enhancements/tree/master/keps/sig-node/753-sidecar-containers https://github.com/kubernetes/examples/blob/master/staging/https-nginx/default.conf https://github.com/kubernetes/git-sync/blob/master/docs/kubernetes.md https://github.com/kubernetes/git-sync https://medium.com/@senthilrch/woot-kubernetes-adds-support-for-swap-memory-92541aad01a0 https://medium.com/thermokline/how-to-choose-a-k8s-cni-plugin-771edf4842c0 https://medium.com/nerd-for-tech/getting-started-with-kubernetes-pod-security-context-and-policy-26619529a64b https://medium.com/programmers-journey/dead-simple-include-env-variables-in-kubernetes-deployment-yaml-1c0e8f859fde https://faun.pub/an-overview-of-microk8s-and-why-using-it-in-the-cloud-was-a-terrible-idea-9ba8506dc467 https://get.k3s.io/ https://itnext.io/microk8s-1-27-is-out-6eef05f63e3b https://k3s.io/ https://minikube.sigs.k8s.io/docs/start/ https://ubuntu.com/kubernetes/install https://github.com/canonical/microk8s/tree/feature/jdb%2Fstrict https://logz.io/blog/getting-started-with-kubernetes-using-microk8s/ https://richardscoding.wordpress.com/2021/04/08/setting-up-a-microk8s-cluster/ https://www.linkedin.com/pulse/9-steps-enable-kubernetes-dashboard-microk8s-hendri-t/ https://www.server-world.info/en/note?os=Ubuntu_20.04&p=microk8s&f=5 https://www.rancher.com/products/k3s https://k21academy.com/docker-kubernetes/kubernetes-namespace/ https://opensource.com/article/22/3/visual-map-kubernetes-deployment https://opensource.com/article/22/6/kubernetes-networking-fundamentals https://ubuntu.com/blog/canonical%EF%BB%BF-kubernetes-1-28-is-now-generally-available https://ubuntu.com/tutorials/navigate-through-the-openstack-dashboard-menu#1-overview https://www.ianlewis.org/en/almighty-pause-container https://www.ianlewis.org/en/what-are-kubernetes-pods-anyway https://www.padok.fr/en/blog/kubernetes-architecture-clusters https://kubernetes.io/docs/concepts/workloads/pods/disruptions/ https://docs.starlingx.io/security/kubernetes/install-the-kubernetes-dashboard.html https://fntlnz.wtf/post/what-i-learnt-about-kubernetes-controller/ https://github.com/ovn-org/ovn-kubernetes/ https://ibm.github.io/kubernetes-networking/services/nodeport/ https://kubevious.io/blog/post/comparing-kubernetes-container-network-interface-cni-providers https://loft.sh/blog/kubernetes-persistent-volumes-examples-and-best-practices/ https://spacelift.io/blog/restart-kubernetes-pods-with-kubectl https://tharangarajapaksha.medium.com/backup-options-in-kubernetes-deployment-f301a9464c96 https://thenewstack.io/deletion-garbage-collection-kubernetes-objects/ https://wkrzywiec.medium.com/deployment-of-multiple-apps-on-kubernetes-cluster-walkthrough-e05d37ed63d1 https://www.civo.com/academy/kubernetes-volumes/introduction-kubernetes-remote-storage https://www.cncf.io/blog/2023/07/03/kubernetes-logging-best-practices/ https://www.g2.com/products/kubernetes/competitors/alternatives https://www.ibm.com/docs/en/fcifi/3.0.1?topic=administering-changing-kubernetes-master-node-ip-address https://www.techtarget.com/searchitoperations/tutorial/Kubernetes-performance-testing-tutorial-Load-test-a-cluster https://github.com/operator-framework/operator-sdk https://pwittrock.github.io/docs/admin/kubeadm/ https://spacelift.io/blog/kubectl-logs https://www.freecodecamp.org/news/subnet-cheat-sheet-24-subnet-mask-30-26-27-29-and-other-ip-address-cidr-network-references/ https://www.getambassador.io/docs/edge-stack/latest/howtos/cert-manager https://www.wiz.io/blog/from-pod-security-policies-to-pod-security-standards-a-migration-guide https://kubernetes.io/docs/tasks/administer-cluster/safely-drain-node/","title":"Kubernetes"},{"location":"referencesResearch/#storage","text":"https://docs.ceph.com/en/latest/rbd/rbd-kubernetes/ https://blog.palark.com/kubernetes-storage-performance-linstor-ceph-mayastor-vitastor/ https://canonical-microceph.readthedocs-hosted.com/en/latest/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/cluster-configurations/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/full-disk-encryption/ https://canonical-microceph.readthedocs-hosted.com/en/latest/explanation/snap-content-interface/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/configure-network-keys/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/enable-metrics/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/remove-disk/ https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/service-placement/ https://canonical-microceph.readthedocs-hosted.com/en/latest/reference/commands/cluster/ https://canonical-microceph.readthedocs-hosted.com/en/latest/tutorial/multi-node/ https://ceph.com/assets/pdfs/weil-rados-pdsw07.pdf https://ceph.io/en/ https://ceph.io/en/users/getting-started/ https://charmhub.io/ceph-fs https://cloudian.com/guides/kubernetes-storage/kubernetes-storage-101-concepts-and-best-practices/ https://cloudopsofficial.medium.com/the-ultimate-rook-and-ceph-survival-guide-eff198a5764a https://computingforgeeks.com/persistent-storage-for-kubernetes-with-ceph-rbd/ https://confluence.cc.lehigh.edu/pages/viewpage.action?pageId=108364140 https://daegonk.medium.com/kubernetes-provisioner-setup-for-ceph-rbd-and-cephfs-ce286fbbd1e3 https://discourse.ubuntu.com/t/deploying-ceph-with-rook/32565 https://discuss.linuxcontainers.org/t/introducing-microceph/15457/43?page=2 https://docs.ceph.com/en/latest/install/ https://docs.ceph.com/en/latest/man/8/ceph-volume/ https://docs.ceph.com/en/latest/man/8/mount.ceph/ https://docs.ceph.com/en/latest/mgr/administrator/ https://docs.ceph.com/en/latest/rados/configuration/network-config-ref/ https://docs.ceph.com/en/latest/rados/operations/ https://docs.ceph.com/en/latest/rados/operations/crush-map/ https://docs.ceph.com/en/latest/rados/operations/operating/ https://docs.ceph.com/en/latest/rados/operations/placement-groups/ https://docs.ceph.com/en/latest/rados/operations/pools/ https://docs.ceph.com/en/latest/start/intro/ https://docs.ceph.com/en/mimic/rados/configuration/pool-pg-config-ref/ https://docs.ceph.com/en/mimic/rados/operations/monitoring-osd-pg/ https://docs.ceph.com/en/quincy/cephfs/fs-volumes/ https://docs.ceph.com/en/quincy/cephfs/mount-using-kernel-driver/ https://docs.ceph.com/en/quincy/glossary/ https://docs.ceph.com/en/quincy/rados/api/librados-intro/ https://docs.ceph.com/en/quincy/rados/operations/pools/#create-a-pool https://docs.ceph.com/en/quincy/rados/troubleshooting/troubleshooting-osd/ https://docs.ceph.com/en/quincy/start/hardware-recommendations/ https://docs.ceph.com/en/quincy/start/intro/ https://docs.ceph.com/en/quincy/start/quick-rbd/ https://docs.ceph.com/en/reef/rbd/rados-rbd-cmds/ https://rook.github.io/docs/rook/v1.7/ceph-teardown.html https://rook.io/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-csi-common-issues/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-toolbox/ https://medium.com/@muneeburrehman2610/kubernetes-persistent-volume-for-beginners-a13cbe5bdeea https://medium.com/avmconsulting-blog/persistent-volumes-pv-and-claims-pvc-in-kubernetes-bd76923a61f6 https://jonathangazeley.com/2020/09/10/building-a-hyperconverged-kubernetes-cluster-with-microk8s-and-ceph/ https://jonathangazeley.com/2023/03/14/kubernetes-homelab-part-4-hyperconverged-storage/ https://github.com/balchua/do-microk8s/blob/master/docs/rook.md https://www.virtono.com/community/tutorial-how-to/how-to-install-mayastor-add-on-on-microk8s/ https://www.virtualizationhowto.com/2023/08/kubernetes-persistent-volume-setup-with-microk8s-rook-and-ceph/ https://charmhub.io/swift-storage https://joshua-robinson.medium.com/elasticsearch-kubernetes-and-persistent-volumes-f763d9054e54 https://snapcraft.io/microceph https://ubuntu.com/blog/cloud-storage-at-the-edge-with-microceph https://ubuntu.com/ceph https://www.purestorage.com/br/knowledge/what-is-nfs-data-store.html https://manpages.ubuntu.com/manpages/xenial/en/man1/dyndns.1.html https://mayastor.gitbook.io/introduction/ https://mayastor.gitbook.io/introduction/basic-architecture https://github.com/container-storage-interface/spec/blob/master/spec.md https://github.com/rook/kubectl-rook-ceph https://github.com/rook/rook https://github.com/openebs/mayastor https://openebs.io/ https://spdk.io/ https://www.cyberciti.biz/faq/apple-mac-osx-nfs-mount-command-tutorial/ https://www.mirantis.com/blog/object-storage-openstack-cloud-swift-ceph/","title":"Storage"},{"location":"referencesResearch/#helm","text":"https://blog.knoldus.com/helm2-vs-helm3-simplified/ https://docs.bitnami.com/kubernetes/faq/administration/understand-helm-chart/ https://docs.bitnami.com/kubernetes/faq/get-started/understand-charts-release-process/ https://helm.sh/docs/helm/helm_list/ https://helm.sh/docs/helm/helm_uninstall/ https://helm.sh/docs/helm/helm_upgrade/ https://helm.sh/docs/howto/charts_tips_and_tricks/ https://helm.sh/docs/intro/quickstart/ https://helm.sh/docs/topics/chart_repository/ https://helm.sh/docs/topics/charts/ https://helmfile.readthedocs.io/en/latest/ https://medium.com/swlh/how-to-declaratively-run-helm-charts-using-helmfile-ac78572e6088 https://chartmuseum.com/ https://charts.helm.sh/stable/ https://wkrzywiec.medium.com/how-to-deploy-application-on-kubernetes-with-helm-39f545ad33b8 https://help.cloudsmith.io/docs/helm-chart-repository","title":"Helm"},{"location":"referencesReserve/","text":"Reserve References These links are not directly related to the PodZone project, or Kubernetes upskilling. They are included as they are resources relevant to the ecosystem. Consumer Cloud https://nextcloud.com/ https://nextcloud.com/athome/ https://nextcloud.com/install/ https://github.com/nextcloud/all-in-one https://docs.kubesail.com/ https://docs.kubesail.com/getting-started/ https://docs.kubesail.com/templates/ https://photostructure.com/ https://www.inkandswitch.com/local-first/ https://news.ycombinator.com/item?id=35031109 Kubernetes Repositories,Management platforms, Security and Governance https://blog.container-solutions.com/installing-a-registry-on-kubernetes-quickstart https://helm.sh/docs/topics/chart_repository/ https://helm.sh/docs/topics/provenance/ https://jfrog.com/ https://www.portainer.io/ https://juju.is/ https://www.redhat.com/en/technologies/cloud-computing/openshift https://www.rancher.com/community https://www.rancher.com/ https://www.portainer.io/portainer-vs-rancher-vs-openshift https://dyrectorio.com/ https://kubermachines.com/ https://arioslabs.io/products/klate/ https://www.flexiant.com/ https://kublr.com/ https://keybase.io/ https://github.com/alexellis/k3sup Openstack, MicroCloud, juju, MAAS https://www.openstack.org/ https://www.openstack.org/community https://www.openstack.org/marketplace/distros/distribution/canonical/canonical-s-charmed-openstack https://www.openstack.org/use-cases/bare-metal/ https://www.openstack.org/user-survey/2022-user-survey-report https://wiki.openstack.org/wiki/Heat https://microcloud.is/ https://microstack.run/docs/multi-node https://microstack.run/docs https://juju.is/ https://juju.is/docs/juju/configuration https://juju.is/docs/juju/integration https://juju.is/docs/juju/manage-applications https://juju.is/docs/juju/manage-machines https://juju.is/docs/juju/manage-same-model-integrations https://juju.is/docs/juju/tutorial https://juju.is/docs/sdk/build-and-deploy-minimal-machine-charm https://juju.is/docs/sdk https://juju.is/model-driven-operations-manifesto https://maas.io/docs/about-cloud-networking https://maas.io/docs/about-dhcp https://maas.io/docs/about-maas-networks https://maas.io/docs/about-tcp-ip-networks https://maas.io/docs/bootstrap-maas https://maas.io/docs/cloud-networking-essentials-for-maas https://maas.io/docs/explanation https://maas.io/docs/how-to-guides https://maas.io/docs/installation-requirements https://maas.io/docs/overview-of-maas https://maas.io/docs/reference https://maas.io/tutorials/build-a-maas-and-lxd-environment-in-30-minutes-with-multipass-on-ubuntu#1-overview Unsorted https://airflow.apache.org/ https://blog.devgenius.io/setting-up-apache-airflow-on-kubernetes-with-gitsync-beaac2e397f3 https://book.kubebuilder.io/ https://book.kubebuilder.io/quick-start https://charmhub.io/jupyter-ui https://cloud-init.io/ https://cloud.redhat.com/blog/introducing-the-operator-framework https://cloudinit.readthedocs.io/en/latest/ https://cloudinit.readthedocs.io/en/latest/reference/datasources/nocloud.html https://cloudinit.readthedocs.io/en/latest/reference/examples.html https://cloudinit.readthedocs.io/en/latest/reference/modules.html https://cloudinit.readthedocs.io/en/latest/tutorial/lxd.html https://dansdatathoughts.substack.com/p/from-s3-to-r2-an-economic-opportunity https://discuss.linuxcontainers.org/t/using-host-gateway-for-dhcp-for-lxc-containers/14775 https://docs.openstack.org/openstack-ansible-os_ironic/latest/ https://docs.oracle.com/cd/E19683-01/816-5042/auto32/index.html https://en.wikipedia.org/wiki/1-Wire https://en.wikipedia.org/wiki/Fog_computing https://en.wikipedia.org/wiki/FreeBSD_jail https://en.wikipedia.org/wiki/FreeRTOS https://en.wikipedia.org/wiki/Government_Digital_Service https://en.wikipedia.org/wiki/IA-64 https://en.wikipedia.org/wiki/IBM_Z https://en.wikipedia.org/wiki/Kernel-based_Virtual_Machine https://en.wikipedia.org/wiki/Mirantis https://en.wikipedia.org/wiki/OpenStack https://en.wikipedia.org/wiki/Preboot_Execution_Environment https://en.wikipedia.org/wiki/QEMU https://en.wikipedia.org/wiki/Redundant_array_of_independent_memory https://en.wikipedia.org/wiki/Rust_(programming_language) https://en.wikipedia.org/wiki/Scala_(programming_language) https://en.wikipedia.org/wiki/Trusted_Platform_Module https://en.wikipedia.org/wiki/Twelve-Factor_App_methodology https://en.wikipedia.org/wiki/TypeScript https://en.wikipedia.org/wiki/UEFI https://en.wikipedia.org/wiki/Z/Architecture https://blog.frankel.ch/hard-things-computer-science/ 4 https://ubuntu.com/blog/451-research-benchmarks-public-and-private-infrastructure-cost https://ubuntu.com/blog/bootstack-managed-cloud-factsheet-2 https://ubuntu.com/blog/canonical-kubernetes-for-financial-services https://ubuntu.com/blog/data-ops-at-petabyte-scale https://ubuntu.com/blog/diataxis-a-new-foundation-for-canonical-documentation https://kodekloud.com/blog/kubectl-cp/ https://kodekloud.com/blog/kubernetes-headless-service/ https://medium.com/jaegertracing/a-guide-to-deploying-jaeger-on-kubernetes-in-production-69afb9a7c8e5 https://www.portainer.io/kubernetes-management-platform https://www.pulumi.com/registry/packages/kubernetes/api-docs/yaml/configfile/ https://www.weave.works/docs/net/latest/kubernetes/kube-addon/ https://forum.snapcraft.io/t/cloud-init-with-netplan/1301/2 https://forum.snapcraft.io/t/data-locations/24905 https://forum.snapcraft.io/t/how-to-preconfigure-custom-image/4154 https://forum.snapcraft.io/t/preconfigure-ubuntu-core-image-that-does-not-require-store-account-login-on-first-boot/7994 https://forum.snapcraft.io/t/quickstart-guide/3876 https://forum.snapcraft.io/t/the-snap-format/698 https://gateway-api.sigs.k8s.io/ https://gateway-api.sigs.k8s.io/concepts/glossary/ https://gateway-api.sigs.k8s.io/concepts/roles-and-personas/ https://gateway-api.sigs.k8s.io/concepts/service-facets/ https://freshtomato.org/ https://gist.github.com/tuannvm/0fc6e94a3759c91b1abe71c149152f77 https://git.yourcmc.ru/vitalif/vitastor/src/branch/master/README.md https://github.com/axians/meta-microservicebus https://github.com/canonical/k8s-dqlite https://github.com/dexidp/dex https://github.com/fralau/mkdocs-mermaid2-plugin https://github.com/GoogleContainerTools/kaniko https://github.com/jetstack/kube-lego#kube-lego https://github.com/jordanwilson230/kubectl-plugins https://github.com/kelseyhightower/confd https://github.com/Masterminds/sprig https://go.dev/blog/using-go-modules https://gopaddle.io/ https://github.com/spacewalkproject/spacewalk https://kafka.apache.org/ https://kafka.apache.org/intro https://kafka.apache.org/quickstart https://kafka.apache.org/uses https://docs.parseplatform.org/ https://docs.parseplatform.org/parse-server/guide/ https://docs.saltproject.io/en/latest/ref/cli/salt-minion.html https://docs.saltproject.io/en/master/topics/tutorials/walkthrough.html https://docs.swimm.io/ https://fedoraproject.org/coreos/ https://github.com/tektoncd/pipeline/ https://hackernoon.com/managing-ubuntu-snaps-the-stuff-no-one-tells-you-625dfbe4b26c https://hackernoon.com/what-is-fluid-computing-its-applications-and-the-future-ahead-nnh30ea https://hadoop.apache.org/ https://help.ubuntu.com/community/IPMI https://hub.datree.io/built-in-rules https://hub.docker.com/u/ubuntu https://inaccel.com/ https://ipwithease.com/vlan-vs-vxlan/ https://ipwithease.com/vxlan-and-otv/ https://ipxe.org/ https://istio.io/ https://katacontainers.io/ https://krew.sigs.k8s.io/docs/user-guide/setup/install/ https://kroki.io/ https://kubespray.io/#/ https://layers.openembedded.org/layerindex/branch/master/layers/ https://levelup.gitconnected.com/12-microservices-pattern-i-wish-i-knew-before-the-system-design-interview-5c35919f16a2 https://linbit.com/linstor/ https://linkerd.io/ https://longhorn.io/docs/archives/1.1.1/snapshots-and-backups/csi-snapshot-support/enable-csi-snapshot-support/ https://mia-platform.eu/ https://mir-server.io/ubuntu-frame https://mobyproject.org/ https://mqtt.org/ https://netplan.io/ https://netplan.readthedocs.io/en/stable/examples/ https://news.ycombinator.com/item?id=31605302 https://nodered.org/ https://openbuildservice.org/ https://pressbooks-dev.oer.hawaii.edu/principlesofeconomics/chapter/10-2-oligopoly/ https://stacklok.com/minder https://stacklok.com/trusty https://packaging.python.org/en/latest/tutorials/installing-packages/#installing-from-local-archives https://pkg.go.dev/text/template https://snapcraft.io/docs/adding-snap-configuration https://snapcraft.io/docs/configuration-in-snaps https://techcrunch.com/2019/05/15/vmware-acquires-bitnami-to-deliver-packaged-applications-anywhere/ https://suitecrm.com/ https://techcrunch.com/2023/08/31/best-practices-for-cloud-finops/ https://ubuntu.com/blog/tag/hadoop https://traefik.io/traefik/ https://toml.io/en/ https://ubuntu.com/core/docs/networkmanager https://ubuntu.com/server/docs/network-configuration https://ubuntu.com/server/docs/rock-images/introduction https://voidlinux.org/ https://wiki.adamsweet.org/doku.php?id=ipmi_on_linux https://wiki.linuxfoundation.org/networking/bonding https://wiki.ubuntu.com/FanNetworking https://www.bloorresearch.com/technology/big-software/ https://www.asrock.com/mb/Intel/H61M-VS3/index.asp https://www.cloudsigma.com/ https://www.devspace.sh/component-chart/docs/introduction https://www.devspace.sh/docs/getting-started/introduction https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-20-04 https://www.docker.com/blog/how-to-build-and-test-your-docker-images-in-the-cloud-with-docker-hub/ https://www.freedesktop.org/software/systemd/man/systemd-networkd.service.html https://www.howtogeek.com/50787/add-a-user-to-a-group-or-second-group-on-linux/ https://www.getport.io/ https://www.ibm.com/linuxone https://www.ibm.com/products/linuxone-4 https://www.infoq.com/news/2014/03/docker_0_9/ https://www.jetbrains.com/space/ https://www.kube-ovn.io/ https://www.kubeflow.org/ https://www.kubeflow.org/docs/components/pipelines/v1/introduction/ https://www.lifewire.com/definition-of-tftp-817576 https://www.linkedin.com/pulse/pxe-boot-apple-mac-out-touching-keyboard-eric-bruno/ https://www.linuxandubuntu.com/home/ubuntu-pro-vs-ubuntu?expand_article=1 https://www.oracle.com/corporate/acquisitions/dyn/technologies/ecommerce-customer-faq.html https://www.portainer.io/ https://www.rackspace.com/ https://www.rancher.com/ https://www.redhat.com/sysadmin/analyze-processes-lsof https://www.sobyte.net/post/2021-06/several-ways-to-stop-goroutine-in-golang/ https://www.sqlalchemy.org/ https://www.techtarget.com/searchnetworking/definition/Preboot-Execution-Environment https://www.terraform.io/ https://www.theregister.com/2019/06/25/oracle_dyn_cloud_axed_2020/ https://www.zdnet.com/article/programming-languages-developers-reveal-what-they-love-and-loathe-and-what-pays-best/ https://www.sigstore.dev/ https://www.upbound.io/ https://www.wireguard.com/ https://www.wiz.io/ Serverless https://www.serverless.com/framework/docs/providers/kubeless/guide/intro https://www.cncf.io/blog/2020/04/13/serverless-open-source-frameworks-openfaas-knative-more/ https://alternativeto.net/software/openfaas/ https://docs.openfaas.com/deployment/kubernetes/ https://www.openfaas.com/pricing/ https://blog.alexellis.io/serverless-kubernetes-on-raspberry-pi/ <> New https://wiki.ubuntu.com/Minimal https://linux.die.net/man/8/dmidecode https://www.ibm.com/docs/en/spectrumvirtualsoftw/8.2.x?topic=planning-iscsi-overview https://betterprogramming.pub/strato-dyndns-controller-for-kubernetes-9a59ae426c5b https://codeburst.io/ddclient-c9a6ac1d8f81 https://morioh.com/a/a7abca2fa0c4/how-to-setup-a-free-dynamic-dns-service-with-ddclient-on-kubernetes https://www.kubecost.com/kubernetes-best-practices/kubernetes-external-service/ https://en.wikipedia.org/wiki/TUN/TAP https://wiki.ubuntu.com/PlanetUbuntu https://wiki.ubuntu.com/Membership http://www.catb.org/~esr/writings/magic-cauldron/magic-cauldron.html https://www.sanitarium.net/jokes/getjoke.cgi?41 https://developer.ibm.com/articles/compare-deep-learning-frameworks/ https://developer.ibm.com/articles/cc-machine-learning-deep-learning-architectures/ https://developer.ibm.com/components/tekton/ https://developer.ibm.com/ https://www.seebs.net/faqs/manager.html https://www.seebs.net/faqs/hacker.html https://en.wikipedia.org/wiki/The_Magic_Cauldron_(essay) https://en.wikipedia.org/wiki/Homesteading_the_Noosphere https://ideas.ted.com/sick-and-tired-of-the-culture-of-contempt-here-are-5-ways-you-can-subvert-it/ https://blog.aurynn.com/2015/12/16-contempt-culture https://www.sangoma.com/products/open-source/ https://docs.asterisk.org/About-the-Project/A-Brief-History-of-the-Asterisk-Project/ https://clusterlabs.org/pacemaker/ https://corosync.github.io/corosync/ https://en.wikipedia.org/wiki/Corosync_Cluster_Engine https://en.wikipedia.org/wiki/Hyper-converged_infrastructure https://en.wikipedia.org/wiki/Proxmox_Virtual_Environment https://upload.wikimedia.org/wikipedia/commons/7/79/UbuntuFamilyTree1210.svg https://github.com/canonical/microceph/blob/main/HACKING.md https://github.com/spf13/cobra https://discuss.linuxcontainers.org/t/introducing-microceph/15457 https://rook.io/docs/rook/v1.3/ceph-quickstart.html https://rook.io/docs/rook/v1.3/ceph-filesystem.html https://blog.linuxmint.com/?p=3766 https://blog.linuxmint.com/?p=3906 https://linuxmint-user-guide.readthedocs.io/en/latest/snap.html https://en.wikipedia.org/wiki/Snap_(software) https://0pointer.de/blog/projects/the-biggest-myths.html https://thenewstack.io/unix-greatest-inspiration-behind-systemd/ https://laptop.org/ https://news.ycombinator.com/item?id=35166317 https://wiki.ubuntu.com/Lvm https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/enable-metrics/ https://docs.ceph.com/en/quincy/mgr/dashboard/ https://grafana.com/docs/grafana/latest/fundamentals/intro-to-prometheus/ https://jonathangazeley.com/2020/09/10/building-a-hyperconverged-kubernetes-cluster-with-microk8s-and-ceph/ https://docs.ceph.com/en/latest/mgr/orchestrator/ https://www.digitalocean.com/community/tutorials/how-to-set-up-wireguard-on-ubuntu-22-04 https://apps.apple.com/us/app/wireguard/id1451685025?mt=12 https://nordvpn.com/blog/vpn-wireguard/ https://vitux.com/how-to-install-wireguard-vpn-on-ubuntu-22-04/ https://www.digitalocean.com/community/tutorials/how-to-set-up-wireguard-on-ubuntu-22-04 https://discuss.linuxcontainers.org/t/introducing-microceph/15457/47 https://discuss.linuxcontainers.org/t/introducing-microceph/15457/45 https://github.com/canonical/microceph/issues/251#issuecomment-1809014963 https://github.com/canonical/microceph/issues/146 https://github.com/canonical/microceph/issues/254 https://docs.ceph.com/en/mimic/start/quick-ceph-deploy/ https://medium.com/cts-technologies/are-kubernetes-days-numbered-a3c267e65ee9 https://www.theregister.com/2021/03/22/canonical_flutter/ https://martinfowler.com/bliki/CrossPlatformMobile.html https://canonical.com/blog/bring-multi-platform-apps-to-linux-desktop-with-flutter-3 https://pub.dev/publishers/canonical.com/packages https://github.com/firecracker-microvm/firecracker/blob/main/docs/prod-host-setup.md https://aws.amazon.com/fargate/ https://aws.amazon.com/lambda/ https://github.com/firecracker-microvm/firecracker https://opensource.com/article/19/3/rust-virtual-machine https://chromium.googlesource.com/chromiumos/platform/crosvm/ https://opensource.com/article/19/3/rust-virtual-machine https://canonical.com/blog/how-we-designed-the-new-ubuntu-desktop-installer https://foundation.rust-lang.org/news/2021-02-08-hello-world/ https://aturon.github.io/tech/2018/05/25/listening-part-1/ https://aturon.github.io/tech/2018/06/02/listening-part-2/ https://aturon.github.io/tech/2018/06/18/listening-part-3/ https://marc.info/?l=linux-kernel&m=137391223711946&w=2 https://marc.info/?l=linux-kernel&m=136130347127908&w=2 https://aturon.github.io/personal/2019/06/24/survivor-skills/ https://aturon.github.io/personal/2020/09/13/grief-trauma-healing/ https://bholley.net/blog/2017/stylo.html https://helm.sh/docs/chart_best_practices/templates/ https://helm.sh/docs/chart_template_guide/accessing_files/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-csi-common-issues/ https://github.com/rook/rook/tree/master/deploy/examples https://rook.io/docs/rook/v1.12/Storage-Configuration/Shared-Filesystem-CephFS/filesystem-storage/ https://docs.ceph.com/en/mimic/cephfs/createfs/ https://docs.ceph.com/en/mimic/start/quick-cephfs/ https://access.redhat.com/documentation/en-us/red_hat_ceph_storage/3/html/ceph_file_system_guide/introduction-to-ceph-file-system https://helm.sh/docs/helm/helm_pull/ https://kubesail.com/template/loopDelicious/ddclient https://ubuntu.com/blog/why-and-how-to-use-rust-on-ubuntu https://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html https://llvm.org/ https://en.wikipedia.org/wiki/Dunning%E2%80%93Kruger_effect https://docs.rs/springtime/latest/springtime/ https://robert.ocallahan.org/2017/07/confession-of-cc-programmer.html https://foundation.rust-lang.org/news/2021-03-18-introducing-bobby-holley/ https://foundation.rust-lang.org/news/2021-02-08-hello-world/ https://opensource.com/article/21/3/rust-programmer https://opensource.com/article/22/12/learn-rust https://github.com/rust-embedded/rust-raspberrypi-OS-tutorials https://github.com/golemparts/rppal https://www.freecodecamp.org/news/embedded-rust-programming-on-raspberry-pi-zero-w/ https://forums.raspberrypi.com/viewtopic.php?t=353488 https://canonical.com/blog/tag/flutter https://github.com/GoogleChrome/lighthouse/ https://backstage.io/docs/overview/architecture-overview https://backstage.io/docs/features/software-catalog/ https://backstage.io/plugins/ https://backstage.io/blog/2022/03/16/backstage-turns-two/ https://backstage.io/docs/overview/what-is-backstage https://www.businessinsider.in/tech/enterprise/news/the-ceo-of-developer-startup-sentry-explains-the-huge-change-it-made-to-its-business-to-prevent-amazon-and-other-startups-from-profiting-off-its-code/articleshow/72096570.cms https://www.confluent.io/confluent-community-license-faq/ https://www.confluent.io/blog/license-changes-confluent-platform https://stackoverflow.com/questions/67562194/ksql-in-aws-msk https://aws.amazon.com/marketplace/pp/prodview-g6kmcxajfu3bw https://www.confluent.io/resources/confluent-cloud-vs-amazon-msk/ https://www.kai-waehner.de/blog/2022/08/30/when-not-to-choose-amazon-msk-serverless-for-apache-kafka/ https://www.datacenterknowledge.com/open-source/confluent-creates-new-open-source-license-stop-cloud-poaching https://www.datacenterknowledge.com/open-source/7-open-source-tools-consider-your-data-center https://nmap.org/book/man.html https://opendcim.org/ https://thenewstack.io/making-europes-romantic-open-source-world-more-practical/ https://spacelift.io/blog/spacelift-latest-statement-on-hashicorp-bsl https://spacelift.io/blog/opentf-announcing-terraform-fork https://www.terraform.io/use-cases/infrastructure-as-code https://www.hashicorp.com/products/terraform https://ubuntu.com/blog/if-youre-still-using-ifconfig-youre-living-in-the-past https://www.oracle.com/technical-resources/articles/it-infrastructure/admin-manage-vbox-cli.html https://www.virtualbox.org/manual/ch08.html https://www.cyberithub.com/vboxmanage-an-introduction-to-virtualbox-cli-with-examples/","title":"Reserve References"},{"location":"referencesReserve/#reserve-references","text":"These links are not directly related to the PodZone project, or Kubernetes upskilling. They are included as they are resources relevant to the ecosystem.","title":"Reserve References"},{"location":"referencesReserve/#consumer-cloud","text":"https://nextcloud.com/ https://nextcloud.com/athome/ https://nextcloud.com/install/ https://github.com/nextcloud/all-in-one https://docs.kubesail.com/ https://docs.kubesail.com/getting-started/ https://docs.kubesail.com/templates/ https://photostructure.com/ https://www.inkandswitch.com/local-first/ https://news.ycombinator.com/item?id=35031109","title":"Consumer Cloud"},{"location":"referencesReserve/#kubernetes-repositoriesmanagement-platforms-security-and-governance","text":"https://blog.container-solutions.com/installing-a-registry-on-kubernetes-quickstart https://helm.sh/docs/topics/chart_repository/ https://helm.sh/docs/topics/provenance/ https://jfrog.com/ https://www.portainer.io/ https://juju.is/ https://www.redhat.com/en/technologies/cloud-computing/openshift https://www.rancher.com/community https://www.rancher.com/ https://www.portainer.io/portainer-vs-rancher-vs-openshift https://dyrectorio.com/ https://kubermachines.com/ https://arioslabs.io/products/klate/ https://www.flexiant.com/ https://kublr.com/ https://keybase.io/ https://github.com/alexellis/k3sup","title":"Kubernetes Repositories,Management platforms, Security and Governance"},{"location":"referencesReserve/#openstack-microcloud-juju-maas","text":"https://www.openstack.org/ https://www.openstack.org/community https://www.openstack.org/marketplace/distros/distribution/canonical/canonical-s-charmed-openstack https://www.openstack.org/use-cases/bare-metal/ https://www.openstack.org/user-survey/2022-user-survey-report https://wiki.openstack.org/wiki/Heat https://microcloud.is/ https://microstack.run/docs/multi-node https://microstack.run/docs https://juju.is/ https://juju.is/docs/juju/configuration https://juju.is/docs/juju/integration https://juju.is/docs/juju/manage-applications https://juju.is/docs/juju/manage-machines https://juju.is/docs/juju/manage-same-model-integrations https://juju.is/docs/juju/tutorial https://juju.is/docs/sdk/build-and-deploy-minimal-machine-charm https://juju.is/docs/sdk https://juju.is/model-driven-operations-manifesto https://maas.io/docs/about-cloud-networking https://maas.io/docs/about-dhcp https://maas.io/docs/about-maas-networks https://maas.io/docs/about-tcp-ip-networks https://maas.io/docs/bootstrap-maas https://maas.io/docs/cloud-networking-essentials-for-maas https://maas.io/docs/explanation https://maas.io/docs/how-to-guides https://maas.io/docs/installation-requirements https://maas.io/docs/overview-of-maas https://maas.io/docs/reference https://maas.io/tutorials/build-a-maas-and-lxd-environment-in-30-minutes-with-multipass-on-ubuntu#1-overview","title":"Openstack, MicroCloud, juju, MAAS"},{"location":"referencesReserve/#unsorted","text":"https://airflow.apache.org/ https://blog.devgenius.io/setting-up-apache-airflow-on-kubernetes-with-gitsync-beaac2e397f3 https://book.kubebuilder.io/ https://book.kubebuilder.io/quick-start https://charmhub.io/jupyter-ui https://cloud-init.io/ https://cloud.redhat.com/blog/introducing-the-operator-framework https://cloudinit.readthedocs.io/en/latest/ https://cloudinit.readthedocs.io/en/latest/reference/datasources/nocloud.html https://cloudinit.readthedocs.io/en/latest/reference/examples.html https://cloudinit.readthedocs.io/en/latest/reference/modules.html https://cloudinit.readthedocs.io/en/latest/tutorial/lxd.html https://dansdatathoughts.substack.com/p/from-s3-to-r2-an-economic-opportunity https://discuss.linuxcontainers.org/t/using-host-gateway-for-dhcp-for-lxc-containers/14775 https://docs.openstack.org/openstack-ansible-os_ironic/latest/ https://docs.oracle.com/cd/E19683-01/816-5042/auto32/index.html https://en.wikipedia.org/wiki/1-Wire https://en.wikipedia.org/wiki/Fog_computing https://en.wikipedia.org/wiki/FreeBSD_jail https://en.wikipedia.org/wiki/FreeRTOS https://en.wikipedia.org/wiki/Government_Digital_Service https://en.wikipedia.org/wiki/IA-64 https://en.wikipedia.org/wiki/IBM_Z https://en.wikipedia.org/wiki/Kernel-based_Virtual_Machine https://en.wikipedia.org/wiki/Mirantis https://en.wikipedia.org/wiki/OpenStack https://en.wikipedia.org/wiki/Preboot_Execution_Environment https://en.wikipedia.org/wiki/QEMU https://en.wikipedia.org/wiki/Redundant_array_of_independent_memory https://en.wikipedia.org/wiki/Rust_(programming_language) https://en.wikipedia.org/wiki/Scala_(programming_language) https://en.wikipedia.org/wiki/Trusted_Platform_Module https://en.wikipedia.org/wiki/Twelve-Factor_App_methodology https://en.wikipedia.org/wiki/TypeScript https://en.wikipedia.org/wiki/UEFI https://en.wikipedia.org/wiki/Z/Architecture https://blog.frankel.ch/hard-things-computer-science/ 4 https://ubuntu.com/blog/451-research-benchmarks-public-and-private-infrastructure-cost https://ubuntu.com/blog/bootstack-managed-cloud-factsheet-2 https://ubuntu.com/blog/canonical-kubernetes-for-financial-services https://ubuntu.com/blog/data-ops-at-petabyte-scale https://ubuntu.com/blog/diataxis-a-new-foundation-for-canonical-documentation https://kodekloud.com/blog/kubectl-cp/ https://kodekloud.com/blog/kubernetes-headless-service/ https://medium.com/jaegertracing/a-guide-to-deploying-jaeger-on-kubernetes-in-production-69afb9a7c8e5 https://www.portainer.io/kubernetes-management-platform https://www.pulumi.com/registry/packages/kubernetes/api-docs/yaml/configfile/ https://www.weave.works/docs/net/latest/kubernetes/kube-addon/ https://forum.snapcraft.io/t/cloud-init-with-netplan/1301/2 https://forum.snapcraft.io/t/data-locations/24905 https://forum.snapcraft.io/t/how-to-preconfigure-custom-image/4154 https://forum.snapcraft.io/t/preconfigure-ubuntu-core-image-that-does-not-require-store-account-login-on-first-boot/7994 https://forum.snapcraft.io/t/quickstart-guide/3876 https://forum.snapcraft.io/t/the-snap-format/698 https://gateway-api.sigs.k8s.io/ https://gateway-api.sigs.k8s.io/concepts/glossary/ https://gateway-api.sigs.k8s.io/concepts/roles-and-personas/ https://gateway-api.sigs.k8s.io/concepts/service-facets/ https://freshtomato.org/ https://gist.github.com/tuannvm/0fc6e94a3759c91b1abe71c149152f77 https://git.yourcmc.ru/vitalif/vitastor/src/branch/master/README.md https://github.com/axians/meta-microservicebus https://github.com/canonical/k8s-dqlite https://github.com/dexidp/dex https://github.com/fralau/mkdocs-mermaid2-plugin https://github.com/GoogleContainerTools/kaniko https://github.com/jetstack/kube-lego#kube-lego https://github.com/jordanwilson230/kubectl-plugins https://github.com/kelseyhightower/confd https://github.com/Masterminds/sprig https://go.dev/blog/using-go-modules https://gopaddle.io/ https://github.com/spacewalkproject/spacewalk https://kafka.apache.org/ https://kafka.apache.org/intro https://kafka.apache.org/quickstart https://kafka.apache.org/uses https://docs.parseplatform.org/ https://docs.parseplatform.org/parse-server/guide/ https://docs.saltproject.io/en/latest/ref/cli/salt-minion.html https://docs.saltproject.io/en/master/topics/tutorials/walkthrough.html https://docs.swimm.io/ https://fedoraproject.org/coreos/ https://github.com/tektoncd/pipeline/ https://hackernoon.com/managing-ubuntu-snaps-the-stuff-no-one-tells-you-625dfbe4b26c https://hackernoon.com/what-is-fluid-computing-its-applications-and-the-future-ahead-nnh30ea https://hadoop.apache.org/ https://help.ubuntu.com/community/IPMI https://hub.datree.io/built-in-rules https://hub.docker.com/u/ubuntu https://inaccel.com/ https://ipwithease.com/vlan-vs-vxlan/ https://ipwithease.com/vxlan-and-otv/ https://ipxe.org/ https://istio.io/ https://katacontainers.io/ https://krew.sigs.k8s.io/docs/user-guide/setup/install/ https://kroki.io/ https://kubespray.io/#/ https://layers.openembedded.org/layerindex/branch/master/layers/ https://levelup.gitconnected.com/12-microservices-pattern-i-wish-i-knew-before-the-system-design-interview-5c35919f16a2 https://linbit.com/linstor/ https://linkerd.io/ https://longhorn.io/docs/archives/1.1.1/snapshots-and-backups/csi-snapshot-support/enable-csi-snapshot-support/ https://mia-platform.eu/ https://mir-server.io/ubuntu-frame https://mobyproject.org/ https://mqtt.org/ https://netplan.io/ https://netplan.readthedocs.io/en/stable/examples/ https://news.ycombinator.com/item?id=31605302 https://nodered.org/ https://openbuildservice.org/ https://pressbooks-dev.oer.hawaii.edu/principlesofeconomics/chapter/10-2-oligopoly/ https://stacklok.com/minder https://stacklok.com/trusty https://packaging.python.org/en/latest/tutorials/installing-packages/#installing-from-local-archives https://pkg.go.dev/text/template https://snapcraft.io/docs/adding-snap-configuration https://snapcraft.io/docs/configuration-in-snaps https://techcrunch.com/2019/05/15/vmware-acquires-bitnami-to-deliver-packaged-applications-anywhere/ https://suitecrm.com/ https://techcrunch.com/2023/08/31/best-practices-for-cloud-finops/ https://ubuntu.com/blog/tag/hadoop https://traefik.io/traefik/ https://toml.io/en/ https://ubuntu.com/core/docs/networkmanager https://ubuntu.com/server/docs/network-configuration https://ubuntu.com/server/docs/rock-images/introduction https://voidlinux.org/ https://wiki.adamsweet.org/doku.php?id=ipmi_on_linux https://wiki.linuxfoundation.org/networking/bonding https://wiki.ubuntu.com/FanNetworking https://www.bloorresearch.com/technology/big-software/ https://www.asrock.com/mb/Intel/H61M-VS3/index.asp https://www.cloudsigma.com/ https://www.devspace.sh/component-chart/docs/introduction https://www.devspace.sh/docs/getting-started/introduction https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-20-04 https://www.docker.com/blog/how-to-build-and-test-your-docker-images-in-the-cloud-with-docker-hub/ https://www.freedesktop.org/software/systemd/man/systemd-networkd.service.html https://www.howtogeek.com/50787/add-a-user-to-a-group-or-second-group-on-linux/ https://www.getport.io/ https://www.ibm.com/linuxone https://www.ibm.com/products/linuxone-4 https://www.infoq.com/news/2014/03/docker_0_9/ https://www.jetbrains.com/space/ https://www.kube-ovn.io/ https://www.kubeflow.org/ https://www.kubeflow.org/docs/components/pipelines/v1/introduction/ https://www.lifewire.com/definition-of-tftp-817576 https://www.linkedin.com/pulse/pxe-boot-apple-mac-out-touching-keyboard-eric-bruno/ https://www.linuxandubuntu.com/home/ubuntu-pro-vs-ubuntu?expand_article=1 https://www.oracle.com/corporate/acquisitions/dyn/technologies/ecommerce-customer-faq.html https://www.portainer.io/ https://www.rackspace.com/ https://www.rancher.com/ https://www.redhat.com/sysadmin/analyze-processes-lsof https://www.sobyte.net/post/2021-06/several-ways-to-stop-goroutine-in-golang/ https://www.sqlalchemy.org/ https://www.techtarget.com/searchnetworking/definition/Preboot-Execution-Environment https://www.terraform.io/ https://www.theregister.com/2019/06/25/oracle_dyn_cloud_axed_2020/ https://www.zdnet.com/article/programming-languages-developers-reveal-what-they-love-and-loathe-and-what-pays-best/ https://www.sigstore.dev/ https://www.upbound.io/ https://www.wireguard.com/ https://www.wiz.io/","title":"Unsorted"},{"location":"referencesReserve/#serverless","text":"https://www.serverless.com/framework/docs/providers/kubeless/guide/intro https://www.cncf.io/blog/2020/04/13/serverless-open-source-frameworks-openfaas-knative-more/ https://alternativeto.net/software/openfaas/ https://docs.openfaas.com/deployment/kubernetes/ https://www.openfaas.com/pricing/ https://blog.alexellis.io/serverless-kubernetes-on-raspberry-pi/ <>","title":"Serverless"},{"location":"referencesReserve/#new","text":"https://wiki.ubuntu.com/Minimal https://linux.die.net/man/8/dmidecode https://www.ibm.com/docs/en/spectrumvirtualsoftw/8.2.x?topic=planning-iscsi-overview https://betterprogramming.pub/strato-dyndns-controller-for-kubernetes-9a59ae426c5b https://codeburst.io/ddclient-c9a6ac1d8f81 https://morioh.com/a/a7abca2fa0c4/how-to-setup-a-free-dynamic-dns-service-with-ddclient-on-kubernetes https://www.kubecost.com/kubernetes-best-practices/kubernetes-external-service/ https://en.wikipedia.org/wiki/TUN/TAP https://wiki.ubuntu.com/PlanetUbuntu https://wiki.ubuntu.com/Membership http://www.catb.org/~esr/writings/magic-cauldron/magic-cauldron.html https://www.sanitarium.net/jokes/getjoke.cgi?41 https://developer.ibm.com/articles/compare-deep-learning-frameworks/ https://developer.ibm.com/articles/cc-machine-learning-deep-learning-architectures/ https://developer.ibm.com/components/tekton/ https://developer.ibm.com/ https://www.seebs.net/faqs/manager.html https://www.seebs.net/faqs/hacker.html https://en.wikipedia.org/wiki/The_Magic_Cauldron_(essay) https://en.wikipedia.org/wiki/Homesteading_the_Noosphere https://ideas.ted.com/sick-and-tired-of-the-culture-of-contempt-here-are-5-ways-you-can-subvert-it/ https://blog.aurynn.com/2015/12/16-contempt-culture https://www.sangoma.com/products/open-source/ https://docs.asterisk.org/About-the-Project/A-Brief-History-of-the-Asterisk-Project/ https://clusterlabs.org/pacemaker/ https://corosync.github.io/corosync/ https://en.wikipedia.org/wiki/Corosync_Cluster_Engine https://en.wikipedia.org/wiki/Hyper-converged_infrastructure https://en.wikipedia.org/wiki/Proxmox_Virtual_Environment https://upload.wikimedia.org/wikipedia/commons/7/79/UbuntuFamilyTree1210.svg https://github.com/canonical/microceph/blob/main/HACKING.md https://github.com/spf13/cobra https://discuss.linuxcontainers.org/t/introducing-microceph/15457 https://rook.io/docs/rook/v1.3/ceph-quickstart.html https://rook.io/docs/rook/v1.3/ceph-filesystem.html https://blog.linuxmint.com/?p=3766 https://blog.linuxmint.com/?p=3906 https://linuxmint-user-guide.readthedocs.io/en/latest/snap.html https://en.wikipedia.org/wiki/Snap_(software) https://0pointer.de/blog/projects/the-biggest-myths.html https://thenewstack.io/unix-greatest-inspiration-behind-systemd/ https://laptop.org/ https://news.ycombinator.com/item?id=35166317 https://wiki.ubuntu.com/Lvm https://canonical-microceph.readthedocs-hosted.com/en/latest/how-to/enable-metrics/ https://docs.ceph.com/en/quincy/mgr/dashboard/ https://grafana.com/docs/grafana/latest/fundamentals/intro-to-prometheus/ https://jonathangazeley.com/2020/09/10/building-a-hyperconverged-kubernetes-cluster-with-microk8s-and-ceph/ https://docs.ceph.com/en/latest/mgr/orchestrator/ https://www.digitalocean.com/community/tutorials/how-to-set-up-wireguard-on-ubuntu-22-04 https://apps.apple.com/us/app/wireguard/id1451685025?mt=12 https://nordvpn.com/blog/vpn-wireguard/ https://vitux.com/how-to-install-wireguard-vpn-on-ubuntu-22-04/ https://www.digitalocean.com/community/tutorials/how-to-set-up-wireguard-on-ubuntu-22-04 https://discuss.linuxcontainers.org/t/introducing-microceph/15457/47 https://discuss.linuxcontainers.org/t/introducing-microceph/15457/45 https://github.com/canonical/microceph/issues/251#issuecomment-1809014963 https://github.com/canonical/microceph/issues/146 https://github.com/canonical/microceph/issues/254 https://docs.ceph.com/en/mimic/start/quick-ceph-deploy/ https://medium.com/cts-technologies/are-kubernetes-days-numbered-a3c267e65ee9 https://www.theregister.com/2021/03/22/canonical_flutter/ https://martinfowler.com/bliki/CrossPlatformMobile.html https://canonical.com/blog/bring-multi-platform-apps-to-linux-desktop-with-flutter-3 https://pub.dev/publishers/canonical.com/packages https://github.com/firecracker-microvm/firecracker/blob/main/docs/prod-host-setup.md https://aws.amazon.com/fargate/ https://aws.amazon.com/lambda/ https://github.com/firecracker-microvm/firecracker https://opensource.com/article/19/3/rust-virtual-machine https://chromium.googlesource.com/chromiumos/platform/crosvm/ https://opensource.com/article/19/3/rust-virtual-machine https://canonical.com/blog/how-we-designed-the-new-ubuntu-desktop-installer https://foundation.rust-lang.org/news/2021-02-08-hello-world/ https://aturon.github.io/tech/2018/05/25/listening-part-1/ https://aturon.github.io/tech/2018/06/02/listening-part-2/ https://aturon.github.io/tech/2018/06/18/listening-part-3/ https://marc.info/?l=linux-kernel&m=137391223711946&w=2 https://marc.info/?l=linux-kernel&m=136130347127908&w=2 https://aturon.github.io/personal/2019/06/24/survivor-skills/ https://aturon.github.io/personal/2020/09/13/grief-trauma-healing/ https://bholley.net/blog/2017/stylo.html https://helm.sh/docs/chart_best_practices/templates/ https://helm.sh/docs/chart_template_guide/accessing_files/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-csi-common-issues/ https://github.com/rook/rook/tree/master/deploy/examples https://rook.io/docs/rook/v1.12/Storage-Configuration/Shared-Filesystem-CephFS/filesystem-storage/ https://docs.ceph.com/en/mimic/cephfs/createfs/ https://docs.ceph.com/en/mimic/start/quick-cephfs/ https://access.redhat.com/documentation/en-us/red_hat_ceph_storage/3/html/ceph_file_system_guide/introduction-to-ceph-file-system https://helm.sh/docs/helm/helm_pull/ https://kubesail.com/template/loopDelicious/ddclient https://ubuntu.com/blog/why-and-how-to-use-rust-on-ubuntu https://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html https://llvm.org/ https://en.wikipedia.org/wiki/Dunning%E2%80%93Kruger_effect https://docs.rs/springtime/latest/springtime/ https://robert.ocallahan.org/2017/07/confession-of-cc-programmer.html https://foundation.rust-lang.org/news/2021-03-18-introducing-bobby-holley/ https://foundation.rust-lang.org/news/2021-02-08-hello-world/ https://opensource.com/article/21/3/rust-programmer https://opensource.com/article/22/12/learn-rust https://github.com/rust-embedded/rust-raspberrypi-OS-tutorials https://github.com/golemparts/rppal https://www.freecodecamp.org/news/embedded-rust-programming-on-raspberry-pi-zero-w/ https://forums.raspberrypi.com/viewtopic.php?t=353488 https://canonical.com/blog/tag/flutter https://github.com/GoogleChrome/lighthouse/ https://backstage.io/docs/overview/architecture-overview https://backstage.io/docs/features/software-catalog/ https://backstage.io/plugins/ https://backstage.io/blog/2022/03/16/backstage-turns-two/ https://backstage.io/docs/overview/what-is-backstage https://www.businessinsider.in/tech/enterprise/news/the-ceo-of-developer-startup-sentry-explains-the-huge-change-it-made-to-its-business-to-prevent-amazon-and-other-startups-from-profiting-off-its-code/articleshow/72096570.cms https://www.confluent.io/confluent-community-license-faq/ https://www.confluent.io/blog/license-changes-confluent-platform https://stackoverflow.com/questions/67562194/ksql-in-aws-msk https://aws.amazon.com/marketplace/pp/prodview-g6kmcxajfu3bw https://www.confluent.io/resources/confluent-cloud-vs-amazon-msk/ https://www.kai-waehner.de/blog/2022/08/30/when-not-to-choose-amazon-msk-serverless-for-apache-kafka/ https://www.datacenterknowledge.com/open-source/confluent-creates-new-open-source-license-stop-cloud-poaching https://www.datacenterknowledge.com/open-source/7-open-source-tools-consider-your-data-center https://nmap.org/book/man.html https://opendcim.org/ https://thenewstack.io/making-europes-romantic-open-source-world-more-practical/ https://spacelift.io/blog/spacelift-latest-statement-on-hashicorp-bsl https://spacelift.io/blog/opentf-announcing-terraform-fork https://www.terraform.io/use-cases/infrastructure-as-code https://www.hashicorp.com/products/terraform https://ubuntu.com/blog/if-youre-still-using-ifconfig-youre-living-in-the-past https://www.oracle.com/technical-resources/articles/it-infrastructure/admin-manage-vbox-cli.html https://www.virtualbox.org/manual/ch08.html https://www.cyberithub.com/vboxmanage-an-introduction-to-virtualbox-cli-with-examples/","title":"New"},{"location":"referencesTroubleshooting/","text":"Troubleshooting References https://askubuntu.com/questions/1192923/is-it-possible-to-install-microk8s-on-ubuntu-core-18 https://askubuntu.com/questions/1455839/ubunto-core-22-04-raspberry-pi-linux-modules-extra-raspi https://askubuntu.com/questions/178712/how-to-increase-swap-space https://askubuntu.com/questions/778392/install-second-network-interface-on-virtualized-ubuntu-server https://blog.kubovy.eu/2020/05/16/retrieve-tls-certificates-from-kubernetes/ https://cert-manager.io/docs/troubleshooting/ https://cert-manager.io/docs/troubleshooting/acme/ https://discuss.elastic.co/t/filebeat-not-able-to-find-logs-on-microk8/182023 https://discuss.hashicorp.com/t/0-3-nodes-are-available-pod-has-unbound-immediate-persistentvolumeclaims/51642 https://discuss.hashicorp.com/t/vagrant-multiple-vms-with-unique-ip-address-on-public-network-using-dhcp/36374 https://forum.opensearch.org/t/3-node-opensearch-cluster-not-able-initialized/13934 https://forum.opensearch.org/t/config-changes-not-applying/14547 https://forum.opensearch.org/t/kubernetes-opensearch-deployment-persistentvolume-controller-no-persistent-volumes-available-for-this-claim-and-no-storage-class-is-set/8876 https://forum.opensearch.org/t/opensearch-dashboards-server-is-not-ready-yet/12970/2 https://forum.snapcraft.io/t/cloud-init-with-netplan/1301/2 https://forum.snapcraft.io/t/data-locations/24905 https://forum.snapcraft.io/t/how-to-preconfigure-custom-image/4154 https://forum.snapcraft.io/t/preconfigure-ubuntu-core-image-that-does-not-require-store-account-login-on-first-boot/7994 https://forum.snapcraft.io/t/quickstart-guide/3876 https://forum.snapcraft.io/t/the-snap-format/698 https://github.com/kubernetes/dashboard/issues/3322 https://saturncloud.io/blog/solving-the-pod-has-unbound-immediate-persistentvolumeclaims-issue-in-kubernetes-nfs-volume/ https://serverfault.com/questions/870483/nfs-and-all-squash-confusions https://serverfault.com/questions/906083/how-to-mount-volume-with-specific-uid-in-kubernetes-pod https://spacelift.io/blog/restart-kubernetes-pods-with-kubectl https://stackoverflow.com/questions/12538162/setting-a-vms-mac-address-in-vagrant https://stackoverflow.com/questions/20819786/nfsnobody-user-privileges https://stackoverflow.com/questions/41325087/what-is-the-difference-between-a-pod-and-a-deployment https://stackoverflow.com/questions/42793382/exec-commands-on-kubernetes-pods-with-root-access https://stackoverflow.com/questions/43544370/kubernetes-how-to-set-volumemount-user-group-and-file-permissions https://stackoverflow.com/questions/46351051/permission-denied-when-chown-on-elasticsearch-data-directory-in-kubernetes-state https://stackoverflow.com/questions/51358856/kubernetes-cant-delete-persistentvolumeclaim-pvc https://stackoverflow.com/questions/51445846/elasticsearch-max-virtual-memory-areas-vm-max-map-count-65530-is-too-low-inc https://stackoverflow.com/questions/51657271/passing-in-environment-variables-into-docker-running-in-kubernetes https://stackoverflow.com/questions/55780083/error-no-persistent-volumes-available-for-this-claim-and-no-storage-class-is-se https://stackoverflow.com/questions/57683206/what-is-the-reverse-of-kubectl-apply https://stackoverflow.com/questions/62049953/microk8s-ingress-or-loadbalancer-not-working-in-local-single-node-cluster https://stackoverflow.com/questions/63346728/issuing-certificate-as-secret-does-not-exist https://superuser.com/questions/878807/how-to-boot-apple-mac-via-pxe-custom-mini-linux https://techoverflow.net/2020/04/18/how-to-fix-elasticsearch-docker-accessdeniedexception-usr-share-elasticsearch-data-nodes/ https://unix.stackexchange.com/questions/106304/route-add-no-longer-works-when-i-connected-to-vpn-via-cisco-anyconnect-client/501094#501094 https://www.autodesk.com/support/technical/article/caas/sfdcarticles/sfdcarticles/Enabling-network-NFS-shares-in-Mac-OS-X.html https://www.datree.io/resources/kubernetes-troubleshooting-fixing-persistentvolumeclaims-error https://komodor.com/learn/how-to-fix-crashloopbackoff-kubernetes-error/ https://medium.com/@olivier.gaumond/why-am-i-able-to-bind-a-privileged-port-in-my-container-without-the-net-bind-service-capability-60972a4d5496 https://saturncloud.io/blog/how-to-log-in-to-the-microk8s-kubernetes-dashboard-a-guide-for-data-scientists/ https://saturncloud.io/blog/solving-kubernetes-nfs-persistent-volumes-permission-denied-a-guide/ https://saturncloud.io/blog/solving-the-pod-has-unbound-immediate-persistentvolumeclaims-issue-in-kubernetes-nfs-volume/ https://serverfault.com/questions/870483/nfs-and-all-squash-confusions https://serverfault.com/questions/906083/how-to-mount-volume-with-specific-uid-in-kubernetes-pod https://unix.stackexchange.com/questions/106304/route-add-no-longer-works-when-i-connected-to-vpn-via-cisco-anyconnect-client/501094#501094 https://github.com/canonical/microk8s/issues/2108 https://github.com/canonical/microk8s/issues/276 https://github.com/canonical/microk8s/issues/4041 https://github.com/elastic/helm-charts/issues/137 https://github.com/hashicorp/vagrant/issues/9200 https://github.com/pires/kubernetes-elasticsearch-cluster/issues/205 https://stackoverflow.com/questions/23396679/vagrant-setting-a-vms-mac-address-in-a-private-network-hostonly https://stackoverflow.com/questions/12538162/setting-a-vms-mac-address-in-vagrant https://stackoverflow.com/questions/26246840/how-to-set-eth0-mac-address-in-vagrant-with-the-vmware-provisioner https://stackoverflow.com/questions/39655478/update-vms-bridged-mac-address-with-vagrant https://developer.hashicorp.com/vagrant/docs/vagrantfile/machine_settings#config-vm-base_mac https://stackoverflow.com/questions/56243121/can-i-set-custom-ports-for-a-kubernetes-ingress-to-listen-on-besides-80-443 https://stackoverflow.com/questions/19648088/pass-environment-variables-to-vagrant-shell-provisioner https://stackoverflow.com/questions/33250304/how-to-automatically-select-bridged-network-interfaces-in-vagrant https://linux.die.net/man/8/useradd https://stackoverflow.com/questions/30075461/how-do-i-add-my-own-public-key-to-vagrant-vm https://stackoverflow.com/questions/29450404/is-there-a-default-password-to-connect-to-vagrant-when-using-homestead-ssh-for https://github.com/MicrosoftEdge/dev.microsoftedge.com-vms/issues/21 https://stackoverflow.com/questions/19648088/pass-environment-variables-to-vagrant-shell-provisioner https://github.com/hashicorp/vagrant/issues/7015 https://unix.stackexchange.com/questions/52313/how-to-get-execution-time-of-a-script-effectively https://serverfault.com/questions/628989/how-to-set-default-ansible-username-password-for-ssh-connection https://stackoverflow.com/questions/56243121/can-i-set-custom-ports-for-a-kubernetes-ingress-to-listen-on-besides-80-443 https://stackoverflow.com/questions/37434598/ansible-sudo-without-password https://medium.com/programmers-journey/dead-simple-include-env-variables-in-kubernetes-deployment-yaml-1c0e8f859fde https://stackoverflow.com/questions/44637996/docker-compose-up-postgresql-error-chown-changing-ownership-of-var-lib-postg https://www.itwonderlab.com/postgres-kubernetes-nfs-volume/ https://stackoverflow.com/questions/24288616/permission-denied-on-accessing-host-directory-in-docker https://stackoverflow.com/questions/51000791/how-to-mount-hostpath-volume-in-kubernetes-with-selinux/51026623#51026623 https://www.thegeekstuff.com/2017/07/chcon-command-examples/ https://github.com/docker-library/postgres/issues/116 https://forums.rancher.com/t/statefulset-postgres-chmod-changing-permissions-of-var-run-postgresql-operation-not-permitted-chown-changing-ownership-of-var-lib-postgresql-data-pgdata-operation-not-permitted/21080 https://www.itwonderlab.com/postgres-kubernetes-nfs-volume/ https://gist.github.com/FarooqKhan/7a81b1aa8167f1a927b82731ec435872 https://www.crunchydata.com/blog/stateful-postgres-storage-using-kubernetes https://stackoverflow.com/questions/65046709/what-is-the-correct-way-to-manage-kubernetes-nfs-pv-permissions-for-postgres https://stackoverflow.com/questions/44637996/docker-compose-up-postgresql-error-chown-changing-ownership-of-var-lib-postg https://medium.com/@panda1100/solutions-for-operation-not-permitted-error-when-postgresql-is-running-on-docker-using-vagrants-3db360ca2c03 https://github.com/docker-library/postgres/issues/361 https://stackoverflow.com/questions/63602827/rookio-ceph-cluster-mon-c-is-low-on-available-space-message https://superuser.com/questions/131519/what-is-this-dm-0-device/131520 https://askubuntu.com/questions/1406697/extend-lvm-size https://packetpushers.net/ubuntu-extend-your-default-lvm-space/ https://www.baeldung.com/linux/apfs-partition-mount https://packages.fedoraproject.org/pkgs/apfs-fuse/apfs-fuse/ https://linuxconfig.org/how-to-install-g-the-c-compiler-on-ubuntu-22-04-lts-jammy-jellyfish-linux https://linuxnewbieguide.org/how-to-mount-macos-apfs-disk-volumes-in-linux/ https://github.com/libyal/libfvde/wiki/Mounting https://askubuntu.com/questions/1148390/mount-macbook-partition-on-ubuntu-unknown-filesystem-hfs-apfs https://packetpushers.net/ubuntu-extend-your-default-lvm-space/ https://github.com/canonical/microk8s/issues/885 https://askubuntu.com/questions/406787/best-way-add-nopasswd-vagrant-user https://stackoverflow.com/questions/57570423/net-http-request-canceled-while-waiting-for-connection-client-timeout-exceeded https://stackoverflow.com/questions/51963258/unable-to-get-monitor-info-from-dns-srv-with-service-name-ceph-mon https://github.com/rook/rook/issues/3595 https://github.com/rook/rook/issues/11521 https://forum.proxmox.com/threads/ceph-mirroring-unable-to-get-monitor-info-from-dns-srv-with-service-name-ceph-mon.128066/ https://superuser.com/questions/1306167/how-is-passwordless-sudo-achieved-for-the-vagrant-user https://askubuntu.com/questions/406787/best-way-add-nopasswd-vagrant-user https://superuser.com/questions/1623376/how-can-i-make-my-own-account-a-sudoers-on-virtualbox https://askubuntu.com/questions/406787/best-way-add-nopasswd-vagrant-user https://stackoverflow.com/questions/44315842/execute-a-command-by-switching-to-root-user-in-ansible https://stackoverflow.com/questions/39522326/how-do-i-append-a-large-amount-of-text-to-a-file-using-ansible https://www.reddit.com/r/ansible/comments/sn9l9d/microk8s_join_cluster_with_ansible/ https://docs.ansible.com/ansible/latest/collections/community/general/snap_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/blockinfile_module.html https://www.lakshminp.com/installing-microk8s-using-ansible/ https://fabianlee.org/2021/07/25/kubernetes-microk8s-cluster-on-ubuntu-using-ansible/ https://www.reddit.com/r/ansible/comments/sn9l9d/microk8s_join_cluster_with_ansible/ https://stackoverflow.com/questions/30226113/ansible-ssh-prompt-known-hosts-issue https://www.freekb.net/Article?id=2986 https://serverfault.com/questions/537060/how-to-see-stdout-of-ansible-commands https://serverfault.com/questions/1108319/checking-missing-nodes-in-microk8s-cluster-with-ansible https://stackoverflow.com/questions/39769560/cant-change-base-memory-in-virtualbox https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/configuration https://stackoverflow.com/questions/12308149/how-do-i-increase-the-ram-and-set-up-host-only-networking-in-vagrant https://www.thisprogrammingthing.com/2021/Vagrant-Development-Environment-Customizing-The-Amount-of-RAM/ https://www.virtualbox.org/manual/ch12.html https://documentation.suse.com/ses/7.1/html/ses-all/bp-troubleshooting-dashboard.html https://discuss.linuxcontainers.org/t/introducing-microceph/15457/42 https://stackoverflow.com/questions/69322849/rook-ceph-provisioning-issue https://github.com/rook/rook/issues/11464 https://lists.ceph.io/hyperkitty/list/ceph-users@ceph.io/thread/ZJIAEWGCAFAMNAPOXFW7FIKJVLYWHZPG/ https://forum.proxmox.com/threads/ceph-pacific-issue.127987/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-common-issues/ https://stackoverflow.com/questions/65593899/ceph-health-warn-degraded-data-redundancy-pgs-undersized-after-reweighting https://github.com/rook/rook/issues/8749 https://github.com/rook/rook/issues/8696 https://github.com/rook/rook/issues/8727 https://stackoverflow.com/questions/63974879/microk8s-metallb-ingress-nginx-how-to-route-external-traffic https://stackoverflow.com/questions/43941772/get-yaml-for-deployed-kubernetes-services https://stackoverflow.com/questions/69048829/need-support-on-using-git-sync-and-persistent-volumes https://github.com/kubernetes/kubernetes/issues/20466 https://stackoverflow.com/questions/51317681/how-to-mount-the-sub-path-of-pvc-to-the-specific-path-in-container https://kubernetes.github.io/ingress-nginx/examples/rewrite/#app-root https://v0-3-0--metallb.netlify.app/tutorial/arp/ https://metallb.universe.tf/troubleshooting/ https://github.com/kubernetes-sigs/kind/issues/1449 https://community.temporal.io/t/deadline-exceeded-error-with-helm-charts-deployment/3636/9 https://github.com/cert-manager/cert-manager/issues/2517 https://stackoverflow.com/questions/75546753/ceph-fix-activeundersizeddegraded-pgs-after-removing-an-osd https://www.reddit.com/r/ceph/comments/11ehf6u/pgs_stuck_in_undersized_mode_for_a_long_time/ https://ceph-users.ceph.narkive.com/GfJL0JTk/pg-status-is-active-undersized-degraded https://forum.proxmox.com/threads/change-num-replicas-on-ceph-rool-online.25904/ https://forum.proxmox.com/threads/please-help-ceph-pool-stuck-at-undersized-degraded-remapped-backfill_toofull-peered.121690/ https://forum.proxmox.com/threads/ceph-pool-created-using-mgr.120226/ https://stackoverflow.com/questions/63456581/1-pg-undersized-health-warn-in-rook-ceph-on-single-node-clusterminikube?rq=3 https://h30434.www3.hp.com/t5/Desktop-Hardware-and-Upgrade-Questions/HP-t630-Thin-Client-will-it-accept-SSD-M-2-SATA-storage/td-p/8833395 https://forums.servethehome.com/index.php?threads/does-hp-thin-client-t630-support-nvme.28141/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-common-issues/ https://discuss.linuxcontainers.org/t/microceph-with-more-than-3-nodes/17469 https://docs.ceph.com/en/latest/mgr/orchestrator_modules/ https://stackoverflow.com/questions/38959525/hide-git-directory-or-file-with-apache https://tecadmin.net/block-git-directory-in-apache-nginx/ https://serverfault.com/questions/128069/how-do-i-prevent-apache-from-serving-the-git-directory https://helm.sh/docs/helm/helm_uninstall/ https://canonical-microcloud.readthedocs-hosted.com/en/latest/how-to/commands/ https://microcloud.is/ https://ubuntu.com/blog/one_command_micro_cloud https://stackoverflow.com/questions/51718202/helm-how-to-define-release-name-value https://github.com/helm/helm/issues/6992 https://stackoverflow.com/questions/51783651/how-to-create-a-namespace-if-it-doesnt-exists-from-helm-templates https://stackoverflow.com/questions/52636571/how-to-pass-dynamic-arguments-to-a-helm-chart-that-runs-a-job https://kubernetes.io/docs/concepts/storage/volumes/#using-subpath https://stackoverflow.com/questions/65399714/what-is-the-difference-between-subpath-and-mountpath-in-kubernetes https://multipass.run/docs/authenticating-clients https://github.com/canonical/multipass/issues/1714 https://github.com/canonical/multipass/issues/973 https://bugs.launchpad.net/juju/+bug/1892389 https://stackoverflow.com/questions/61069841/helm-template-debug-or-helm-install-dry-run-debug-which-is-best https://helm.sh/docs/chart_template_guide/debugging/ https://github.com/helm/helm/issues/4574 https://github.com/bitnami/charts/issues/2720 https://serverfault.com/questions/356493/apache2-why-limitexcept-parameter-results-deny-not-allowed-here-error-in-vi https://kodekloud.com/blog/debug-crashloopbackoff/ https://discuss.elastic.co/t/filebeat-not-able-to-find-logs-on-microk8/182023 https://discuss.hashicorp.com/t/0-3-nodes-are-available-pod-has-unbound-immediate-persistentvolumeclaims/51642 https://stackoverflow.com/questions/33415913/whats-the-best-way-to-share-mount-one-file-into-a-pod/43404857#43404857 https://stackoverflow.com/questions/47305658/install-snap-packages-with-ansible https://stackoverflow.com/questions/73421967/how-to-use-git-sync-image-as-a-sidecar-in-kubernetes-that-git-pulls-periodically https://release.com/blog/kubernetes-how-to-debug-crashloopbackoff-in-a-container https://askubuntu.com/questions/1482503/ubuntu-server-22-04-3-lts-system-has-been-minimized https://ansiblepilot.medium.com/ansible-troubleshooting-error-no-module-named-markupsafe-8c9f45dae5b5 https://askubuntu.com/questions/1379866/not-showing-available-ram https://www.reddit.com/r/kubernetes/comments/ypfi4l/how_to_create_readwritemany_persistent_volumes/ https://github.com/rook/rook/issues/5936 https://github.com/rook/rook/issues/4209 https://github.com/canonical/microceph/issues/23 https://github.com/canonical/microceph/issues/145 https://github.com/canonical/microceph/issues/251 https://github.com/canonical/microceph/issues","title":"Troubleshooting References"},{"location":"referencesTroubleshooting/#troubleshooting-references","text":"https://askubuntu.com/questions/1192923/is-it-possible-to-install-microk8s-on-ubuntu-core-18 https://askubuntu.com/questions/1455839/ubunto-core-22-04-raspberry-pi-linux-modules-extra-raspi https://askubuntu.com/questions/178712/how-to-increase-swap-space https://askubuntu.com/questions/778392/install-second-network-interface-on-virtualized-ubuntu-server https://blog.kubovy.eu/2020/05/16/retrieve-tls-certificates-from-kubernetes/ https://cert-manager.io/docs/troubleshooting/ https://cert-manager.io/docs/troubleshooting/acme/ https://discuss.elastic.co/t/filebeat-not-able-to-find-logs-on-microk8/182023 https://discuss.hashicorp.com/t/0-3-nodes-are-available-pod-has-unbound-immediate-persistentvolumeclaims/51642 https://discuss.hashicorp.com/t/vagrant-multiple-vms-with-unique-ip-address-on-public-network-using-dhcp/36374 https://forum.opensearch.org/t/3-node-opensearch-cluster-not-able-initialized/13934 https://forum.opensearch.org/t/config-changes-not-applying/14547 https://forum.opensearch.org/t/kubernetes-opensearch-deployment-persistentvolume-controller-no-persistent-volumes-available-for-this-claim-and-no-storage-class-is-set/8876 https://forum.opensearch.org/t/opensearch-dashboards-server-is-not-ready-yet/12970/2 https://forum.snapcraft.io/t/cloud-init-with-netplan/1301/2 https://forum.snapcraft.io/t/data-locations/24905 https://forum.snapcraft.io/t/how-to-preconfigure-custom-image/4154 https://forum.snapcraft.io/t/preconfigure-ubuntu-core-image-that-does-not-require-store-account-login-on-first-boot/7994 https://forum.snapcraft.io/t/quickstart-guide/3876 https://forum.snapcraft.io/t/the-snap-format/698 https://github.com/kubernetes/dashboard/issues/3322 https://saturncloud.io/blog/solving-the-pod-has-unbound-immediate-persistentvolumeclaims-issue-in-kubernetes-nfs-volume/ https://serverfault.com/questions/870483/nfs-and-all-squash-confusions https://serverfault.com/questions/906083/how-to-mount-volume-with-specific-uid-in-kubernetes-pod https://spacelift.io/blog/restart-kubernetes-pods-with-kubectl https://stackoverflow.com/questions/12538162/setting-a-vms-mac-address-in-vagrant https://stackoverflow.com/questions/20819786/nfsnobody-user-privileges https://stackoverflow.com/questions/41325087/what-is-the-difference-between-a-pod-and-a-deployment https://stackoverflow.com/questions/42793382/exec-commands-on-kubernetes-pods-with-root-access https://stackoverflow.com/questions/43544370/kubernetes-how-to-set-volumemount-user-group-and-file-permissions https://stackoverflow.com/questions/46351051/permission-denied-when-chown-on-elasticsearch-data-directory-in-kubernetes-state https://stackoverflow.com/questions/51358856/kubernetes-cant-delete-persistentvolumeclaim-pvc https://stackoverflow.com/questions/51445846/elasticsearch-max-virtual-memory-areas-vm-max-map-count-65530-is-too-low-inc https://stackoverflow.com/questions/51657271/passing-in-environment-variables-into-docker-running-in-kubernetes https://stackoverflow.com/questions/55780083/error-no-persistent-volumes-available-for-this-claim-and-no-storage-class-is-se https://stackoverflow.com/questions/57683206/what-is-the-reverse-of-kubectl-apply https://stackoverflow.com/questions/62049953/microk8s-ingress-or-loadbalancer-not-working-in-local-single-node-cluster https://stackoverflow.com/questions/63346728/issuing-certificate-as-secret-does-not-exist https://superuser.com/questions/878807/how-to-boot-apple-mac-via-pxe-custom-mini-linux https://techoverflow.net/2020/04/18/how-to-fix-elasticsearch-docker-accessdeniedexception-usr-share-elasticsearch-data-nodes/ https://unix.stackexchange.com/questions/106304/route-add-no-longer-works-when-i-connected-to-vpn-via-cisco-anyconnect-client/501094#501094 https://www.autodesk.com/support/technical/article/caas/sfdcarticles/sfdcarticles/Enabling-network-NFS-shares-in-Mac-OS-X.html https://www.datree.io/resources/kubernetes-troubleshooting-fixing-persistentvolumeclaims-error https://komodor.com/learn/how-to-fix-crashloopbackoff-kubernetes-error/ https://medium.com/@olivier.gaumond/why-am-i-able-to-bind-a-privileged-port-in-my-container-without-the-net-bind-service-capability-60972a4d5496 https://saturncloud.io/blog/how-to-log-in-to-the-microk8s-kubernetes-dashboard-a-guide-for-data-scientists/ https://saturncloud.io/blog/solving-kubernetes-nfs-persistent-volumes-permission-denied-a-guide/ https://saturncloud.io/blog/solving-the-pod-has-unbound-immediate-persistentvolumeclaims-issue-in-kubernetes-nfs-volume/ https://serverfault.com/questions/870483/nfs-and-all-squash-confusions https://serverfault.com/questions/906083/how-to-mount-volume-with-specific-uid-in-kubernetes-pod https://unix.stackexchange.com/questions/106304/route-add-no-longer-works-when-i-connected-to-vpn-via-cisco-anyconnect-client/501094#501094 https://github.com/canonical/microk8s/issues/2108 https://github.com/canonical/microk8s/issues/276 https://github.com/canonical/microk8s/issues/4041 https://github.com/elastic/helm-charts/issues/137 https://github.com/hashicorp/vagrant/issues/9200 https://github.com/pires/kubernetes-elasticsearch-cluster/issues/205 https://stackoverflow.com/questions/23396679/vagrant-setting-a-vms-mac-address-in-a-private-network-hostonly https://stackoverflow.com/questions/12538162/setting-a-vms-mac-address-in-vagrant https://stackoverflow.com/questions/26246840/how-to-set-eth0-mac-address-in-vagrant-with-the-vmware-provisioner https://stackoverflow.com/questions/39655478/update-vms-bridged-mac-address-with-vagrant https://developer.hashicorp.com/vagrant/docs/vagrantfile/machine_settings#config-vm-base_mac https://stackoverflow.com/questions/56243121/can-i-set-custom-ports-for-a-kubernetes-ingress-to-listen-on-besides-80-443 https://stackoverflow.com/questions/19648088/pass-environment-variables-to-vagrant-shell-provisioner https://stackoverflow.com/questions/33250304/how-to-automatically-select-bridged-network-interfaces-in-vagrant https://linux.die.net/man/8/useradd https://stackoverflow.com/questions/30075461/how-do-i-add-my-own-public-key-to-vagrant-vm https://stackoverflow.com/questions/29450404/is-there-a-default-password-to-connect-to-vagrant-when-using-homestead-ssh-for https://github.com/MicrosoftEdge/dev.microsoftedge.com-vms/issues/21 https://stackoverflow.com/questions/19648088/pass-environment-variables-to-vagrant-shell-provisioner https://github.com/hashicorp/vagrant/issues/7015 https://unix.stackexchange.com/questions/52313/how-to-get-execution-time-of-a-script-effectively https://serverfault.com/questions/628989/how-to-set-default-ansible-username-password-for-ssh-connection https://stackoverflow.com/questions/56243121/can-i-set-custom-ports-for-a-kubernetes-ingress-to-listen-on-besides-80-443 https://stackoverflow.com/questions/37434598/ansible-sudo-without-password https://medium.com/programmers-journey/dead-simple-include-env-variables-in-kubernetes-deployment-yaml-1c0e8f859fde https://stackoverflow.com/questions/44637996/docker-compose-up-postgresql-error-chown-changing-ownership-of-var-lib-postg https://www.itwonderlab.com/postgres-kubernetes-nfs-volume/ https://stackoverflow.com/questions/24288616/permission-denied-on-accessing-host-directory-in-docker https://stackoverflow.com/questions/51000791/how-to-mount-hostpath-volume-in-kubernetes-with-selinux/51026623#51026623 https://www.thegeekstuff.com/2017/07/chcon-command-examples/ https://github.com/docker-library/postgres/issues/116 https://forums.rancher.com/t/statefulset-postgres-chmod-changing-permissions-of-var-run-postgresql-operation-not-permitted-chown-changing-ownership-of-var-lib-postgresql-data-pgdata-operation-not-permitted/21080 https://www.itwonderlab.com/postgres-kubernetes-nfs-volume/ https://gist.github.com/FarooqKhan/7a81b1aa8167f1a927b82731ec435872 https://www.crunchydata.com/blog/stateful-postgres-storage-using-kubernetes https://stackoverflow.com/questions/65046709/what-is-the-correct-way-to-manage-kubernetes-nfs-pv-permissions-for-postgres https://stackoverflow.com/questions/44637996/docker-compose-up-postgresql-error-chown-changing-ownership-of-var-lib-postg https://medium.com/@panda1100/solutions-for-operation-not-permitted-error-when-postgresql-is-running-on-docker-using-vagrants-3db360ca2c03 https://github.com/docker-library/postgres/issues/361 https://stackoverflow.com/questions/63602827/rookio-ceph-cluster-mon-c-is-low-on-available-space-message https://superuser.com/questions/131519/what-is-this-dm-0-device/131520 https://askubuntu.com/questions/1406697/extend-lvm-size https://packetpushers.net/ubuntu-extend-your-default-lvm-space/ https://www.baeldung.com/linux/apfs-partition-mount https://packages.fedoraproject.org/pkgs/apfs-fuse/apfs-fuse/ https://linuxconfig.org/how-to-install-g-the-c-compiler-on-ubuntu-22-04-lts-jammy-jellyfish-linux https://linuxnewbieguide.org/how-to-mount-macos-apfs-disk-volumes-in-linux/ https://github.com/libyal/libfvde/wiki/Mounting https://askubuntu.com/questions/1148390/mount-macbook-partition-on-ubuntu-unknown-filesystem-hfs-apfs https://packetpushers.net/ubuntu-extend-your-default-lvm-space/ https://github.com/canonical/microk8s/issues/885 https://askubuntu.com/questions/406787/best-way-add-nopasswd-vagrant-user https://stackoverflow.com/questions/57570423/net-http-request-canceled-while-waiting-for-connection-client-timeout-exceeded https://stackoverflow.com/questions/51963258/unable-to-get-monitor-info-from-dns-srv-with-service-name-ceph-mon https://github.com/rook/rook/issues/3595 https://github.com/rook/rook/issues/11521 https://forum.proxmox.com/threads/ceph-mirroring-unable-to-get-monitor-info-from-dns-srv-with-service-name-ceph-mon.128066/ https://superuser.com/questions/1306167/how-is-passwordless-sudo-achieved-for-the-vagrant-user https://askubuntu.com/questions/406787/best-way-add-nopasswd-vagrant-user https://superuser.com/questions/1623376/how-can-i-make-my-own-account-a-sudoers-on-virtualbox https://askubuntu.com/questions/406787/best-way-add-nopasswd-vagrant-user https://stackoverflow.com/questions/44315842/execute-a-command-by-switching-to-root-user-in-ansible https://stackoverflow.com/questions/39522326/how-do-i-append-a-large-amount-of-text-to-a-file-using-ansible https://www.reddit.com/r/ansible/comments/sn9l9d/microk8s_join_cluster_with_ansible/ https://docs.ansible.com/ansible/latest/collections/community/general/snap_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/blockinfile_module.html https://www.lakshminp.com/installing-microk8s-using-ansible/ https://fabianlee.org/2021/07/25/kubernetes-microk8s-cluster-on-ubuntu-using-ansible/ https://www.reddit.com/r/ansible/comments/sn9l9d/microk8s_join_cluster_with_ansible/ https://stackoverflow.com/questions/30226113/ansible-ssh-prompt-known-hosts-issue https://www.freekb.net/Article?id=2986 https://serverfault.com/questions/537060/how-to-see-stdout-of-ansible-commands https://serverfault.com/questions/1108319/checking-missing-nodes-in-microk8s-cluster-with-ansible https://stackoverflow.com/questions/39769560/cant-change-base-memory-in-virtualbox https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/configuration https://stackoverflow.com/questions/12308149/how-do-i-increase-the-ram-and-set-up-host-only-networking-in-vagrant https://www.thisprogrammingthing.com/2021/Vagrant-Development-Environment-Customizing-The-Amount-of-RAM/ https://www.virtualbox.org/manual/ch12.html https://documentation.suse.com/ses/7.1/html/ses-all/bp-troubleshooting-dashboard.html https://discuss.linuxcontainers.org/t/introducing-microceph/15457/42 https://stackoverflow.com/questions/69322849/rook-ceph-provisioning-issue https://github.com/rook/rook/issues/11464 https://lists.ceph.io/hyperkitty/list/ceph-users@ceph.io/thread/ZJIAEWGCAFAMNAPOXFW7FIKJVLYWHZPG/ https://forum.proxmox.com/threads/ceph-pacific-issue.127987/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-common-issues/ https://stackoverflow.com/questions/65593899/ceph-health-warn-degraded-data-redundancy-pgs-undersized-after-reweighting https://github.com/rook/rook/issues/8749 https://github.com/rook/rook/issues/8696 https://github.com/rook/rook/issues/8727 https://stackoverflow.com/questions/63974879/microk8s-metallb-ingress-nginx-how-to-route-external-traffic https://stackoverflow.com/questions/43941772/get-yaml-for-deployed-kubernetes-services https://stackoverflow.com/questions/69048829/need-support-on-using-git-sync-and-persistent-volumes https://github.com/kubernetes/kubernetes/issues/20466 https://stackoverflow.com/questions/51317681/how-to-mount-the-sub-path-of-pvc-to-the-specific-path-in-container https://kubernetes.github.io/ingress-nginx/examples/rewrite/#app-root https://v0-3-0--metallb.netlify.app/tutorial/arp/ https://metallb.universe.tf/troubleshooting/ https://github.com/kubernetes-sigs/kind/issues/1449 https://community.temporal.io/t/deadline-exceeded-error-with-helm-charts-deployment/3636/9 https://github.com/cert-manager/cert-manager/issues/2517 https://stackoverflow.com/questions/75546753/ceph-fix-activeundersizeddegraded-pgs-after-removing-an-osd https://www.reddit.com/r/ceph/comments/11ehf6u/pgs_stuck_in_undersized_mode_for_a_long_time/ https://ceph-users.ceph.narkive.com/GfJL0JTk/pg-status-is-active-undersized-degraded https://forum.proxmox.com/threads/change-num-replicas-on-ceph-rool-online.25904/ https://forum.proxmox.com/threads/please-help-ceph-pool-stuck-at-undersized-degraded-remapped-backfill_toofull-peered.121690/ https://forum.proxmox.com/threads/ceph-pool-created-using-mgr.120226/ https://stackoverflow.com/questions/63456581/1-pg-undersized-health-warn-in-rook-ceph-on-single-node-clusterminikube?rq=3 https://h30434.www3.hp.com/t5/Desktop-Hardware-and-Upgrade-Questions/HP-t630-Thin-Client-will-it-accept-SSD-M-2-SATA-storage/td-p/8833395 https://forums.servethehome.com/index.php?threads/does-hp-thin-client-t630-support-nvme.28141/ https://rook.io/docs/rook/v1.12/Troubleshooting/ceph-common-issues/ https://discuss.linuxcontainers.org/t/microceph-with-more-than-3-nodes/17469 https://docs.ceph.com/en/latest/mgr/orchestrator_modules/ https://stackoverflow.com/questions/38959525/hide-git-directory-or-file-with-apache https://tecadmin.net/block-git-directory-in-apache-nginx/ https://serverfault.com/questions/128069/how-do-i-prevent-apache-from-serving-the-git-directory https://helm.sh/docs/helm/helm_uninstall/ https://canonical-microcloud.readthedocs-hosted.com/en/latest/how-to/commands/ https://microcloud.is/ https://ubuntu.com/blog/one_command_micro_cloud https://stackoverflow.com/questions/51718202/helm-how-to-define-release-name-value https://github.com/helm/helm/issues/6992 https://stackoverflow.com/questions/51783651/how-to-create-a-namespace-if-it-doesnt-exists-from-helm-templates https://stackoverflow.com/questions/52636571/how-to-pass-dynamic-arguments-to-a-helm-chart-that-runs-a-job https://kubernetes.io/docs/concepts/storage/volumes/#using-subpath https://stackoverflow.com/questions/65399714/what-is-the-difference-between-subpath-and-mountpath-in-kubernetes https://multipass.run/docs/authenticating-clients https://github.com/canonical/multipass/issues/1714 https://github.com/canonical/multipass/issues/973 https://bugs.launchpad.net/juju/+bug/1892389 https://stackoverflow.com/questions/61069841/helm-template-debug-or-helm-install-dry-run-debug-which-is-best https://helm.sh/docs/chart_template_guide/debugging/ https://github.com/helm/helm/issues/4574 https://github.com/bitnami/charts/issues/2720 https://serverfault.com/questions/356493/apache2-why-limitexcept-parameter-results-deny-not-allowed-here-error-in-vi https://kodekloud.com/blog/debug-crashloopbackoff/ https://discuss.elastic.co/t/filebeat-not-able-to-find-logs-on-microk8/182023 https://discuss.hashicorp.com/t/0-3-nodes-are-available-pod-has-unbound-immediate-persistentvolumeclaims/51642 https://stackoverflow.com/questions/33415913/whats-the-best-way-to-share-mount-one-file-into-a-pod/43404857#43404857 https://stackoverflow.com/questions/47305658/install-snap-packages-with-ansible https://stackoverflow.com/questions/73421967/how-to-use-git-sync-image-as-a-sidecar-in-kubernetes-that-git-pulls-periodically https://release.com/blog/kubernetes-how-to-debug-crashloopbackoff-in-a-container https://askubuntu.com/questions/1482503/ubuntu-server-22-04-3-lts-system-has-been-minimized https://ansiblepilot.medium.com/ansible-troubleshooting-error-no-module-named-markupsafe-8c9f45dae5b5 https://askubuntu.com/questions/1379866/not-showing-available-ram https://www.reddit.com/r/kubernetes/comments/ypfi4l/how_to_create_readwritemany_persistent_volumes/ https://github.com/rook/rook/issues/5936 https://github.com/rook/rook/issues/4209 https://github.com/canonical/microceph/issues/23 https://github.com/canonical/microceph/issues/145 https://github.com/canonical/microceph/issues/251 https://github.com/canonical/microceph/issues","title":"Troubleshooting References"},{"location":"requirementBackground/","text":"Background Since the late 1990s, a number of websites, applications and services have been implemented on a local site, some exposed to the Internet, and some for network internal access only. This infrastructures has served the requirements of a few people, and legal entities, some of which still have dependencies on these services. This functionality has been built as a residential on-premise set of solutions running on workstation hardware repurposed as servers, the first of these being a \"Alf\", a 75 MHz Pentium, with 40 M RAM. While it is difficult to imagine now, Alf, with it's limited resources by today's standards, would have run the Slackware distribution of Linux, with an application written for the Zope object publishing platform, with Postgres as database server. It would have provided additional services alongside the application server solution. None of these services were exposed on the Internet until about 2005. The first domain invoice was issued in 2008, before which free dynamic dns domains were used to serve applications and content. The first application running on-premise was a line of business application for property syndicate management, property rental management, and general purpose book-keeping and accounting reporting functionality. Over time, personal blogs, online book sales, and a cake marketing site were added. On site services grew to include mail archives, file serving, and several minecraft worlds. Of these all, the syndicate management and accounting applications are still critical, with the mail and file store solutions being used only occasionally. Faced with the shutdown of the site, and the absence of a suitable replacement site for four to six months, a plan is required to provide ongoing services. The services will need to run with no change in service delivery, after the current physical site is shut down. For some months a new site will not be available, so accommodation for the services will need to be arranged in the intervening months. High Level Roadmap The following implementation approach will be taken: Migrate the services to a redundant highly available configuration, on site, using a set of servers, and related network configuration. Arrange rented / shared accommodation, and set the servers and networking up to be remotely accessed and administered. All source information, including site code and data to be available independently of the site, on the Internet, to support second site build. When relocated, set up an equivalent new site, providing site redundancy.","title":"Background"},{"location":"requirementBackground/#background","text":"Since the late 1990s, a number of websites, applications and services have been implemented on a local site, some exposed to the Internet, and some for network internal access only. This infrastructures has served the requirements of a few people, and legal entities, some of which still have dependencies on these services. This functionality has been built as a residential on-premise set of solutions running on workstation hardware repurposed as servers, the first of these being a \"Alf\", a 75 MHz Pentium, with 40 M RAM. While it is difficult to imagine now, Alf, with it's limited resources by today's standards, would have run the Slackware distribution of Linux, with an application written for the Zope object publishing platform, with Postgres as database server. It would have provided additional services alongside the application server solution. None of these services were exposed on the Internet until about 2005. The first domain invoice was issued in 2008, before which free dynamic dns domains were used to serve applications and content. The first application running on-premise was a line of business application for property syndicate management, property rental management, and general purpose book-keeping and accounting reporting functionality. Over time, personal blogs, online book sales, and a cake marketing site were added. On site services grew to include mail archives, file serving, and several minecraft worlds. Of these all, the syndicate management and accounting applications are still critical, with the mail and file store solutions being used only occasionally. Faced with the shutdown of the site, and the absence of a suitable replacement site for four to six months, a plan is required to provide ongoing services. The services will need to run with no change in service delivery, after the current physical site is shut down. For some months a new site will not be available, so accommodation for the services will need to be arranged in the intervening months.","title":"Background"},{"location":"requirementBackground/#high-level-roadmap","text":"The following implementation approach will be taken: Migrate the services to a redundant highly available configuration, on site, using a set of servers, and related network configuration. Arrange rented / shared accommodation, and set the servers and networking up to be remotely accessed and administered. All source information, including site code and data to be available independently of the site, on the Internet, to support second site build. When relocated, set up an equivalent new site, providing site redundancy.","title":"High Level Roadmap"},{"location":"requirementBusinessBrief/","text":"QApps Business Brief Business Brief: As-is Services include QApps Accounting, and line of business functions for property syndication, and property rental closed corporates. These are currently running in an Ubuntu VirtualBox client instance hosted on an Ubuntu host (bukit). Also running in the VirtualBox client is a mail server, serving a static email archive. An Apache server is running at OS level on the Ubuntu host, serving static web pages. The Ubuntu host runs on-premise, connected to the internet via a fibre router. The fibre router provides bukit with a static IP and port forwarding of https traffic on the dynamic WAN address to port 443 for the Apache server, and port 8080 for the Zope listener. The static email archive is not accessible from the Internet. The hostname \"qsolutions.endoftheinternet.org\" is resolved to the WAN address using DynDns . Let's Encrypt is used as CA for the SSL certificate. Backups are stored on premise, distributed across hosts, with ad-hoc manual copy onto off-premise media Assets (various ownership and type, including images, videos, and documents) are stored on premise, distributed across hosts, with ad-hoc manual copy onto off-premise media Business Brief: To-be Consolidation of web apps and content Build Zope and Postgresql platform for legacy applications Build automated load of apps and data Consolidation of hardware and network solution, with secure external access, on current SA site. Local relocation of site to shared accommodation in SA On arrival in UK, build redundant site in temporary accommodation Local relocation of site to permanent accommodation in UK Distributed Storage for assets Backup storage to iCloud GitHub for config, docs and code Backup GitHub to Storage IoT Edge presence on each premise MVP deliverables Containerised Services: Zope Postgres Mail Apache Minecraft Operationalisation: Combine Zope and Apache traffic onto one listener Send DB backups to iCloud Remote admin: Secure external access Access cluster from tools on laptop client from internet Workload success criteria [X] https access from on site browser [X] https access from off site browser [X] Web: Browse static sites [X] Web: Download ebooks [ ] QApps application server: Generate and View accounting report, Add and view transaction. [ ] Mail: Access Medico-Legal mail archive from 3rd party mac client","title":"QApps Business Brief"},{"location":"requirementBusinessBrief/#qapps-business-brief","text":"","title":"QApps Business Brief"},{"location":"requirementBusinessBrief/#business-brief-as-is","text":"Services include QApps Accounting, and line of business functions for property syndication, and property rental closed corporates. These are currently running in an Ubuntu VirtualBox client instance hosted on an Ubuntu host (bukit). Also running in the VirtualBox client is a mail server, serving a static email archive. An Apache server is running at OS level on the Ubuntu host, serving static web pages. The Ubuntu host runs on-premise, connected to the internet via a fibre router. The fibre router provides bukit with a static IP and port forwarding of https traffic on the dynamic WAN address to port 443 for the Apache server, and port 8080 for the Zope listener. The static email archive is not accessible from the Internet. The hostname \"qsolutions.endoftheinternet.org\" is resolved to the WAN address using DynDns . Let's Encrypt is used as CA for the SSL certificate. Backups are stored on premise, distributed across hosts, with ad-hoc manual copy onto off-premise media Assets (various ownership and type, including images, videos, and documents) are stored on premise, distributed across hosts, with ad-hoc manual copy onto off-premise media","title":"Business Brief: As-is"},{"location":"requirementBusinessBrief/#business-brief-to-be","text":"Consolidation of web apps and content Build Zope and Postgresql platform for legacy applications Build automated load of apps and data Consolidation of hardware and network solution, with secure external access, on current SA site. Local relocation of site to shared accommodation in SA On arrival in UK, build redundant site in temporary accommodation Local relocation of site to permanent accommodation in UK Distributed Storage for assets Backup storage to iCloud GitHub for config, docs and code Backup GitHub to Storage IoT Edge presence on each premise","title":"Business Brief: To-be"},{"location":"requirementBusinessBrief/#mvp-deliverables","text":"Containerised Services: Zope Postgres Mail Apache Minecraft Operationalisation: Combine Zope and Apache traffic onto one listener Send DB backups to iCloud Remote admin: Secure external access Access cluster from tools on laptop client from internet","title":"MVP deliverables"},{"location":"requirementBusinessBrief/#workload-success-criteria","text":"[X] https access from on site browser [X] https access from off site browser [X] Web: Browse static sites [X] Web: Download ebooks [ ] QApps application server: Generate and View accounting report, Add and view transaction. [ ] Mail: Access Medico-Legal mail archive from 3rd party mac client","title":"Workload success criteria"},{"location":"requirementIntroduction/","text":"Introduction The requirements will be documented, first by providing some detail on the background environment and the high level road-map. The business requirement is then documented as a \"Business Brief\". This includes \"As-is\" and \"To-be\" descriptions, and define Minimum Viable Product (MVP) definition, with operational imperatives. Workload success criteria, in the form of high level test results to be met for the MVP iteration are also defined.","title":"Introduction"},{"location":"requirementIntroduction/#introduction","text":"The requirements will be documented, first by providing some detail on the background environment and the high level road-map. The business requirement is then documented as a \"Business Brief\". This includes \"As-is\" and \"To-be\" descriptions, and define Minimum Viable Product (MVP) definition, with operational imperatives. Workload success criteria, in the form of high level test results to be met for the MVP iteration are also defined.","title":"Introduction"},{"location":"technicalApplication/","text":"Application Build Platform requirement Zope Python based Application server Python Postgress driver Zope Postgres driver wrapper Postgress Database Database GUI Migration Move ularu VM from bukit (to be recovered) to antecessor Export VM in .ova format Test on james (final target server) Importing VM on james VBoxManage import UbuntuAppServerClean202401.ova --dry-run VBoxManage import UbuntuAppServerClean202401.ova VBoxManage list vms VBoxManage startvm \"Ubuntu App Server\" --type headless Waiting for VM \"Ubuntu App Server\" to power on... VBoxManage: error: Nonexistent host networking interface, name 'enp3s0f0' (VERR_INTERNAL_ERROR) VBoxManage: error: Details: code NS_ERROR_FAILURE (0x80004005), component ConsoleWrap, interface IConsole ip address show | grep enp 2: enp1s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000 inet 192.168.0.14/24 metric 100 brd 192.168.0.255 scope global enp1s0 VBoxManage showvminfo \"Ubuntu App Server\" VBoxManage modifyvm \"Ubuntu App Server\" --nic2 bridged --bridgeadapter1 enp1s0 Did not work, needed to change <BridgedInterface name=\"enp1s0\"/> in /home/colleymj/VirtualBox VMs/Ubuntu App Server/Ubuntu App Server.vbox VBoxManage: error: AMD-V is disabled in the BIOS (or by the host OS) (VERR_SVM_DISABLED) VBoxManage modifyvm \"Ubuntu App Server\" --cpus 1 VBoxManage modifyvm \"Ubuntu App Server\" --paravirtprovider none Dyn DNS sudo apt install ddclient user; qapps hosts: southern.podzone.net,musings.thruhere.net,qsolutions.endoftheinternet.org,docs.podzone.net,mottttspot.servegame.org,poc.endoftheinternet.org Data take-on Postgress export from legacy implementation Import into new Postgress instance Implementation Zope Initial install of Plone, provides Zope 4, which is not backward compatable with the Zope 2 applications, so use a legacy zope image. Legacy Zope image selected: robcast/legacy-zope:2.13 Zope volume mounts: ./var/filestorage; ./var/blobstorage; ./products Postgres nfs not working for postgres volume, issues with chmod (as with OpenSearch) Use cluster-internal db GUI tool to avoid requirement to provide ingress for a database port.","title":"Application Build"},{"location":"technicalApplication/#application-build","text":"","title":"Application Build"},{"location":"technicalApplication/#platform-requirement","text":"Zope Python based Application server Python Postgress driver Zope Postgres driver wrapper Postgress Database Database GUI","title":"Platform requirement"},{"location":"technicalApplication/#migration","text":"Move ularu VM from bukit (to be recovered) to antecessor Export VM in .ova format Test on james (final target server)","title":"Migration"},{"location":"technicalApplication/#importing-vm-on-james","text":"VBoxManage import UbuntuAppServerClean202401.ova --dry-run VBoxManage import UbuntuAppServerClean202401.ova VBoxManage list vms VBoxManage startvm \"Ubuntu App Server\" --type headless Waiting for VM \"Ubuntu App Server\" to power on... VBoxManage: error: Nonexistent host networking interface, name 'enp3s0f0' (VERR_INTERNAL_ERROR) VBoxManage: error: Details: code NS_ERROR_FAILURE (0x80004005), component ConsoleWrap, interface IConsole ip address show | grep enp 2: enp1s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000 inet 192.168.0.14/24 metric 100 brd 192.168.0.255 scope global enp1s0 VBoxManage showvminfo \"Ubuntu App Server\" VBoxManage modifyvm \"Ubuntu App Server\" --nic2 bridged --bridgeadapter1 enp1s0 Did not work, needed to change <BridgedInterface name=\"enp1s0\"/> in /home/colleymj/VirtualBox VMs/Ubuntu App Server/Ubuntu App Server.vbox VBoxManage: error: AMD-V is disabled in the BIOS (or by the host OS) (VERR_SVM_DISABLED) VBoxManage modifyvm \"Ubuntu App Server\" --cpus 1 VBoxManage modifyvm \"Ubuntu App Server\" --paravirtprovider none","title":"Importing VM on james"},{"location":"technicalApplication/#dyn-dns","text":"sudo apt install ddclient user; qapps hosts: southern.podzone.net,musings.thruhere.net,qsolutions.endoftheinternet.org,docs.podzone.net,mottttspot.servegame.org,poc.endoftheinternet.org","title":"Dyn DNS"},{"location":"technicalApplication/#data-take-on","text":"Postgress export from legacy implementation Import into new Postgress instance","title":"Data take-on"},{"location":"technicalApplication/#implementation","text":"","title":"Implementation"},{"location":"technicalApplication/#zope","text":"Initial install of Plone, provides Zope 4, which is not backward compatable with the Zope 2 applications, so use a legacy zope image. Legacy Zope image selected: robcast/legacy-zope:2.13 Zope volume mounts: ./var/filestorage; ./var/blobstorage; ./products","title":"Zope"},{"location":"technicalApplication/#postgres","text":"nfs not working for postgres volume, issues with chmod (as with OpenSearch) Use cluster-internal db GUI tool to avoid requirement to provide ingress for a database port.","title":"Postgres"},{"location":"technicalBuildPipeline/","text":"Build pipelines The term pipeline is used in this context as a set of interrelated automation steps that take as input a set of source code, and results in a change to the compute environment. Scope Preference will be given to a pipeline that executes independently of developer, admin, or cluster CLI dependencies. The following build processes are of interest: Content Pipeline: static sites; markdown, html, web resources; apache; git-sync API Pipeline: Java; Spring BOOT; gradle; container; kubernetes deploy IoT Pipeline: Embedded Linux; Yocto / OpenEmbedded / Buildroot / OpenWrt / LTIB Substrate Pipeline: Network boot, cloud-init https://cloudinit.readthedocs.io/en/latest/index.html API Pipeline: Tool evaluation Jib gradle plugin https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin kaniko Reference: https://github.com/GoogleContainerTools/kaniko kaniko is a tool to build container images from a Dockerfile, inside a container or Kubernetes cluster. kubectl build https://github.com/kvaps/kubectl-build Use kubectl plugin Could be useful for desktop prototyping, do not see it useful in a pipeline BuildKit CLI https://github.com/vmware-archive/buildkit-cli-for-kubectl BuildKit CLI for kubectl is a tool for building OCI and Docker images with your kubernetes cluster. Could be useful for desktop prototyping, do not see it useful in a pipeline Github actions References: https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions https://docs.github.com/en/actions/publishing-packages/publishing-docker-images https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry https://docs.github.com/en/packages/managing-github-packages-using-github-actions-workflows/publishing-and-installing-a-package-with-github-actions https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-gradle https://github.com/marketplace/actions/build-and-push-docker-images https://docs.github.com/en/packages/managing-github-packages-using-github-actions-workflows/publishing-and-installing-a-package-with-github-actions General references https://artifacthub.io/ https://artifacthub.io/docs/topics/repositories/ https://belowthemalt.com/2022/09/18/setup-of-spring-boot-application-initialization-of-postgresql-database-on-kubernetes-part-2/ https://github.com/mkjelland/spring-boot-postgres-on-k8s-sample https://github.com/rajeshsgr/order-svc-k8/tree/main https://www.springcloud.io/post/2022-09/spring-boot-k8s-posgresl/#gsc.tab=0","title":"Build pipelines"},{"location":"technicalBuildPipeline/#build-pipelines","text":"The term pipeline is used in this context as a set of interrelated automation steps that take as input a set of source code, and results in a change to the compute environment.","title":"Build pipelines"},{"location":"technicalBuildPipeline/#scope","text":"Preference will be given to a pipeline that executes independently of developer, admin, or cluster CLI dependencies. The following build processes are of interest: Content Pipeline: static sites; markdown, html, web resources; apache; git-sync API Pipeline: Java; Spring BOOT; gradle; container; kubernetes deploy IoT Pipeline: Embedded Linux; Yocto / OpenEmbedded / Buildroot / OpenWrt / LTIB Substrate Pipeline: Network boot, cloud-init https://cloudinit.readthedocs.io/en/latest/index.html","title":"Scope"},{"location":"technicalBuildPipeline/#api-pipeline-tool-evaluation","text":"","title":"API Pipeline: Tool evaluation"},{"location":"technicalBuildPipeline/#jib-gradle-plugin","text":"https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin","title":"Jib gradle plugin"},{"location":"technicalBuildPipeline/#kaniko","text":"Reference: https://github.com/GoogleContainerTools/kaniko kaniko is a tool to build container images from a Dockerfile, inside a container or Kubernetes cluster.","title":"kaniko"},{"location":"technicalBuildPipeline/#kubectl-build","text":"https://github.com/kvaps/kubectl-build Use kubectl plugin Could be useful for desktop prototyping, do not see it useful in a pipeline","title":"kubectl build"},{"location":"technicalBuildPipeline/#buildkit-cli","text":"https://github.com/vmware-archive/buildkit-cli-for-kubectl BuildKit CLI for kubectl is a tool for building OCI and Docker images with your kubernetes cluster. Could be useful for desktop prototyping, do not see it useful in a pipeline","title":"BuildKit CLI"},{"location":"technicalBuildPipeline/#github-actions","text":"References: https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions https://docs.github.com/en/actions/publishing-packages/publishing-docker-images https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry https://docs.github.com/en/packages/managing-github-packages-using-github-actions-workflows/publishing-and-installing-a-package-with-github-actions https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-gradle https://github.com/marketplace/actions/build-and-push-docker-images https://docs.github.com/en/packages/managing-github-packages-using-github-actions-workflows/publishing-and-installing-a-package-with-github-actions","title":"Github actions"},{"location":"technicalBuildPipeline/#general-references","text":"https://artifacthub.io/ https://artifacthub.io/docs/topics/repositories/ https://belowthemalt.com/2022/09/18/setup-of-spring-boot-application-initialization-of-postgresql-database-on-kubernetes-part-2/ https://github.com/mkjelland/spring-boot-postgres-on-k8s-sample https://github.com/rajeshsgr/order-svc-k8/tree/main https://www.springcloud.io/post/2022-09/spring-boot-k8s-posgresl/#gsc.tab=0","title":"General references"},{"location":"technicalCeph/","text":"Persistent data Original cluster external storage used an nfs server, which represents a single point of failure, and is replaced with a Ceph cluster. In addition, there are unsolved issues with postgres and Opensearch using NFS as a storage class, specifically failing on chown operations. We use the Canonical MicroSeph distribution of Ceph, and build a cluster using the hosts sigiriya , james , and bukit . Before starting, check that the ubuntu installations have allocate sufficient space for the root filesystem. I found that only 100G of a 2TB drive was assigned to the root logical volume, which caused ceph cluster failure because the OS disk was above 80%. Preparation To resize root partition to use all of the available space: To display volume information: `sudo vgdisplay`` To extend the logical volume for the root partition: lvextend -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv To resize the root partition: resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv Installing microceph On all hosts in the cluster, install MicroCeph: sudo snap install microceph On Sigiriya (the master), bootstrap: sudo microceph cluster bootstrap To prep to add james: sudo microceph cluster add james This provides a key to be used on James, where we run: sudo microceph cluster join <token> Similarly, to add bukit, on Sigiriya, run: - sudo microceph cluster add bukit On Bukit sudo microceph cluster join <token> Next create (where using loopback volumes) and add disks To create a loopback disk: #!/bin/bash loop_file = \" $( sudo mktemp -p /mnt XXXX.img ) \" sudo truncate -s 60G \" ${ loop_file } \" loop_dev = \" $( sudo losetup --show -f \" ${ loop_file } \" ) \" minor = \" ${ loop_dev ##/dev/loop } \" sudo mknod -m 0660 \"/dev/sdib\" b 7 \" ${ minor } \" Add a disk to each node in the cluster: sudo microceph disk add --wipe \"/dev/sdXX\" Additional basic setups, for test cluster: sudo microceph.ceph config set global osd_pool_default_size 2 sudo microceph.ceph config set mgr mgr_standby_modules false sudo microceph.ceph config set osd osd_crush_chooseleaf_type 0 Installing the ceph dashboard To expose the dashboard over https, use the prod k8s Certificate Manager to get a certificate from LetsEncrypt, and create secret ceph-cert To extract it from k8s: kubectl get secret ceph-cert -o json | jq -r '.data.[\"tls.key\"]' | base64 -d >ceph.key kubectl get secret ceph-cert -o json | jq -r '.data.[\"tls.crt\"]' | base64 -d >ceph.crt To enable ceph dashboard: sudo ceph mgr module enable dashboard sudo ceph dashboard set-ssl-certificate -i - < /home/colleymj/ceph/ceph.crt sudo ceph dashboard set-ssl-certificate-key -i - < /home/colleymj/ceph/ceph.key Add a user: echo <> |sudo ceph dashboard ac-user-create colleymj -i - administrator Get endpoint dashboard ULR: sudo ceph mgr services If there is an issue with the standard port: sudo ceph config set mgr mgr/dashboard/ssl_server_port 8081 Or the host: ceph config set mgr mgr/dashboard/server_addr 192.168.0.6 Connecting microk8s to the ceph cluster NOTE: A single node k8s cluster required 4GB RAM and 4 CPUs, else did not complete installation NOTE: \"Before enabling the rook-ceph addon on a strictly confined MicroK8s, make sure the rbd kernel module is loaded with sudo modprobe rbd .\" : Configure microk8s cluster: sudo microk8s enable rook-ceph We can now connect the k8s cluster to external storage We need ceph.conf, and ceph.keyring to attach, which can be found in the microceph snap directory: /var/snap/microceph/current/conf Using config and key: sudo microk8s connect-external-ceph --ceph-conf ceph.conf --keyring ceph.keyring --rbd-pool southcluster_rbd Some ceph CLI commands sudo microceph status sudo microceph cluster config get cluster_network sudo microceph cluster config list sudo microceph cluster list sudo microceph disk list sudo microceph.ceph status Ceph References for FS https://docs.ceph.com/en/quincy/cephfs/createfs/ https://github.com/rook/rook/blob/master/deploy/examples/filesystem.yaml https://rook.io/docs/rook/latest/CRDs/Cluster/external-cluster/ https://rook.io/docs/rook/latest-release/Getting-Started/example-configurations/#shared-filesystem","title":"Persistent data"},{"location":"technicalCeph/#persistent-data","text":"Original cluster external storage used an nfs server, which represents a single point of failure, and is replaced with a Ceph cluster. In addition, there are unsolved issues with postgres and Opensearch using NFS as a storage class, specifically failing on chown operations. We use the Canonical MicroSeph distribution of Ceph, and build a cluster using the hosts sigiriya , james , and bukit . Before starting, check that the ubuntu installations have allocate sufficient space for the root filesystem. I found that only 100G of a 2TB drive was assigned to the root logical volume, which caused ceph cluster failure because the OS disk was above 80%.","title":"Persistent data"},{"location":"technicalCeph/#preparation","text":"To resize root partition to use all of the available space: To display volume information: `sudo vgdisplay`` To extend the logical volume for the root partition: lvextend -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv To resize the root partition: resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv","title":"Preparation"},{"location":"technicalCeph/#installing-microceph","text":"On all hosts in the cluster, install MicroCeph: sudo snap install microceph On Sigiriya (the master), bootstrap: sudo microceph cluster bootstrap To prep to add james: sudo microceph cluster add james This provides a key to be used on James, where we run: sudo microceph cluster join <token> Similarly, to add bukit, on Sigiriya, run: - sudo microceph cluster add bukit On Bukit sudo microceph cluster join <token> Next create (where using loopback volumes) and add disks To create a loopback disk: #!/bin/bash loop_file = \" $( sudo mktemp -p /mnt XXXX.img ) \" sudo truncate -s 60G \" ${ loop_file } \" loop_dev = \" $( sudo losetup --show -f \" ${ loop_file } \" ) \" minor = \" ${ loop_dev ##/dev/loop } \" sudo mknod -m 0660 \"/dev/sdib\" b 7 \" ${ minor } \" Add a disk to each node in the cluster: sudo microceph disk add --wipe \"/dev/sdXX\" Additional basic setups, for test cluster: sudo microceph.ceph config set global osd_pool_default_size 2 sudo microceph.ceph config set mgr mgr_standby_modules false sudo microceph.ceph config set osd osd_crush_chooseleaf_type 0","title":"Installing microceph"},{"location":"technicalCeph/#installing-the-ceph-dashboard","text":"To expose the dashboard over https, use the prod k8s Certificate Manager to get a certificate from LetsEncrypt, and create secret ceph-cert To extract it from k8s: kubectl get secret ceph-cert -o json | jq -r '.data.[\"tls.key\"]' | base64 -d >ceph.key kubectl get secret ceph-cert -o json | jq -r '.data.[\"tls.crt\"]' | base64 -d >ceph.crt To enable ceph dashboard: sudo ceph mgr module enable dashboard sudo ceph dashboard set-ssl-certificate -i - < /home/colleymj/ceph/ceph.crt sudo ceph dashboard set-ssl-certificate-key -i - < /home/colleymj/ceph/ceph.key Add a user: echo <> |sudo ceph dashboard ac-user-create colleymj -i - administrator Get endpoint dashboard ULR: sudo ceph mgr services If there is an issue with the standard port: sudo ceph config set mgr mgr/dashboard/ssl_server_port 8081 Or the host: ceph config set mgr mgr/dashboard/server_addr 192.168.0.6","title":"Installing the ceph dashboard"},{"location":"technicalCeph/#connecting-microk8s-to-the-ceph-cluster","text":"NOTE: A single node k8s cluster required 4GB RAM and 4 CPUs, else did not complete installation NOTE: \"Before enabling the rook-ceph addon on a strictly confined MicroK8s, make sure the rbd kernel module is loaded with sudo modprobe rbd .\" : Configure microk8s cluster: sudo microk8s enable rook-ceph We can now connect the k8s cluster to external storage We need ceph.conf, and ceph.keyring to attach, which can be found in the microceph snap directory: /var/snap/microceph/current/conf Using config and key: sudo microk8s connect-external-ceph --ceph-conf ceph.conf --keyring ceph.keyring --rbd-pool southcluster_rbd","title":"Connecting microk8s to the ceph cluster"},{"location":"technicalCeph/#some-ceph-cli-commands","text":"sudo microceph status sudo microceph cluster config get cluster_network sudo microceph cluster config list sudo microceph cluster list sudo microceph disk list sudo microceph.ceph status","title":"Some ceph CLI commands"},{"location":"technicalCeph/#ceph-references-for-fs","text":"https://docs.ceph.com/en/quincy/cephfs/createfs/ https://github.com/rook/rook/blob/master/deploy/examples/filesystem.yaml https://rook.io/docs/rook/latest/CRDs/Cluster/external-cluster/ https://rook.io/docs/rook/latest-release/Getting-Started/example-configurations/#shared-filesystem","title":"Ceph References for FS"},{"location":"technicalCluster/","text":"Implementation Notes Decisions Microk8s Kubernetes distribution Build tools (kubectl, calicoctl, ansible etc) on dolmen workstation k8s IOT Edge on anasazi RPi Implement ceph distributed storage - Migrate from nfs on sigiriya Secure ingress host based routing Network Fibre router: Static IPs for control plane and worker nodes Fibre router: (As-is) Dynamic DNS for qsolutions.endoftheinternet.org Fibre router: Port forwarding: 443 to k8s L2 load-balancer (As-is goes to dolmen) Fibre router: Restrict DHCP IP allocation range for clients to 192.168.0.2 - 192.168.0.120 MetalLB: IP address range: 192.168.0.131-192.168.0.140 DynDns: Add wildcard routes for all internet hosts in inventory, e.g. *.southern.podzone.net DynDns: Update IP address using ddclient To dev, test and debug ingress, add: qapps.does-it.net Node installations Ubuntu Server and Desktop: sudo snap install microk8s --channel=1.28/stable --classic Ubuntu Core: sudo snap install microk8s --channel=latest/edge/strict Set up user with sudo rights For Raspberry Pi For levant, to fix calico vxlan missing dependency: sudo apt install linux-modules-extra-raspi For RiPi: Add to /boot/firmware/cmdline.txt: cgroup_enable=memory cgroup_memory=1 net.ifnames=1 If required to prevent deployment to RPi arch (e.g. Opensearch): kubectl taint nodes levant key1=value1:NoSchedule Cluster configuration sudo microk8s enable metrics-server sudo microk8s enable rook-ceph ; See technicalCeph.md for more details sudo microk8s connect-external-ceph --ceph-conf ceph.conf --keyring ceph.keyring --rbd-pool dev_rbd sudo microk8s connect-external-ceph --ceph-conf ceph.conf --keyring ceph.keyring --rbd-pool prod_rbd sudo microk8s enable metallb sudo microk8s enable cert-manager sudo microk8s helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --create-namespace NOTE: This gives ingressClassName: nginx Infrastructure Test: musings over https with git-sync An installation of static-site, with default configuration (musings): NOTE: WAN port forwarding to the metallb IP address is required for certificates to be issued. helm install musings-01 --debug --namespace musings --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' This install tests the following cluster capabilities: L2 load balancer Ingress Certificate Manager To install podzone docs: helm install podzone-01 --debug --namespace podzone --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' --values valuespodzone.yaml Ceph configuration microk8s enable rook-ceph ; See technicalCeph.md for more details microk8s connect-external-ceph --ceph-conf ceph.conf --keyring ceph.keyring --rbd-pool microk8s_rbd Rolling maintenance In order to upgrade the nodes of the cluster, take one node out of service at a time. Take a node out of service: kubectl drain --ignore-daemonsets --delete-emptydir-data <node name> --delete-emptydir-data is required if use is made of local storage. To bring the node back in to the cluster: kubectl uncordon <node name>","title":"Implementation Notes"},{"location":"technicalCluster/#implementation-notes","text":"","title":"Implementation Notes"},{"location":"technicalCluster/#decisions","text":"Microk8s Kubernetes distribution Build tools (kubectl, calicoctl, ansible etc) on dolmen workstation k8s IOT Edge on anasazi RPi Implement ceph distributed storage - Migrate from nfs on sigiriya Secure ingress host based routing","title":"Decisions"},{"location":"technicalCluster/#network","text":"Fibre router: Static IPs for control plane and worker nodes Fibre router: (As-is) Dynamic DNS for qsolutions.endoftheinternet.org Fibre router: Port forwarding: 443 to k8s L2 load-balancer (As-is goes to dolmen) Fibre router: Restrict DHCP IP allocation range for clients to 192.168.0.2 - 192.168.0.120 MetalLB: IP address range: 192.168.0.131-192.168.0.140 DynDns: Add wildcard routes for all internet hosts in inventory, e.g. *.southern.podzone.net DynDns: Update IP address using ddclient To dev, test and debug ingress, add: qapps.does-it.net","title":"Network"},{"location":"technicalCluster/#node-installations","text":"Ubuntu Server and Desktop: sudo snap install microk8s --channel=1.28/stable --classic Ubuntu Core: sudo snap install microk8s --channel=latest/edge/strict Set up user with sudo rights","title":"Node installations"},{"location":"technicalCluster/#for-raspberry-pi","text":"For levant, to fix calico vxlan missing dependency: sudo apt install linux-modules-extra-raspi For RiPi: Add to /boot/firmware/cmdline.txt: cgroup_enable=memory cgroup_memory=1 net.ifnames=1 If required to prevent deployment to RPi arch (e.g. Opensearch): kubectl taint nodes levant key1=value1:NoSchedule","title":"For Raspberry Pi"},{"location":"technicalCluster/#cluster-configuration","text":"sudo microk8s enable metrics-server sudo microk8s enable rook-ceph ; See technicalCeph.md for more details sudo microk8s connect-external-ceph --ceph-conf ceph.conf --keyring ceph.keyring --rbd-pool dev_rbd sudo microk8s connect-external-ceph --ceph-conf ceph.conf --keyring ceph.keyring --rbd-pool prod_rbd sudo microk8s enable metallb sudo microk8s enable cert-manager sudo microk8s helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --create-namespace NOTE: This gives ingressClassName: nginx","title":"Cluster configuration"},{"location":"technicalCluster/#infrastructure-test-musings-over-https-with-git-sync","text":"An installation of static-site, with default configuration (musings): NOTE: WAN port forwarding to the metallb IP address is required for certificates to be issued. helm install musings-01 --debug --namespace musings --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' This install tests the following cluster capabilities: L2 load balancer Ingress Certificate Manager To install podzone docs: helm install podzone-01 --debug --namespace podzone --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' --values valuespodzone.yaml","title":"Infrastructure Test: musings over https with git-sync"},{"location":"technicalCluster/#ceph-configuration","text":"microk8s enable rook-ceph ; See technicalCeph.md for more details microk8s connect-external-ceph --ceph-conf ceph.conf --keyring ceph.keyring --rbd-pool microk8s_rbd","title":"Ceph configuration"},{"location":"technicalCluster/#rolling-maintenance","text":"In order to upgrade the nodes of the cluster, take one node out of service at a time. Take a node out of service: kubectl drain --ignore-daemonsets --delete-emptydir-data <node name> --delete-emptydir-data is required if use is made of local storage. To bring the node back in to the cluster: kubectl uncordon <node name>","title":"Rolling maintenance"},{"location":"technicalCodeSnippets/","text":"Command line snippets microk8s sudo snap install microk8s --channel=1.28/stable --classic helm helm repo add truecharts https://charts.truecharts.org/ helm pull [chart URL | repo/chartname] [...] [flags] helm package static-site cloudsmith push helm q-solutions/static-site static-site-0.1.0.tgz helm install musings-01 --debug --namespace musings --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' helm install podzone-01 --debug --namespace podzone --create-namespace --values valuespodzone.yaml . helm install podzone-01 --debug --namespace podzone static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' -f values.yaml --values valuespodzone.yaml helm upgrade --install -f values.yaml -9.0.xx.tgz --values .yaml helm install orange-base --debug --namespace musings qapps --repo 'https://dl.cloudsmith.io/public/q-solutions/qapps/helm/charts/' helm install orange-base --debug --namespace musings ./qapps ceph sudo ceph config set mgr mgr/prometheus/server_addr sigiriya sudo ceph config set mgr mgr/prometheus/port 9090 https://docs.ceph.com/en/quincy/rados/operations/pools/#create-a-pool mount.ceph name@07fe3187-00d9-42a3-814b-72a4d5e7d5be.fs_name=/ /mnt/mycephfs -o mon_addr=1.2.3.4 sudo pro attach C13Nfcn8of2NLX4ZQbpN3zkEcT3WJZ Mount apple volume - ./apfs-fuse /dev/sdb2 /mt/sdb1 kubectl kubectl config set-context --current --namespace= kubectl config set-context --current --namespace=admin kubectl drain --ignore-daemonsets kubectl uncordon kubectl get -n default serviceaccount kubeapps-operator -o yaml kubectl get pods --all-namespaces -o jsonpath=\"{..image}\" | tr -s '[[:space:]]' '\\n' | sort | uniq -c Aliases: alias ka=\"kubectl apply -f \" ; alias kd=\"kubectl delete -f \" ansible ansible southcluster -i inventory.yaml -m command -a \"free -m\" To accept new ssh keys: ANSIBLE_HOST_KEY_CHECKING=false ansible all -m ping -i inventory.yaml ansible-playbook -i inventory.yaml playbook.yaml ansible-inventory -i inventory.yaml --list ansible devcluster -m ping -i inventory.yaml apache - sudo systemctl restart apache2 plone /usr/local/Plone/Python-2.7/bin/python /usr/local/Plone/zinstance/parts/instance/bin/interpreter /usr/local/Plone/buildout-cache/eggs/zdaemon-2.0.7-py2.7.egg/zdaemon/zdrun.py -S /usr/local/Plone/buildout-cache/eggs/Zope2-2.13.24-py2.7.egg/Zope2/Startup/zopeschema.xml -b 10 -d -s /usr/local/Plone/zinstance/var/instance/zopectlsock -x 0,2 -z /usr/local/Plone/zinstance/parts/instance /usr/local/Plone/Python-2.7/bin/python /usr/local/Plone/zinstance/parts/instance/bin/interpreter /usr/local/Plone/buildout-cache/eggs/Zope2-2.13.24-py2.7.egg/Zope2/Startup/run.py -C /usr/local/Plone/zinstance/parts/instance/etc/zope.conf /usr/local/Plone/Python-2.7/bin/python /usr/local/Plone/zinstance/parts/instance/bin/interpreter /usr/local/Plone/buildout-cache/eggs/Zope2-2.13.24-py2.7.egg/Zope2/Startup/run.py -C /usr/local/Plone/zinstance/parts/instance/etc/zope.conf docker pull robcast/legacy-zope docker pull robcast/legacy-zope:2.13 sudo usermod -aG sudo c kubectl api-resources Vagrant vagrant init techchad2022/ubuntu2204 vagrant up useradd -p vagrant destroy echo vagrant ALL=NOPASSWD:ALL > /etc/sudoers.d/vagrant echo colleymj ALL=NOPASSWD:ALL > /etc/sudoers.d/colleymj To allow IP to be assigned via DHCP simply use: config.vm.network \"public_network\" This way you don't need to deal with mac address, it will be generated on its own. If you need custom mac address attached to the network device then: config.vm.network \"public_network\", :mac=> \"080027xxxxxx\" Network, wi-fi hot-spot sudo nmcli connection add type bridge con-name 'Bridge' ifname bridge0 sudo nmcli connection add type ethernet slave-type bridge con-name 'Ethernet' ifname eth0 master bridge0 sudo nmcli connection add con-name 'Hotspot' ifname wlan0 type wifi slave-type bridge master bridge0 wifi.mode ap wifi.ssid Hotspot wifi-sec.key-mgmt wpa-psk wifi-sec.proto rsn wifi-sec.pairwise ccmp wifi-sec.psk 61519400 sudo nmcli connection add type ethernet slave-type bridge con-name 'Ethernet' ifname eth0 master bridge0 sudo nmcli connection add con-name 'Hotspot' \\ ifname wlan0 type wifi slave-type bridge master bridge0 \\ wifi.mode ap wifi.ssid Hotspot wifi-sec.key-mgmt wpa-psk \\ wifi-sec.proto rsn wifi-sec.pairwise ccmp wifi-sec.psk 61519400 sudo nmcli device wifi hotspot ssid podzone password xxx11111 sudo nmcli connection add con-name 'Hotspot' \\ ifname wlan0 type wifi slave-type bridge master bridge0 \\ wifi.mode ap wifi.ssid Hotspot wifi-sec.key-mgmt wpa-psk \\ wifi-sec.proto rsn wifi-sec.pairwise ccmp \\ wifi-sec.psk Volume management Swap file: `dd if=/dev/zero of=/swapfile32G bs=1024 count=32M`` chmod 0600 swapfile32G mkswap swapfile32G dmsetup ls sudo lvdisplay lsblk --output NAME,KNAME,TYPE,SIZE,MOUNTPOINT sudo dmsetup info ubuntu--vg-ubuntu--lv lvdisplay pvdisplay raspberry pi set swapfile sudo nano /etc/dphys-swapfile: set CONF_SWAPSIZE=2048 sudo /etc/init.d/dphys-swapfile stop sudo /etc/init.d/dphys-swapfile start unix usermod -a -G sudo colleymj arp -n ip link show route ip route show ip link show ifconfig | grep -m 1 \"^[a-z0-9] :\" | sed -e's/(^[a-z0-9] ):. $/\\1/' | xargs -I {} sh -c \"ethtool {}\" ifconfig | grep -m 1 \"^[a-z0-9] :\" | sed -e's/(^[a-z0-9] ):. $/\\1/' | xargs -I {} sh -c \"sudo tcpdump -i {}\" ip address show ip route show ss -tunap sudo lsof -i @james Postgres kubectl rollout status deployment/postgres /mnt/vagrant-kubernetes 192.168.50.0/24(rw,sync,no_subtree_check,insecure,no_root_squash) export QAPPS_PASSWORD=\" \" envsubst < podzone-db.yaml | kubectl apply -f - Manual site updates !/bin/bash mkdocs build apachepod= kubectl get pods -n default -o json |jq -r .items[].metadata.name | grep apache kubectl exec -n default $apachepod -- rm -R /var/www/html/podzone kubectl -n default cp ~/workspace/podzone/site/ $apachepod:/tmp/podzone/ kubectl exec -n default $apachepod -- chown -R nobody:nogroup /tmp/podzone/ kubectl exec -n default $apachepod -- mv /tmp/podzone /var/www/html kubectl exec apache-bf4996969-qnmqf -- rm -R /var/www/html/telling kubectl cp ~/workspace/telling/site/ apache-bf4996969-qnmqf:/tmp/telling/ kubectl exec apache-bf4996969-qnmqf -- chown -R nobody:nogroup /tmp/telling/ kubectl exec apache-bf4996969-qnmqf -- mv /tmp/telling /var/www/html kubectl cp ~/workspace/QApps/sites/index.html apache-bf4996969-qnmqf:/var/www.html/ Command line completion source <(kubectl completion bash) echo \"source <(kubectl completion bash)\" >> ~/.bashrc Jenkinsx Github token for jenkinsx: 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 kubectl create secret docker-registry regcred --docker-server= --docker-username= --docker-password= --docker-email= Zope Zope volume mounts: ./var/filestorage ./var/blobstorage ./products kubectl cp ~/.factorio/saves/k8s-test.zip factorio/factorio-0:/factorio/saves/ kubectl cp ~/.factorio/saves/k8s-test.zip factorio/factorio-0:/factorio/saves/ Upgrade: NOTE: did not result in rook-ceph add-on being available sudo microk8s disable dashboard microk8s disable metrics-server microk8s kubectl drain sigiriya --ignore-daemonsets sudo snap refresh microk8s --channel=1.28/stable microk8s kubectl uncordon sigiriya Opensearch Edit https://github.com/opensearch-project/helm-charts/blob/main/charts/opensearch/values.yaml for opensearch-bukit.yaml, opensearch-james.yaml, opensearch-sigiriya.yaml helm repo add opensearch https://opensearch-project.github.io/helm-charts/ helm install opensearch-master opensearch/opensearch -f opensearch-bukit.yaml helm install opensearch-client opensearch/opensearch -f opensearch-james.yaml helm install opensearch-data opensearch/opensearch -f opensearch-sigiriya.yaml helm install dashboards opensearch/opensearch-dashboards Opensearch Opensearch dashboard: Get the application URL by running these commands: export POD_NAME=$(kubectl get pods --namespace default -l \"app.kubernetes.io/name=opensearch-dashboards,app.kubernetes.io/instance=dashboards\" -o jsonpath=\"{.items[0].metadata.name}\") export CONTAINER_PORT=$(kubectl get pod --namespace default $POD_NAME -o jsonpath=\"{.spec.containers[0].ports[0].containerPort}\") echo \"Visit http://127.0.0.1:8080 to use your application\" kubectl --namespace default port-forward $POD_NAME 8080:$CONTAINER_PORT token=$(kubectl -n kube-system get secret | grep default-token | cut -d \" \" -f1) kubectl -n kube-system describe secret $token kubectl logs --selector app=csi-nfs-controller -n kube-system -c nfs kubectl logs --selector app=csi-nfs-node -n kube-system -c nfs Observability has been enabled (user/pass: admin/prom-operator) kubectl -n kube-system describe certificate kubernetes-dashboard-stg kubectl create clusterrolebinding add-on-cluster-admin --clusterrole=cluster-admin --serviceaccount=kubernetes-dashboard:kubernetes-dashboard kubectl -n kube-system logs -f $(kubectl -n kube-system get pods -l app=cert-manager -o jsonpath=\"{.items[0].metadata.name}\") cert-manager kube-system describe certificate kubernetes-dashboard-stg kubectl logs deployment/cert-manager -n cert-manager sudo microk8s kubectl describe secret -n kube-system microk8s-dashboard-token kubectl logs podname -n namespace \u2013all-containers=true kubectl logs ingress-nginx-controller-7ddd87655-t2btf --all-containers --namespace ingress-nginx kubectl logs cert-manager-5d6bc46969-cqxnw -n cert-manager \u2013all-containers=true helm show values ingress-nginx --repo https://kubernetes.github.io/ingress-nginx kubectl get L2Advertisement --all-namespaces -o yaml kubectl get ipaddresspool --all-namespaces -o yaml kubectl -n ingress-nginx get svc kubectl describe pod cert-manager-5d6bc46969-xxxnt -n cert-manager sudo microk8s kubectl config view --raw > $HOME/.kube/config calicoctl --allow-version-mismatch get node -o yaml /Users/martincolley/workspace/Certs/qsolutions/{cert1.pem, chain1.pem, fullchain1.pem, privkey1.pem} kubectl create secret tls nginxsecret --key /Users/martincolley/workspace/Certs/qsolutions/privkey1.pem --cert /Users/martincolley/workspace/Certs/qsolutions/fullchain1.pem kubectl create configmap nginxconfigmap --from-file=nginx-default.conf brew install calicoctl grep -B 15 -A 15 IP_AUTODETECTION_METHOD /var/snap/microk8s/current/args/cni-network/cni.yaml kubectl create ingress demo-localhost --class=nginx --rule=\"levant/*=demo:80\" kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml nmcli connection add type bridge con-name localbr ifname localbr ipv4.method manual ipv4.addresses 10.13.31.1/24 sudo microk8s kubectl config view --raw > $HOME/.kube/config sudo usermod -a -G microk8s multipass launch --network en0 --network name=bridge0,mode=manual kubectl cluster-info dump kubectl get pods -n kube-system -o wide kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml sudo crictl --runtime-endpoint unix:///var/run/containerd/containerd.sock ps -a sudo crictl --runtime-endpoint unix:///var/run/containerd/containerd.sock ps -a | grep kube | grep -v pause sudo kubeadm init --control-plane-endpoint bukit --config kubeadm-config.yaml /snap/docker/2893/bin/containerd config default For snap docker installation (bukit): sudo kubeadm init --cri-socket unix:/run/snap.docker/containerd/containerd.sock --control-plane-endpoint bukit --dry-run For apt docker installation (james): sudo kubeadm init --control-plane-endpoint bukit --dry-run --config kubeadm-config.yaml systemctl enable kubelet.service kubectl version --client cat <<EOF | sudo tee /etc/modules-load.d/k8s.conf overlay br_netfilter EOF sudo modprobe overlay sudo modprobe br_netfilter cat <<EOF | sudo tee /etc/sysctl.d/k8s.conf net.bridge.bridge-nf-call-iptables = 1 net.bridge.bridge-nf-call-ip6tables = 1 net.ipv4.ip_forward = 1 EOF sudo sysctl --system Kubernetes host network IP range --service-cluster-ip-range=192.168.0.128/25 in /var/snap/microk8s/current/args/kube-apiserver /var/snap/microk8s/current/args/cni-network/cni.yaml edit /var/snap/microk8s/current/args/kube-apiserver and setting the following arguments: # /var/snap/microk8s/current/args/kube-apiserver --advertise-address=10.10.10.10 --bind-address=0.0.0.0 --secure-port=16443 - CNI Pulgin: Calico, using 192.168.1.0/16: kubeadm init --pod-network-cidr=192.168.1.0/16 k8s installation [X] bukit and james: Install kubeadm and kubelet: sudo apt-get install -y kubelet kubeadm [X] bukit: Swap settings for kubeadm (sudo swapoff -a; comment out /swapfile in /etc/fstab) [X] bukit: Configure kubeadm for containerd (create kubeadm-config.yaml) [ ] bukit: kubeadm init --config kubeadm-config.yaml [ ] dolmen: Install kubectl [ ] Add third cluster node (virtual box on ) Tasks: Cleanup to retry kubeadm init Tasks: Cleanup initial [X] james: snap cleanup [X] bukit: snap remove kube-apiserver kubectl [X] james: Remove docker, kubectl, and k8s components [X] bukit: Remove docker, kubectl, and k8s components [X] bukit and james: Clean up k8s files (/var/lib/kubelet/; /etc/kubernetes/) [X] bukit and james: Clean up docker installation files rm -rf /var/lib/containerd and rm -rf /var/lib/docker [X] bukit and james: Clean up etcd files rm -rf /var/lib/etcd [ ] bukit: ~/.kube and ~/.microk8s Tasks: Prep for k8s installation [X] bukit, dolmen and james: /etc/hosts file configs for james and bukit /private/etc/hosts for dolmen [X] james: Install containerd [X] bukit: Install containerd [X] james: Configure containerd (/etc/containerd/config.toml) [X] bukit: Configure containerd (/etc/containerd/config.toml) Containerd installation and configuration Full docker stack, packaged by docker: sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin Just runc and containerd, packaged by ubuntu: apt-get -y install containerd Containerd configuration requirements: Enable cri plugin in /etc/containerd/config.toml (achieved by overwriting the default file config.toml) Set cgroup driver to Systemd Configure k8s sandbox image The following achieves this: cat > /etc/containerd/config.toml <<EOF [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc] [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options] SystemdCgroup = true [plugins.\"io.containerd.grpc.v1.cri\"] sandbox_image = \"registry.k8s.io/pause:3.9\" EOF Restart containerd: systemctl restart containerd kubeadm installation and configuration Set Pod subnet (--pod-network-cidr): 192.168.1.0/24 Set Service subnet 192.168.0.0/24 Set --control-plane-endpoint bukit Set systemd as the cgroup driver Since the config file option to init is required for cgroup driver, create a config file for all options: kind: ClusterConfiguration apiVersion: kubeadm.k8s.io/v1beta3 kubernetesVersion: v1.28.2 networking: serviceSubnet: \"192.168.0.0/24\" podSubnet: \"192.168.1.0/24\" dnsDomain: \"cluster.local\" controlPlaneEndpoint: \"bukit\" clusterName: \"qapps-cluster\" --- kind: KubeletConfiguration apiVersion: kubelet.config.k8s.io/v1beta1 cgroupDriver: systemd Init command: kubeadm init --config kubeadm-config.yaml Tasks: Cleanup to retdo kubeadm init kubectl drain --delete-emptydir-data --force --ignore-daemonsets kubeadm reset kubectl delete node clean /etc/cni/net.d","title":"Command line snippets"},{"location":"technicalCodeSnippets/#command-line-snippets","text":"","title":"Command line snippets"},{"location":"technicalCodeSnippets/#microk8s","text":"sudo snap install microk8s --channel=1.28/stable --classic","title":"microk8s"},{"location":"technicalCodeSnippets/#helm","text":"helm repo add truecharts https://charts.truecharts.org/ helm pull [chart URL | repo/chartname] [...] [flags] helm package static-site cloudsmith push helm q-solutions/static-site static-site-0.1.0.tgz helm install musings-01 --debug --namespace musings --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' helm install podzone-01 --debug --namespace podzone --create-namespace --values valuespodzone.yaml . helm install podzone-01 --debug --namespace podzone static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' -f values.yaml --values valuespodzone.yaml helm upgrade --install -f values.yaml -9.0.xx.tgz --values .yaml helm install orange-base --debug --namespace musings qapps --repo 'https://dl.cloudsmith.io/public/q-solutions/qapps/helm/charts/' helm install orange-base --debug --namespace musings ./qapps","title":"helm"},{"location":"technicalCodeSnippets/#ceph","text":"sudo ceph config set mgr mgr/prometheus/server_addr sigiriya sudo ceph config set mgr mgr/prometheus/port 9090 https://docs.ceph.com/en/quincy/rados/operations/pools/#create-a-pool mount.ceph name@07fe3187-00d9-42a3-814b-72a4d5e7d5be.fs_name=/ /mnt/mycephfs -o mon_addr=1.2.3.4 sudo pro attach C13Nfcn8of2NLX4ZQbpN3zkEcT3WJZ Mount apple volume - ./apfs-fuse /dev/sdb2 /mt/sdb1","title":"ceph"},{"location":"technicalCodeSnippets/#kubectl","text":"kubectl config set-context --current --namespace= kubectl config set-context --current --namespace=admin kubectl drain --ignore-daemonsets kubectl uncordon kubectl get -n default serviceaccount kubeapps-operator -o yaml kubectl get pods --all-namespaces -o jsonpath=\"{..image}\" | tr -s '[[:space:]]' '\\n' | sort | uniq -c Aliases: alias ka=\"kubectl apply -f \" ; alias kd=\"kubectl delete -f \"","title":"kubectl"},{"location":"technicalCodeSnippets/#ansible","text":"ansible southcluster -i inventory.yaml -m command -a \"free -m\" To accept new ssh keys: ANSIBLE_HOST_KEY_CHECKING=false ansible all -m ping -i inventory.yaml ansible-playbook -i inventory.yaml playbook.yaml ansible-inventory -i inventory.yaml --list ansible devcluster -m ping -i inventory.yaml","title":"ansible"},{"location":"technicalCodeSnippets/#apache","text":"","title":"apache"},{"location":"technicalCodeSnippets/#-sudo-systemctl-restart-apache2","text":"","title":"- sudo systemctl restart apache2"},{"location":"technicalCodeSnippets/#plone","text":"/usr/local/Plone/Python-2.7/bin/python /usr/local/Plone/zinstance/parts/instance/bin/interpreter /usr/local/Plone/buildout-cache/eggs/zdaemon-2.0.7-py2.7.egg/zdaemon/zdrun.py -S /usr/local/Plone/buildout-cache/eggs/Zope2-2.13.24-py2.7.egg/Zope2/Startup/zopeschema.xml -b 10 -d -s /usr/local/Plone/zinstance/var/instance/zopectlsock -x 0,2 -z /usr/local/Plone/zinstance/parts/instance /usr/local/Plone/Python-2.7/bin/python /usr/local/Plone/zinstance/parts/instance/bin/interpreter /usr/local/Plone/buildout-cache/eggs/Zope2-2.13.24-py2.7.egg/Zope2/Startup/run.py -C /usr/local/Plone/zinstance/parts/instance/etc/zope.conf /usr/local/Plone/Python-2.7/bin/python /usr/local/Plone/zinstance/parts/instance/bin/interpreter /usr/local/Plone/buildout-cache/eggs/Zope2-2.13.24-py2.7.egg/Zope2/Startup/run.py -C /usr/local/Plone/zinstance/parts/instance/etc/zope.conf docker pull robcast/legacy-zope docker pull robcast/legacy-zope:2.13 sudo usermod -aG sudo c kubectl api-resources","title":"plone"},{"location":"technicalCodeSnippets/#vagrant","text":"vagrant init techchad2022/ubuntu2204 vagrant up useradd -p vagrant destroy echo vagrant ALL=NOPASSWD:ALL > /etc/sudoers.d/vagrant echo colleymj ALL=NOPASSWD:ALL > /etc/sudoers.d/colleymj To allow IP to be assigned via DHCP simply use: config.vm.network \"public_network\" This way you don't need to deal with mac address, it will be generated on its own. If you need custom mac address attached to the network device then: config.vm.network \"public_network\", :mac=> \"080027xxxxxx\"","title":"Vagrant"},{"location":"technicalCodeSnippets/#network-wi-fi-hot-spot","text":"sudo nmcli connection add type bridge con-name 'Bridge' ifname bridge0 sudo nmcli connection add type ethernet slave-type bridge con-name 'Ethernet' ifname eth0 master bridge0 sudo nmcli connection add con-name 'Hotspot' ifname wlan0 type wifi slave-type bridge master bridge0 wifi.mode ap wifi.ssid Hotspot wifi-sec.key-mgmt wpa-psk wifi-sec.proto rsn wifi-sec.pairwise ccmp wifi-sec.psk 61519400 sudo nmcli connection add type ethernet slave-type bridge con-name 'Ethernet' ifname eth0 master bridge0 sudo nmcli connection add con-name 'Hotspot' \\ ifname wlan0 type wifi slave-type bridge master bridge0 \\ wifi.mode ap wifi.ssid Hotspot wifi-sec.key-mgmt wpa-psk \\ wifi-sec.proto rsn wifi-sec.pairwise ccmp wifi-sec.psk 61519400 sudo nmcli device wifi hotspot ssid podzone password xxx11111 sudo nmcli connection add con-name 'Hotspot' \\ ifname wlan0 type wifi slave-type bridge master bridge0 \\ wifi.mode ap wifi.ssid Hotspot wifi-sec.key-mgmt wpa-psk \\ wifi-sec.proto rsn wifi-sec.pairwise ccmp \\ wifi-sec.psk","title":"Network, wi-fi hot-spot"},{"location":"technicalCodeSnippets/#volume-management","text":"Swap file: `dd if=/dev/zero of=/swapfile32G bs=1024 count=32M`` chmod 0600 swapfile32G mkswap swapfile32G dmsetup ls sudo lvdisplay lsblk --output NAME,KNAME,TYPE,SIZE,MOUNTPOINT sudo dmsetup info ubuntu--vg-ubuntu--lv lvdisplay pvdisplay raspberry pi set swapfile sudo nano /etc/dphys-swapfile: set CONF_SWAPSIZE=2048 sudo /etc/init.d/dphys-swapfile stop sudo /etc/init.d/dphys-swapfile start","title":"Volume management"},{"location":"technicalCodeSnippets/#unix","text":"usermod -a -G sudo colleymj arp -n ip link show route ip route show ip link show ifconfig | grep -m 1 \"^[a-z0-9] :\" | sed -e's/(^[a-z0-9] ):. $/\\1/' | xargs -I {} sh -c \"ethtool {}\" ifconfig | grep -m 1 \"^[a-z0-9] :\" | sed -e's/(^[a-z0-9] ):. $/\\1/' | xargs -I {} sh -c \"sudo tcpdump -i {}\" ip address show ip route show ss -tunap sudo lsof -i @james","title":"unix"},{"location":"technicalCodeSnippets/#postgres","text":"kubectl rollout status deployment/postgres /mnt/vagrant-kubernetes 192.168.50.0/24(rw,sync,no_subtree_check,insecure,no_root_squash) export QAPPS_PASSWORD=\" \" envsubst < podzone-db.yaml | kubectl apply -f -","title":"Postgres"},{"location":"technicalCodeSnippets/#manual-site-updates","text":"","title":"Manual site updates"},{"location":"technicalCodeSnippets/#binbash","text":"mkdocs build apachepod= kubectl get pods -n default -o json |jq -r .items[].metadata.name | grep apache kubectl exec -n default $apachepod -- rm -R /var/www/html/podzone kubectl -n default cp ~/workspace/podzone/site/ $apachepod:/tmp/podzone/ kubectl exec -n default $apachepod -- chown -R nobody:nogroup /tmp/podzone/ kubectl exec -n default $apachepod -- mv /tmp/podzone /var/www/html kubectl exec apache-bf4996969-qnmqf -- rm -R /var/www/html/telling kubectl cp ~/workspace/telling/site/ apache-bf4996969-qnmqf:/tmp/telling/ kubectl exec apache-bf4996969-qnmqf -- chown -R nobody:nogroup /tmp/telling/ kubectl exec apache-bf4996969-qnmqf -- mv /tmp/telling /var/www/html kubectl cp ~/workspace/QApps/sites/index.html apache-bf4996969-qnmqf:/var/www.html/","title":"!/bin/bash"},{"location":"technicalCodeSnippets/#command-line-completion","text":"source <(kubectl completion bash) echo \"source <(kubectl completion bash)\" >> ~/.bashrc","title":"Command line completion"},{"location":"technicalCodeSnippets/#jenkinsx","text":"Github token for jenkinsx: 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 kubectl create secret docker-registry regcred --docker-server= --docker-username= --docker-password= --docker-email=","title":"Jenkinsx"},{"location":"technicalCodeSnippets/#zope","text":"Zope volume mounts: ./var/filestorage ./var/blobstorage ./products kubectl cp ~/.factorio/saves/k8s-test.zip factorio/factorio-0:/factorio/saves/ kubectl cp ~/.factorio/saves/k8s-test.zip factorio/factorio-0:/factorio/saves/","title":"Zope"},{"location":"technicalCodeSnippets/#upgrade-note-did-not-result-in-rook-ceph-add-on-being-available","text":"sudo microk8s disable dashboard microk8s disable metrics-server microk8s kubectl drain sigiriya --ignore-daemonsets sudo snap refresh microk8s --channel=1.28/stable microk8s kubectl uncordon sigiriya","title":"Upgrade: NOTE: did not result in rook-ceph add-on being available"},{"location":"technicalCodeSnippets/#opensearch","text":"Edit https://github.com/opensearch-project/helm-charts/blob/main/charts/opensearch/values.yaml for opensearch-bukit.yaml, opensearch-james.yaml, opensearch-sigiriya.yaml helm repo add opensearch https://opensearch-project.github.io/helm-charts/ helm install opensearch-master opensearch/opensearch -f opensearch-bukit.yaml helm install opensearch-client opensearch/opensearch -f opensearch-james.yaml helm install opensearch-data opensearch/opensearch -f opensearch-sigiriya.yaml helm install dashboards opensearch/opensearch-dashboards","title":"Opensearch"},{"location":"technicalCodeSnippets/#opensearch_1","text":"Opensearch dashboard: Get the application URL by running these commands: export POD_NAME=$(kubectl get pods --namespace default -l \"app.kubernetes.io/name=opensearch-dashboards,app.kubernetes.io/instance=dashboards\" -o jsonpath=\"{.items[0].metadata.name}\") export CONTAINER_PORT=$(kubectl get pod --namespace default $POD_NAME -o jsonpath=\"{.spec.containers[0].ports[0].containerPort}\") echo \"Visit http://127.0.0.1:8080 to use your application\" kubectl --namespace default port-forward $POD_NAME 8080:$CONTAINER_PORT token=$(kubectl -n kube-system get secret | grep default-token | cut -d \" \" -f1) kubectl -n kube-system describe secret $token kubectl logs --selector app=csi-nfs-controller -n kube-system -c nfs kubectl logs --selector app=csi-nfs-node -n kube-system -c nfs Observability has been enabled (user/pass: admin/prom-operator) kubectl -n kube-system describe certificate kubernetes-dashboard-stg kubectl create clusterrolebinding add-on-cluster-admin --clusterrole=cluster-admin --serviceaccount=kubernetes-dashboard:kubernetes-dashboard kubectl -n kube-system logs -f $(kubectl -n kube-system get pods -l app=cert-manager -o jsonpath=\"{.items[0].metadata.name}\") cert-manager kube-system describe certificate kubernetes-dashboard-stg kubectl logs deployment/cert-manager -n cert-manager sudo microk8s kubectl describe secret -n kube-system microk8s-dashboard-token kubectl logs podname -n namespace \u2013all-containers=true kubectl logs ingress-nginx-controller-7ddd87655-t2btf --all-containers --namespace ingress-nginx kubectl logs cert-manager-5d6bc46969-cqxnw -n cert-manager \u2013all-containers=true helm show values ingress-nginx --repo https://kubernetes.github.io/ingress-nginx kubectl get L2Advertisement --all-namespaces -o yaml kubectl get ipaddresspool --all-namespaces -o yaml kubectl -n ingress-nginx get svc kubectl describe pod cert-manager-5d6bc46969-xxxnt -n cert-manager sudo microk8s kubectl config view --raw > $HOME/.kube/config calicoctl --allow-version-mismatch get node -o yaml /Users/martincolley/workspace/Certs/qsolutions/{cert1.pem, chain1.pem, fullchain1.pem, privkey1.pem} kubectl create secret tls nginxsecret --key /Users/martincolley/workspace/Certs/qsolutions/privkey1.pem --cert /Users/martincolley/workspace/Certs/qsolutions/fullchain1.pem kubectl create configmap nginxconfigmap --from-file=nginx-default.conf brew install calicoctl grep -B 15 -A 15 IP_AUTODETECTION_METHOD /var/snap/microk8s/current/args/cni-network/cni.yaml kubectl create ingress demo-localhost --class=nginx --rule=\"levant/*=demo:80\" kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml nmcli connection add type bridge con-name localbr ifname localbr ipv4.method manual ipv4.addresses 10.13.31.1/24 sudo microk8s kubectl config view --raw > $HOME/.kube/config sudo usermod -a -G microk8s multipass launch --network en0 --network name=bridge0,mode=manual kubectl cluster-info dump kubectl get pods -n kube-system -o wide kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml sudo crictl --runtime-endpoint unix:///var/run/containerd/containerd.sock ps -a sudo crictl --runtime-endpoint unix:///var/run/containerd/containerd.sock ps -a | grep kube | grep -v pause sudo kubeadm init --control-plane-endpoint bukit --config kubeadm-config.yaml /snap/docker/2893/bin/containerd config default For snap docker installation (bukit): sudo kubeadm init --cri-socket unix:/run/snap.docker/containerd/containerd.sock --control-plane-endpoint bukit --dry-run For apt docker installation (james): sudo kubeadm init --control-plane-endpoint bukit --dry-run --config kubeadm-config.yaml systemctl enable kubelet.service kubectl version --client cat <<EOF | sudo tee /etc/modules-load.d/k8s.conf overlay br_netfilter EOF sudo modprobe overlay sudo modprobe br_netfilter cat <<EOF | sudo tee /etc/sysctl.d/k8s.conf net.bridge.bridge-nf-call-iptables = 1 net.bridge.bridge-nf-call-ip6tables = 1 net.ipv4.ip_forward = 1 EOF sudo sysctl --system Kubernetes host network IP range --service-cluster-ip-range=192.168.0.128/25 in /var/snap/microk8s/current/args/kube-apiserver /var/snap/microk8s/current/args/cni-network/cni.yaml edit /var/snap/microk8s/current/args/kube-apiserver and setting the following arguments: # /var/snap/microk8s/current/args/kube-apiserver --advertise-address=10.10.10.10 --bind-address=0.0.0.0 --secure-port=16443 - CNI Pulgin: Calico, using 192.168.1.0/16: kubeadm init --pod-network-cidr=192.168.1.0/16","title":"Opensearch"},{"location":"technicalCodeSnippets/#k8s-installation","text":"[X] bukit and james: Install kubeadm and kubelet: sudo apt-get install -y kubelet kubeadm [X] bukit: Swap settings for kubeadm (sudo swapoff -a; comment out /swapfile in /etc/fstab) [X] bukit: Configure kubeadm for containerd (create kubeadm-config.yaml) [ ] bukit: kubeadm init --config kubeadm-config.yaml [ ] dolmen: Install kubectl [ ] Add third cluster node (virtual box on )","title":"k8s installation"},{"location":"technicalCodeSnippets/#tasks-cleanup-to-retry-kubeadm-init","text":"","title":"Tasks: Cleanup to retry kubeadm init"},{"location":"technicalCodeSnippets/#tasks-cleanup-initial","text":"[X] james: snap cleanup [X] bukit: snap remove kube-apiserver kubectl [X] james: Remove docker, kubectl, and k8s components [X] bukit: Remove docker, kubectl, and k8s components [X] bukit and james: Clean up k8s files (/var/lib/kubelet/; /etc/kubernetes/) [X] bukit and james: Clean up docker installation files rm -rf /var/lib/containerd and rm -rf /var/lib/docker [X] bukit and james: Clean up etcd files rm -rf /var/lib/etcd [ ] bukit: ~/.kube and ~/.microk8s","title":"Tasks: Cleanup initial"},{"location":"technicalCodeSnippets/#tasks-prep-for-k8s-installation","text":"[X] bukit, dolmen and james: /etc/hosts file configs for james and bukit /private/etc/hosts for dolmen [X] james: Install containerd [X] bukit: Install containerd [X] james: Configure containerd (/etc/containerd/config.toml) [X] bukit: Configure containerd (/etc/containerd/config.toml)","title":"Tasks: Prep for k8s installation"},{"location":"technicalCodeSnippets/#containerd-installation-and-configuration","text":"Full docker stack, packaged by docker: sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin Just runc and containerd, packaged by ubuntu: apt-get -y install containerd Containerd configuration requirements: Enable cri plugin in /etc/containerd/config.toml (achieved by overwriting the default file config.toml) Set cgroup driver to Systemd Configure k8s sandbox image The following achieves this: cat > /etc/containerd/config.toml <<EOF [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc] [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options] SystemdCgroup = true [plugins.\"io.containerd.grpc.v1.cri\"] sandbox_image = \"registry.k8s.io/pause:3.9\" EOF Restart containerd: systemctl restart containerd","title":"Containerd installation and configuration"},{"location":"technicalCodeSnippets/#kubeadm-installation-and-configuration","text":"Set Pod subnet (--pod-network-cidr): 192.168.1.0/24 Set Service subnet 192.168.0.0/24 Set --control-plane-endpoint bukit Set systemd as the cgroup driver Since the config file option to init is required for cgroup driver, create a config file for all options: kind: ClusterConfiguration apiVersion: kubeadm.k8s.io/v1beta3 kubernetesVersion: v1.28.2 networking: serviceSubnet: \"192.168.0.0/24\" podSubnet: \"192.168.1.0/24\" dnsDomain: \"cluster.local\" controlPlaneEndpoint: \"bukit\" clusterName: \"qapps-cluster\" --- kind: KubeletConfiguration apiVersion: kubelet.config.k8s.io/v1beta1 cgroupDriver: systemd Init command: kubeadm init --config kubeadm-config.yaml","title":"kubeadm installation and configuration"},{"location":"technicalCodeSnippets/#tasks-cleanup-to-retdo-kubeadm-init","text":"kubectl drain --delete-emptydir-data --force --ignore-daemonsets kubeadm reset kubectl delete node clean /etc/cni/net.d","title":"Tasks: Cleanup to retdo kubeadm init"},{"location":"technicalConsumerCloud/","text":"Consumer Cloud Definition HG Insights defines Consumer Cloud in their Glossary as follows: Cloud computing offerings targeted toward individuals for personal use, such as Dropbox or iCloud. End users interact with consumer cloud\u2019s through highly interactive applications. When you store photos or documents in an app like Dropbox, you are interacting with their cloud, hence the consumer cloud. Consumer clouds are composed no differently from other cloud systems. The only difference is the B2C nature of their delivery. Most applications that interact directly with the customer can be classified as using a consumer cloud. In this sense, the term \"Consumer Cloud\" refers to Cloud service offerings targeting Consumers, as opposed to Business or Enterprise Cloud service provider customers. The definition of \"Cloud Consumer\" is consistently along the lines of \"a consumer of cloud services\". I am not aware of a formal definition for a Consumer built and managed Cloud Service . However this is the sense in which I would like to use the term. Consumer built and managed Cloud Service Since I have the skill-set to set up and manage server hardware, and the hardware necessary to suite the workload, I have always preferred self-hosting from my residential network, rather than to make use of hosting or cloud services. The relative costs of hosting and cloud services have been investigated on occasion over time, and not found suitable for this set of use-cases. Further, the inclination to own the computing fabric, rather than to rent capacity is strong, for the same reasons that owning property for my family's accommodation rather than renting property is preferable. Lastly, I have a personal professional interest in hardware and computing, and am prepared to develop this skill set in the re-architecture of the solution as an on-premise solution, using current cloud technologies. Alternatives While this definition of Consumer Cloud has a level of engineering skill required, it is easy to envision a future scenario where the components are commoditised to the extent that this is no longer the case. While this project's scope is focused on a set of Information Technology requirements such as file mail and application services, pre-built consumer grade appliances that come close to fulfilling the requirement are already available. These however invariably have a component of their offering that includes one or more vendor ecosystems . These typically require registering with and using, at run-time, Service Provider cloud services available only via the Internet to configure and manage the solution. So in a sense Consumer Cloud is already an offering on the market, if one understands the build part to refer to sourcing and installing an appliance, and one is not to fussy about committing to a dependency on vendor eco-systems. There are also a few platforms that play some role in empowering consumers - some positioned to support large organisations as well - to manage on-premise services and solutions without the vendor eco-system. These range from solutions focusing on putting a user's data back in their own sphere of influence - for reasons relating to Data Sovereignty - to solutions supporting home technicians and hobbyists get up and running with pre-packaged solutions for media servers, blog sites and the like. With the build part being relevant to me, and an aversion to committing to vendor ecosystems where avoidable, none of these solutions were a good fit for my set of use-cases. There is a sense in which vendor ecosystems are hard to avoid, if one includes the many middle-men in the software provisioning pipeline. This includes operating system release solutions, and the package management that runs on top of these. For this solution, at least the MVP portion, this is acceptable. There is a parallel initiative to investigate cloud at the edge and IoT. As the run-time for this initiative is Embedded Linux, a tool-chain to build an OS image for specifically targeted hardware is required. The tool-chain needs to build an image including operating system kernel, only the required support software, and one or more run-time applications. A k3s layer, which provides a light weight cloud (kubernetes) distribution will also be installed. It would be interesting to investigate using this same tool-chain to target the hardware used for the IT component, thus avoiding the vendor ecosystems used in the IT MVP solution. More about this elsewhere. Technical implementation With the points above in mind, the following imperatives are listed in bullet point form to inform further decision making: No public cloud runtime (day 1, day 2) dependencies Use of Consumer (commodity) components: Computing resources Networking Internet access Off grid (Internet disconnected) viability for services Of note are the remaining day zero dependencies. These include off-premise file, code and component storage, as well as domain serving and certificate issuing services. Once the envisaged multi-site solution is complete at least the storage solutions will be considered, for example replacing GitHub with the self-hosted solution Gitea, which I have implemented with success in an enterprise on-premise setting. For this specific initiative, procuring additional hardware to support a multi-site implementation is required. Second hand end-user hardware, with upgrades to RAM and storage will be used, as circumstances dictate.","title":"Consumer Cloud"},{"location":"technicalConsumerCloud/#consumer-cloud","text":"","title":"Consumer Cloud"},{"location":"technicalConsumerCloud/#definition","text":"HG Insights defines Consumer Cloud in their Glossary as follows: Cloud computing offerings targeted toward individuals for personal use, such as Dropbox or iCloud. End users interact with consumer cloud\u2019s through highly interactive applications. When you store photos or documents in an app like Dropbox, you are interacting with their cloud, hence the consumer cloud. Consumer clouds are composed no differently from other cloud systems. The only difference is the B2C nature of their delivery. Most applications that interact directly with the customer can be classified as using a consumer cloud. In this sense, the term \"Consumer Cloud\" refers to Cloud service offerings targeting Consumers, as opposed to Business or Enterprise Cloud service provider customers. The definition of \"Cloud Consumer\" is consistently along the lines of \"a consumer of cloud services\". I am not aware of a formal definition for a Consumer built and managed Cloud Service . However this is the sense in which I would like to use the term.","title":"Definition"},{"location":"technicalConsumerCloud/#consumer-built-and-managed-cloud-service","text":"Since I have the skill-set to set up and manage server hardware, and the hardware necessary to suite the workload, I have always preferred self-hosting from my residential network, rather than to make use of hosting or cloud services. The relative costs of hosting and cloud services have been investigated on occasion over time, and not found suitable for this set of use-cases. Further, the inclination to own the computing fabric, rather than to rent capacity is strong, for the same reasons that owning property for my family's accommodation rather than renting property is preferable. Lastly, I have a personal professional interest in hardware and computing, and am prepared to develop this skill set in the re-architecture of the solution as an on-premise solution, using current cloud technologies.","title":"Consumer built and managed Cloud Service"},{"location":"technicalConsumerCloud/#alternatives","text":"While this definition of Consumer Cloud has a level of engineering skill required, it is easy to envision a future scenario where the components are commoditised to the extent that this is no longer the case. While this project's scope is focused on a set of Information Technology requirements such as file mail and application services, pre-built consumer grade appliances that come close to fulfilling the requirement are already available. These however invariably have a component of their offering that includes one or more vendor ecosystems . These typically require registering with and using, at run-time, Service Provider cloud services available only via the Internet to configure and manage the solution. So in a sense Consumer Cloud is already an offering on the market, if one understands the build part to refer to sourcing and installing an appliance, and one is not to fussy about committing to a dependency on vendor eco-systems. There are also a few platforms that play some role in empowering consumers - some positioned to support large organisations as well - to manage on-premise services and solutions without the vendor eco-system. These range from solutions focusing on putting a user's data back in their own sphere of influence - for reasons relating to Data Sovereignty - to solutions supporting home technicians and hobbyists get up and running with pre-packaged solutions for media servers, blog sites and the like. With the build part being relevant to me, and an aversion to committing to vendor ecosystems where avoidable, none of these solutions were a good fit for my set of use-cases. There is a sense in which vendor ecosystems are hard to avoid, if one includes the many middle-men in the software provisioning pipeline. This includes operating system release solutions, and the package management that runs on top of these. For this solution, at least the MVP portion, this is acceptable. There is a parallel initiative to investigate cloud at the edge and IoT. As the run-time for this initiative is Embedded Linux, a tool-chain to build an OS image for specifically targeted hardware is required. The tool-chain needs to build an image including operating system kernel, only the required support software, and one or more run-time applications. A k3s layer, which provides a light weight cloud (kubernetes) distribution will also be installed. It would be interesting to investigate using this same tool-chain to target the hardware used for the IT component, thus avoiding the vendor ecosystems used in the IT MVP solution. More about this elsewhere.","title":"Alternatives"},{"location":"technicalConsumerCloud/#technical-implementation","text":"With the points above in mind, the following imperatives are listed in bullet point form to inform further decision making: No public cloud runtime (day 1, day 2) dependencies Use of Consumer (commodity) components: Computing resources Networking Internet access Off grid (Internet disconnected) viability for services Of note are the remaining day zero dependencies. These include off-premise file, code and component storage, as well as domain serving and certificate issuing services. Once the envisaged multi-site solution is complete at least the storage solutions will be considered, for example replacing GitHub with the self-hosted solution Gitea, which I have implemented with success in an enterprise on-premise setting. For this specific initiative, procuring additional hardware to support a multi-site implementation is required. Second hand end-user hardware, with upgrades to RAM and storage will be used, as circumstances dictate.","title":"Technical implementation"},{"location":"technicalDB/","text":"Database implementation Technology selection kubernetes db install postgres Server side tooling: adminer internet ingres to db port POC Reference: https://jineshnagori.medium.com/ultimate-guide-to-setting-up-postgresql-in-kubernetes-with-statefulsets-adminer-dashboard-and-6232323cb4dc Methodology for POC: kubernetes resource definitions in QAppsCluster local directory Hostname: adminer dbgui.dev.podzone.net Hostname: db on db.dev.podzone.net namespace: postgres-dev POC Notes Workspace: Create k8s resources in ~/QAppsCluster/DB Adminer kubectl create namespace adminer kubectl apply --namespace adminer -f adminer-svc.yaml kubectl apply --namespace adminer -f adminer-deployment.yaml kubectl apply --namespace adminer -f adminer-ingress.yaml References https://jineshnagori.medium.com/ultimate-guide-to-setting-up-postgresql-in-kubernetes-with-statefulsets-adminer-dashboard-and-6232323cb4dc https://artifacthub.io/packages/helm/bitnami/postgresql https://github.com/bitnami/charts/tree/main/bitnami/postgresql-ha https://www.cncf.io/blog/2023/09/29/recommended-architectures-for-postgresql-in-kubernetes/","title":"Database implementation"},{"location":"technicalDB/#database-implementation","text":"","title":"Database implementation"},{"location":"technicalDB/#technology-selection","text":"kubernetes db install postgres Server side tooling: adminer internet ingres to db port","title":"Technology selection"},{"location":"technicalDB/#poc","text":"Reference: https://jineshnagori.medium.com/ultimate-guide-to-setting-up-postgresql-in-kubernetes-with-statefulsets-adminer-dashboard-and-6232323cb4dc Methodology for POC: kubernetes resource definitions in QAppsCluster local directory Hostname: adminer dbgui.dev.podzone.net Hostname: db on db.dev.podzone.net namespace: postgres-dev","title":"POC"},{"location":"technicalDB/#poc-notes","text":"Workspace: Create k8s resources in ~/QAppsCluster/DB","title":"POC Notes"},{"location":"technicalDB/#adminer","text":"kubectl create namespace adminer kubectl apply --namespace adminer -f adminer-svc.yaml kubectl apply --namespace adminer -f adminer-deployment.yaml kubectl apply --namespace adminer -f adminer-ingress.yaml","title":"Adminer"},{"location":"technicalDB/#references","text":"https://jineshnagori.medium.com/ultimate-guide-to-setting-up-postgresql-in-kubernetes-with-statefulsets-adminer-dashboard-and-6232323cb4dc https://artifacthub.io/packages/helm/bitnami/postgresql https://github.com/bitnami/charts/tree/main/bitnami/postgresql-ha https://www.cncf.io/blog/2023/09/29/recommended-architectures-for-postgresql-in-kubernetes/","title":"References"},{"location":"technicalExternalServices/","text":"External Services Introduction In this context, External Services are referred to as those services, provisioned on the WAN from the perspective of the cluster LAN, that the solution is dependant on, either at build or run-time. While the intention is to reduce external dependencies where possible, some need to be external (such as domain hosting) and some are currently not supported internally (such as repo and artefact hosting). Existing public services DynDns for domain hosting iCloud for off-site storage LetsEncrypt for https certificates GitHub for source code repository Additional public services Cloudsmith for helm chart repository Implementation details Requirements Non functional services requirements are as follows: Storage Internet ingress Application container Database Internet name service (DNS) Certificate for https As-is implementation The non function requirements are currently provisioned as follows Storage is supplied to the network using a NFS server, sigiriya Internet ingress is implemented using fibre router port forwarding to multiple internal network IP:Port listeners The application container is Zope, running in a VirtualBox host on mac host bukit The database is Postgres, running in a VirtualBox host on mac host bukit Updating of the DynDns host to IP mappings is managed by the fibre router The https certificate is managed using certbot on bukit There are a number of these services that are implemented in such a way that they represent a single point of failure. This is not avoidable in the case of functionality provided by the fibre router. All other services can be highly available. To-be solution The following changes are required Migrate from NFS to distributed storage. Ceph has been selected Internet ingress fan-out will be handled by the k8s cluster. The router will only forward ports 80 and 443 to the cluster lbr (ovoo) Zope to be packaged and managed using k8s Postgres packaging for k8s Since multiple hosts IP mappings are required, and the fibre router being limited to one host update, this function moves out of the router. Ideally packaged for k8s. Kubernetes Certificate Manager to be used to update https certificates --- title: Original application services --- graph TD subgraph Q Solutions subgraph Mac: bukit subgraph VirtualBox: ularu subgraph Zope Server QApps end subgraph Postgres qappsDB end end subgraph Apache WebSites end subgraph certbot qsolutions.endoftheinternet.org end end subgraph Fibre router subgraph DynDns Updater qsolutions.endoftheinternet.org end subgraph WAN to LAN port forwarding :80-bukit:443 end end subgraph Mac: sigiriya subgraph Network Storage nfs-service[(/srv/nfs/)] end end end --- title: Refactored application services --- graph LR subgraph Q Solutions subgraph Fibre router subgraph WAN to LAN port forwarding :80-ovoo:443 end end subgraph Ceph storage cluster subgraph sigiriya /dev/hdb end subgraph bukit /dev/loop1 end subgraph james /dev/hdc end end subgraph Prometheus sigiriya:9090 end subgraph kubernetes cluster subgraph Zope Server QApps end subgraph Postgres qappsDB end subgraph Apache1 musings end subgraph Apache2 PodzoneDocs end subgraph DynDns Updater direction LR southern.podzone.net musings.thruhere.net, qsolutions.endoftheinternet.org end subgraph Certificate Manager direction LR https://southern.podzone.net https://musings.thruhere.net, https://qsolutions.endoftheinternet.org end end end","title":"External Services"},{"location":"technicalExternalServices/#external-services","text":"","title":"External Services"},{"location":"technicalExternalServices/#introduction","text":"In this context, External Services are referred to as those services, provisioned on the WAN from the perspective of the cluster LAN, that the solution is dependant on, either at build or run-time. While the intention is to reduce external dependencies where possible, some need to be external (such as domain hosting) and some are currently not supported internally (such as repo and artefact hosting).","title":"Introduction"},{"location":"technicalExternalServices/#existing-public-services","text":"DynDns for domain hosting iCloud for off-site storage LetsEncrypt for https certificates GitHub for source code repository","title":"Existing public services"},{"location":"technicalExternalServices/#additional-public-services","text":"Cloudsmith for helm chart repository","title":"Additional public services"},{"location":"technicalExternalServices/#implementation-details","text":"","title":"Implementation details"},{"location":"technicalExternalServices/#requirements","text":"Non functional services requirements are as follows: Storage Internet ingress Application container Database Internet name service (DNS) Certificate for https","title":"Requirements"},{"location":"technicalExternalServices/#as-is-implementation","text":"The non function requirements are currently provisioned as follows Storage is supplied to the network using a NFS server, sigiriya Internet ingress is implemented using fibre router port forwarding to multiple internal network IP:Port listeners The application container is Zope, running in a VirtualBox host on mac host bukit The database is Postgres, running in a VirtualBox host on mac host bukit Updating of the DynDns host to IP mappings is managed by the fibre router The https certificate is managed using certbot on bukit There are a number of these services that are implemented in such a way that they represent a single point of failure. This is not avoidable in the case of functionality provided by the fibre router. All other services can be highly available.","title":"As-is implementation"},{"location":"technicalExternalServices/#to-be-solution","text":"The following changes are required Migrate from NFS to distributed storage. Ceph has been selected Internet ingress fan-out will be handled by the k8s cluster. The router will only forward ports 80 and 443 to the cluster lbr (ovoo) Zope to be packaged and managed using k8s Postgres packaging for k8s Since multiple hosts IP mappings are required, and the fibre router being limited to one host update, this function moves out of the router. Ideally packaged for k8s. Kubernetes Certificate Manager to be used to update https certificates --- title: Original application services --- graph TD subgraph Q Solutions subgraph Mac: bukit subgraph VirtualBox: ularu subgraph Zope Server QApps end subgraph Postgres qappsDB end end subgraph Apache WebSites end subgraph certbot qsolutions.endoftheinternet.org end end subgraph Fibre router subgraph DynDns Updater qsolutions.endoftheinternet.org end subgraph WAN to LAN port forwarding :80-bukit:443 end end subgraph Mac: sigiriya subgraph Network Storage nfs-service[(/srv/nfs/)] end end end --- title: Refactored application services --- graph LR subgraph Q Solutions subgraph Fibre router subgraph WAN to LAN port forwarding :80-ovoo:443 end end subgraph Ceph storage cluster subgraph sigiriya /dev/hdb end subgraph bukit /dev/loop1 end subgraph james /dev/hdc end end subgraph Prometheus sigiriya:9090 end subgraph kubernetes cluster subgraph Zope Server QApps end subgraph Postgres qappsDB end subgraph Apache1 musings end subgraph Apache2 PodzoneDocs end subgraph DynDns Updater direction LR southern.podzone.net musings.thruhere.net, qsolutions.endoftheinternet.org end subgraph Certificate Manager direction LR https://southern.podzone.net https://musings.thruhere.net, https://qsolutions.endoftheinternet.org end end end","title":"To-be solution"},{"location":"technicalHardware/","text":"Hardware planning Hardware categories Production Kubernetes Cluster IT Development devices Workstations IoT Devices Production Kubernetes Cluster 3 X HP t360 Reference, no storage?: https://support.hp.com/gb-en/document/c05240287 Reference, has storage: https://support.hp.com/gb-en/document/c05847930 IT Development devices Mac mini 1: Mac mini 2: Workstations Macbook: dolmen Ubuntu desktop: james IoT Devices","title":"Hardware planning"},{"location":"technicalHardware/#hardware-planning","text":"","title":"Hardware planning"},{"location":"technicalHardware/#hardware-categories","text":"Production Kubernetes Cluster IT Development devices Workstations IoT Devices","title":"Hardware categories"},{"location":"technicalHardware/#production-kubernetes-cluster","text":"3 X HP t360 Reference, no storage?: https://support.hp.com/gb-en/document/c05240287 Reference, has storage: https://support.hp.com/gb-en/document/c05847930","title":"Production Kubernetes Cluster"},{"location":"technicalHardware/#it-development-devices","text":"Mac mini 1: Mac mini 2:","title":"IT Development devices"},{"location":"technicalHardware/#workstations","text":"Macbook: dolmen Ubuntu desktop: james","title":"Workstations"},{"location":"technicalHardware/#iot-devices","text":"","title":"IoT Devices"},{"location":"technicalIngress/","text":"Ingress --- title: southern.podzone.net Request Routing --- graph TD clientExt1 --> routerPort1 routerPort1 --> ovoo lbr --> ingress ingress -->|musings.thruhere.net| app1 ingress -->|qsolutions.endoftheinternet.org| app4 ingress -->|control.southern.podzone.net| app2 ingress -->|dashboard.southern.podzone.net| app3 subgraph Internet clientExt1([Internet Client]) end subgraph Router routerPort1[[port forward :443-> oovo:443]] end subgraph southern.podzone.net subgraph ovoo lbr{{lbr}} end ingress app1(apache) app4(zope) app2(k8s control plane) app3(k8s dashboard) end Ingress configuration L2 Load Balancer MetalLB is used to implement an L2 load balancer. The metallb microk8s add-on is required: sudo microk8s enable metallb Production: Assign range: 192.168.0.131-192.168.0.132 Dev: Assign range: 192.168.0.141-192.168.0.142 Ingress Controller An ingress controller is required. De-facto standard seems to be ingress-nginx. Load ingress-nginx using helm: sudo microk8s helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --create-namespace sudo microk8s kubectl --namespace ingress-nginx get services -o wide -w ingress-nginx-controller NOTE: Enabling the microk8s add-on failed to produce a working ingress for me, not sure what I was doing wrong. Certificate Management Enable the microk8s cert-manager, and define ClusterIssuer and Certificate requirements sudo microk8s enable cert-manager ClusterIssuer.yaml Certificates.yaml Ingress definition Annotations link in the Certificate ClusterIssuer, and config to specify the hostname and tls secret. There is also an annotation to set the app-root. ApacheSecureIngress.yaml","title":"Ingress"},{"location":"technicalIngress/#ingress","text":"--- title: southern.podzone.net Request Routing --- graph TD clientExt1 --> routerPort1 routerPort1 --> ovoo lbr --> ingress ingress -->|musings.thruhere.net| app1 ingress -->|qsolutions.endoftheinternet.org| app4 ingress -->|control.southern.podzone.net| app2 ingress -->|dashboard.southern.podzone.net| app3 subgraph Internet clientExt1([Internet Client]) end subgraph Router routerPort1[[port forward :443-> oovo:443]] end subgraph southern.podzone.net subgraph ovoo lbr{{lbr}} end ingress app1(apache) app4(zope) app2(k8s control plane) app3(k8s dashboard) end","title":"Ingress"},{"location":"technicalIngress/#ingress-configuration","text":"","title":"Ingress configuration"},{"location":"technicalIngress/#l2-load-balancer","text":"MetalLB is used to implement an L2 load balancer. The metallb microk8s add-on is required: sudo microk8s enable metallb Production: Assign range: 192.168.0.131-192.168.0.132 Dev: Assign range: 192.168.0.141-192.168.0.142","title":"L2 Load Balancer"},{"location":"technicalIngress/#ingress-controller","text":"An ingress controller is required. De-facto standard seems to be ingress-nginx. Load ingress-nginx using helm: sudo microk8s helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --create-namespace sudo microk8s kubectl --namespace ingress-nginx get services -o wide -w ingress-nginx-controller NOTE: Enabling the microk8s add-on failed to produce a working ingress for me, not sure what I was doing wrong.","title":"Ingress Controller"},{"location":"technicalIngress/#certificate-management","text":"Enable the microk8s cert-manager, and define ClusterIssuer and Certificate requirements sudo microk8s enable cert-manager ClusterIssuer.yaml Certificates.yaml","title":"Certificate Management"},{"location":"technicalIngress/#ingress-definition","text":"Annotations link in the Certificate ClusterIssuer, and config to specify the hostname and tls secret. There is also an annotation to set the app-root. ApacheSecureIngress.yaml","title":"Ingress definition"},{"location":"technicalIoT/","text":"Rust on the uNode embedded controller development board The uNode (pronounced microNode) development board was designed in 1994, with a 10 unit production run in 2015. The board exposes all the pins on a connector to the 80C552 microcontroller, as well as providing on board RTC, RAM, a 16 key keypad, a 2X24 character LCD screen, and an RS232 port. Power is supplied at 9V, which is regulated on-board. There is an onboard battery keeping RAM values static, and RTC functioning in the absence of power 9V power. The board has a bootloader mode, selected with a dip switch, that allows code to be streamed in on the serial port, and stored in RAM, for execution in run mode. The bootloader mode also supports setting the RTC, and serial baud rate. Toolchain installation This is being recorded for when we want to automate build environment build. Note: The tool-chain needs to run on Linux, I shelled into a workstation from my Macbook to do the following: git clone https://github.com/meta-rust/meta-rust.git git clone https://git.yoctoproject.org/poky cd poky && git checkout -b honister origin/honister && cd - git clone https://git.openembedded.org/meta-openembedded cd meta-openembedded && git checkout -b honister origin/honister && cd - cd pokey Add rust lines to BBLAYERS in conf/bblayers.conf : /mnt/data/tmp/meta-openembedded/meta-oe \\ /mnt/data/tmp/meta-rust \\` Add rust-hello-world file to build directory: inherit cargo SRC_URI = \"git://github.com/meta-rust/rust-hello-world.git;protocol=https;branch=master\" SRCREV = \"e0fa23f1a3cb1eb1407165bd2fc36d2f6e6ad728\" LIC_FILES_CHKSUM = \"file://COPYRIGHT;md5=e6b2207ac3740d2d01141c49208c2147\" SRC_URI += \"\\ file://0001-enable-LTO.patch \\ \" SUMMARY = \"Hello World by Cargo for Rust\" HOMEPAGE = \"https://github.com/meta-rust/rust-hello-world\" LICENSE = \"MIT | Apache-2.0\" S = \"${WORKDIR}/git\" BBCLASSEXTEND = \"native\" bitbake rust-hello-world Initial run reported missing toolchain dependencies: sudo apt install chrpath diffstat liblz4-tool Second run failed due to broken pipe, after an hour or so. Third run failed due to broken pipe For Rasperry Pi pico: MACHINE should be set to \"raspberrypi-pico\" git clone --recurse-submodules https://github.com/ahcbb6/meta-raspberrypi-baremetal.git Main references https://michael2012z.medium.com/rust-with-yocto-eab41476cd7b https://jaycarlson.net/embedded-linux/ https://github.com/ahcbb6/meta-raspberrypi-baremetal","title":"Rust on the uNode embedded controller development board"},{"location":"technicalIoT/#rust-on-the-unode-embedded-controller-development-board","text":"The uNode (pronounced microNode) development board was designed in 1994, with a 10 unit production run in 2015. The board exposes all the pins on a connector to the 80C552 microcontroller, as well as providing on board RTC, RAM, a 16 key keypad, a 2X24 character LCD screen, and an RS232 port. Power is supplied at 9V, which is regulated on-board. There is an onboard battery keeping RAM values static, and RTC functioning in the absence of power 9V power. The board has a bootloader mode, selected with a dip switch, that allows code to be streamed in on the serial port, and stored in RAM, for execution in run mode. The bootloader mode also supports setting the RTC, and serial baud rate.","title":"Rust on the uNode embedded controller development board"},{"location":"technicalIoT/#toolchain-installation","text":"This is being recorded for when we want to automate build environment build. Note: The tool-chain needs to run on Linux, I shelled into a workstation from my Macbook to do the following: git clone https://github.com/meta-rust/meta-rust.git git clone https://git.yoctoproject.org/poky cd poky && git checkout -b honister origin/honister && cd - git clone https://git.openembedded.org/meta-openembedded cd meta-openembedded && git checkout -b honister origin/honister && cd - cd pokey Add rust lines to BBLAYERS in conf/bblayers.conf : /mnt/data/tmp/meta-openembedded/meta-oe \\ /mnt/data/tmp/meta-rust \\` Add rust-hello-world file to build directory: inherit cargo SRC_URI = \"git://github.com/meta-rust/rust-hello-world.git;protocol=https;branch=master\" SRCREV = \"e0fa23f1a3cb1eb1407165bd2fc36d2f6e6ad728\" LIC_FILES_CHKSUM = \"file://COPYRIGHT;md5=e6b2207ac3740d2d01141c49208c2147\" SRC_URI += \"\\ file://0001-enable-LTO.patch \\ \" SUMMARY = \"Hello World by Cargo for Rust\" HOMEPAGE = \"https://github.com/meta-rust/rust-hello-world\" LICENSE = \"MIT | Apache-2.0\" S = \"${WORKDIR}/git\" BBCLASSEXTEND = \"native\" bitbake rust-hello-world Initial run reported missing toolchain dependencies: sudo apt install chrpath diffstat liblz4-tool Second run failed due to broken pipe, after an hour or so. Third run failed due to broken pipe For Rasperry Pi pico: MACHINE should be set to \"raspberrypi-pico\" git clone --recurse-submodules https://github.com/ahcbb6/meta-raspberrypi-baremetal.git","title":"Toolchain installation"},{"location":"technicalIoT/#main-references","text":"https://michael2012z.medium.com/rust-with-yocto-eab41476cd7b https://jaycarlson.net/embedded-linux/ https://github.com/ahcbb6/meta-raspberrypi-baremetal","title":"Main references"},{"location":"technicalIssues/","text":"Issues ddclient [migrations] started [migrations] no migrations found usermod: no changes \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2551 \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557 \u2588\u2588\u2551 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551\u2588\u2588\u2551 \u2588\u2588\u2551 \u2588\u2588\u2551 \u255a\u2550\u2550\u2550\u2550\u2588\u2588\u2551\u2588\u2588\u2551\u2588\u2588\u2551 \u2588\u2588\u2551 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d Brought to you by linuxserver.io \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 To support LSIO projects visit: https://www.linuxserver.io/donate/ \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 GID/UID \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 User UID: 911 User GID: 911 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 [custom-init] No custom files found, skipping... Setting up watches. Watches established. [ls.io-init] done. /run/s6/basedir/scripts/rc.init: line 76: -f /etc/ddclient/ddclient.conf: not found Stream closed EOF for ddclient/ddclient01-76c5bc7c6d-5p922 (ddclient) Zope Currently (and since before the 2016 install) zope comes bundled with plone Plone current installs Zope 4 Zope 4 is a successor to Zope 2.13, making many changes that are not backwards compatible with Zope 2. Zope 2 still available, last updated 2010: https://old.zope.dev/Products/Zope/folder_contents Docker images for Zope 2 are available, e.g. https://hub.docker.com/r/eeacms/zope-2-10-5 Check also https://github.com/plone/cookiecutter-zope-instance Opensearch Persistent data store issues: resolved by reproducing and fixing nfs issues externally OpenSearch Dashboards server is not ready yet [opensearch-cluster-master-0] Not yet initialized (you may need to run securityadmin) Cluster not starting up, all pods up High RAM utilisation, removing until workload is deployed. Tested with fluentd (microk8s enable community first) Levant architecture Fatal glibc error: This version of Amazon Linux requires a newer ARM64 processor compliant with at least ARM architecture 8.2-a with cryptographic extensions. On EC2 this is Graviton 2 or later. Prevent pod scheduling onto Levant kubectl taint nodes levant key1=value1:NoSchedule Persistent Storage permissions Name: cephfs-pvc-registry Namespace: admin StorageClass: rook-cephfs Status: Pending Volume: Labels: <none> Annotations: volume.beta.kubernetes.io/storage-provisioner: rook-ceph.cephfs.csi.ceph.com volume.kubernetes.io/storage-provisioner: rook-ceph.cephfs.csi.ceph.com Finalizers: [kubernetes.io/pvc-protection] Capacity: Access Modes: VolumeMode: Filesystem Used By: <none> Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal ExternalProvisioning 7s (x4 over 22s) persistentvolume-controller Waiting for a volume to be created either by the external provisioner 'rook-ceph.cephfs.csi.ceph.com' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered. Normal Provisioning 6s (x6 over 22s) rook-ceph.cephfs.csi.ceph.com_csi-cephfsplugin-provisioner-95fbd8485-fb9pw_69c2e6ae-38ed-45a2-970c-4723c7e3e6d0 External provisioner is provisioning volume for claim \"admin/cephfs-pvc-registry\" Warning ProvisioningFailed 6s (x6 over 22s) rook-ceph.cephfs.csi.ceph.com_csi-cephfsplugin-provisioner-95fbd8485-fb9pw_69c2e6ae-38ed-45a2-970c-4723c7e3e6d0 failed to provision volume with StorageClass \"rook-cephfs\": error getting secret rook-csi-cephfs-provisioner in namespace rook-ceph: secrets \"rook-csi-cephfs-provisioner\" not found 2023-11-20T11:29:19.877413868Z csi-snapshotter W1120 11:29:19.877245 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:29:19.877451041Z csi-snapshotter E1120 11:29:19.877305 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:29:36.823050521Z csi-snapshotter W1120 11:29:36.822847 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:29:36.823092729Z csi-snapshotter E1120 11:29:36.822917 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:07.188915165Z csi-snapshotter W1120 11:30:07.188720 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:07.188988621Z csi-snapshotter E1120 11:30:07.188779 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:11.962789416Z csi-snapshotter W1120 11:30:11.962564 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:30:11.962821763Z csi-snapshotter E1120 11:30:11.962645 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:30:37.517657237Z csi-snapshotter W1120 11:30:37.517472 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:37.517705067Z csi-snapshotter E1120 11:30:37.517544 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:52.471136995Z csi-snapshotter W1120 11:30:52.470842 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:30:52.471201513Z csi-snapshotter E1120 11:30:52.470918 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:33.033589640Z csi-snapshotter W1120 11:31:33.033389 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:33.033666055Z csi-snapshotter E1120 11:31:33.033451 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:36.770477011Z csi-snapshotter W1120 11:31:36.770049 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:31:36.770535799Z csi-snapshotter E1120 11:31:36.770202 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:32:28.083071138Z csi-snapshotter W1120 11:32:28.082874 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:32:28.083113470Z csi-snapshotter E1120 11:32:28.082932 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:32:31.358857770Z csi-snapshotter W1120 11:32:31.358678 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:32:31.358893226Z csi-snapshotter E1120 11:32:31.358733 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:12.002229884Z csi-snapshotter W1120 11:33:12.002044 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:12.002263360Z csi-snapshotter E1120 11:33:12.002089 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:20.724244370Z csi-snapshotter W1120 11:33:20.724086 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:33:20.724276979Z csi-snapshotter E1120 11:33:20.724140 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:33:56.586826741Z csi-snapshotter W1120 11:33:56.586617 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:56.586867349Z csi-snapshotter E1120 11:33:56.586700 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:34:04.996189494Z csi-snapshotter W1120 11:34:04.995951 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:34:04.996229187Z csi-snapshotter E1120 11:34:04.996024 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:54.700054085Z csi-provisioner I1120 11:31:54.699841 1 controller.go:1337] provision \"admin/cephfs-pvc-registry\" class \"rook-cephfs\": started 2023-11-20T11:31:54.700403345Z csi-provisioner I1120 11:31:54.700159 1 event.go:285] Event(v1.ObjectReference{Kind:\"PersistentVolumeClaim\", Namespace:\"admin\", Name:\"cephfs-pvc-registry\", UID:\"ff51591c-3090-40df-9df7-6f7ba3ca08db\", APIVersion:\"v1\", ResourceVersion:\"3705014\", FieldPath:\"\"}): type: 'Normal' reason: 'Provisioning' External provisioner is provisioning volume for claim \"admin/cephfs-pvc-registry\" 2023-11-20T11:31:54.709752611Z csi-provisioner W1120 11:31:54.709502 1 controller.go:934] Retrying syncing claim \"ff51591c-3090-40df-9df7-6f7ba3ca08db\", failure 12 2023-11-20T11:31:54.709809356Z csi-provisioner E1120 11:31:54.709572 1 controller.go:957] error syncing claim \"ff51591c-3090-40df-9df7-6f7ba3ca08db\": failed to provision volume with StorageClass \"rook-cephfs\": error getting secret rook-csi-cephfs-provisioner in namespace rook-ceph: secrets \"rook-csi-cephfs-provisioner\" not found 2023-11-20T11:31:54.709836775Z csi-provisioner I1120 11:31:54.709618 1 event.go:285] Event(v1.ObjectReference{Kind:\"PersistentVolumeClaim\", Namespace:\"admin\", Name:\"cephfs-pvc-registry\", UID:\"ff51591c-3090-40df-9df7-6f7ba3ca08db\", APIVersion:\"v1\", ResourceVersion:\"3705014\", FieldPath:\"\"}): type: 'Warning' reason: 'ProvisioningFailed' failed to provision volume with StorageClass \"rook-cephfs\": error getting secret rook-csi-cephfs-provisioner in namespace rook-ceph: secrets \"rook-csi-cephfs-provisioner\" not found apiVersion: v1 data: userID: Y3NpLXJiZC1wcm92aXNpb25lcg== userKey: QVFDM0hrUmxacGZCSFJBQWc1Y2RDaW9ZZmxxUUdGbURuMGE3Znc9PQ== kind: Secret metadata: creationTimestamp: \"2023-11-02T22:12:09Z\" name: rook-csi-rbd-provisioner namespace: rook-ceph-external resourceVersion: \"2627\" uid: 655bfcc6-eca4-41ce-a81d-e2668c327484 type: kubernetes.io/rook Waiting for a volume to be created either by the external provisioner 'rook-ceph.rbd.csi.ceph.com' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered. Warning FailedScheduling 20s (x2 over 5m20s) default-scheduler 0/1 nodes are available: 1 Insufficient cpu, 1 Insufficient memory. preemption: 0/1 nodes are available: 1 No preemption victims found for incoming pod.. test: sudo microk8s kubectl --namespace rook-ceph-external get cephcluster NOTE: This gave an error for so long that I thought it was not working. Also, csi-cephfsplugin-provisioner and csi-rbdplugin-provisioner deployments (still) show 0/2 ready... While attempting to try to remove rook-ceph a few days later to retry from scratch, I got an error indicating that it was in use. colleymj@floresiensis:~$ sudo microk8s kubectl --namespace rook-ceph-external get cephcluster NAME DATADIRHOSTPATH MONCOUNT AGE PHASE MESSAGE HEALTH EXTERNAL FSID rook-ceph-external /var/lib/rook 3 4d19h Connected Cluster connected successfully HEALTH_WARN true 717715ab-d64d-42fe-9219-486015d2c166 NFS: [2023-10-07T08:47:23,800][INFO ][o.o.s.OpenSearchSecurityPlugin] [opensearch-cluster-master-0] Disabled https compression by default to mitigate BREACH attacks. You can enable it by setting 'http.compression: true' in opensearch.yml [2023-10-07T08:47:23,803][INFO ][o.o.e.ExtensionsManager ] [opensearch-cluster-master-0] ExtensionsManager initialized [2023-10-07T08:47:23,825][ERROR][o.o.b.OpenSearchUncaughtExceptionHandler] [opensearch-cluster-master-0] uncaught exception in thread [main] org.opensearch.bootstrap.StartupException: OpenSearchException[failed to bind service]; nested: AccessDeniedException[/usr/share/opensearch/data/nodes]; PersistentVolumeCLaim error: no persistent volumes available for this claim and no storage class is set chown failure: enableInitChown: false Reproduce on direct nfs mount on dolmen, fine tuned /etc/exports with all_squash vm.max_map_count [1]: max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144] Temporary: sysctl -w vm.max_map_count=262144 Permanent: Add vm.max_map_count = 262144 to /etc/sysctl.conf Networking [X] Letsencrypt acme-challenge failing \"msg\"=\"Certificate must be re-issued\" \"key\"=\"default/qsolution-cert\" \"message\"=\"Issuing certificate as Secret does not exist\" : Use helm ingress controller installation, nit microk8s enable ingress [X] Node IP Address not populating in ExternalIP for NodePort: Need to use MetalLB [X] ingress-nginx-controller calls out to google.com , fingerprints.bablosoft.com , ip.bablosoft.com and api.ipify.org [X] ingress-controller giving 404 error - not routing requests to back-end [X] Ingress controllers: [X] Helm install: helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx - [X] create-namespace [X] microk8s enable ingress: does not provision an ingress controller [X] https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/aws/nlb-with-tls-termination/deploy.yaml \"Found valid IngressClass\" ingress=\"default/cm-acme-http-solver-wrpsk\" ingressclass=\"nginx\" E1028 11:53:50.833249 1 controller.go:210] cert-manager/challenges/scheduler \"msg\"=\"error scheduling challenge for processing\" \"error\"=\"Operation cannot be fulfilled on challenges.acme.cert-manager.io \"docs-cert-gfdzt-2136338773-280458000\\\": the object has been modified; please apply your changes to the latest version and try again\" \"resource_kind\"=\"Challenge\" \"resource_name\"=\"docs-cert-gfdzt-2136338773-280458000\" \"resource_namespace\"=\"kube-system\" \"resource_version\"=\"v1\" Raspberry Pi [X] Levant: microk8s on RPi (Ubuntu Server) not/intermittently supported: error: snap \"microk8s\" is not available on stable for this architecture (armhf) but exists on other architectures (amd64, arm64, ppc64el). [X] Levant: microk8s on RiPi (Ubuntu Core) intermittently supported: martinjcolley@levant:~$ snap install microk8s --channel=latest/edge/strict error: snap \"microk8s\" requires classic confinement which is only available on classic systems [ ] Opensearch deploy fails to RPi arch: kubectl taint nodes levant key1=value1:NoSchedule [ ] Installing k3s on model 2B boards with `` [INFO] systemd: Starting k3s Job for k3s.service failed because a fatal signal was delivered causing the control process to dump core. See \"systemctl status k3s.service\" and \"journalctl -xeu k3s.service\" for details. colleymj@balin:~ $ curl -sfL https://get.k3s.io | sh - colleymj@balin:~ $ uname -a Linux balin 6.1.0-rpi4-rpi-v6 #1 Raspbian 1:6.1.54-1+rpt2 (2023-10-05) armv6l GNU/Linux https://github.com/k3s-io/k3s/issues/4643 Dolmen [ ] Networking issues, probably caused by Cisco Anyconnect, see refs","title":"Issues"},{"location":"technicalIssues/#issues","text":"","title":"Issues"},{"location":"technicalIssues/#ddclient","text":"[migrations] started [migrations] no migrations found usermod: no changes \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2551 \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557 \u2588\u2588\u2551 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551\u2588\u2588\u2551 \u2588\u2588\u2551 \u2588\u2588\u2551 \u255a\u2550\u2550\u2550\u2550\u2588\u2588\u2551\u2588\u2588\u2551\u2588\u2588\u2551 \u2588\u2588\u2551 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d Brought to you by linuxserver.io \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 To support LSIO projects visit: https://www.linuxserver.io/donate/ \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 GID/UID \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 User UID: 911 User GID: 911 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 [custom-init] No custom files found, skipping... Setting up watches. Watches established. [ls.io-init] done. /run/s6/basedir/scripts/rc.init: line 76: -f /etc/ddclient/ddclient.conf: not found Stream closed EOF for ddclient/ddclient01-76c5bc7c6d-5p922 (ddclient)","title":"ddclient"},{"location":"technicalIssues/#zope","text":"Currently (and since before the 2016 install) zope comes bundled with plone Plone current installs Zope 4 Zope 4 is a successor to Zope 2.13, making many changes that are not backwards compatible with Zope 2. Zope 2 still available, last updated 2010: https://old.zope.dev/Products/Zope/folder_contents Docker images for Zope 2 are available, e.g. https://hub.docker.com/r/eeacms/zope-2-10-5 Check also https://github.com/plone/cookiecutter-zope-instance","title":"Zope"},{"location":"technicalIssues/#opensearch","text":"Persistent data store issues: resolved by reproducing and fixing nfs issues externally OpenSearch Dashboards server is not ready yet [opensearch-cluster-master-0] Not yet initialized (you may need to run securityadmin) Cluster not starting up, all pods up High RAM utilisation, removing until workload is deployed. Tested with fluentd (microk8s enable community first)","title":"Opensearch"},{"location":"technicalIssues/#levant-architecture","text":"Fatal glibc error: This version of Amazon Linux requires a newer ARM64 processor compliant with at least ARM architecture 8.2-a with cryptographic extensions. On EC2 this is Graviton 2 or later. Prevent pod scheduling onto Levant kubectl taint nodes levant key1=value1:NoSchedule","title":"Levant architecture"},{"location":"technicalIssues/#persistent-storage-permissions","text":"Name: cephfs-pvc-registry Namespace: admin StorageClass: rook-cephfs Status: Pending Volume: Labels: <none> Annotations: volume.beta.kubernetes.io/storage-provisioner: rook-ceph.cephfs.csi.ceph.com volume.kubernetes.io/storage-provisioner: rook-ceph.cephfs.csi.ceph.com Finalizers: [kubernetes.io/pvc-protection] Capacity: Access Modes: VolumeMode: Filesystem Used By: <none> Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal ExternalProvisioning 7s (x4 over 22s) persistentvolume-controller Waiting for a volume to be created either by the external provisioner 'rook-ceph.cephfs.csi.ceph.com' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered. Normal Provisioning 6s (x6 over 22s) rook-ceph.cephfs.csi.ceph.com_csi-cephfsplugin-provisioner-95fbd8485-fb9pw_69c2e6ae-38ed-45a2-970c-4723c7e3e6d0 External provisioner is provisioning volume for claim \"admin/cephfs-pvc-registry\" Warning ProvisioningFailed 6s (x6 over 22s) rook-ceph.cephfs.csi.ceph.com_csi-cephfsplugin-provisioner-95fbd8485-fb9pw_69c2e6ae-38ed-45a2-970c-4723c7e3e6d0 failed to provision volume with StorageClass \"rook-cephfs\": error getting secret rook-csi-cephfs-provisioner in namespace rook-ceph: secrets \"rook-csi-cephfs-provisioner\" not found 2023-11-20T11:29:19.877413868Z csi-snapshotter W1120 11:29:19.877245 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:29:19.877451041Z csi-snapshotter E1120 11:29:19.877305 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:29:36.823050521Z csi-snapshotter W1120 11:29:36.822847 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:29:36.823092729Z csi-snapshotter E1120 11:29:36.822917 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:07.188915165Z csi-snapshotter W1120 11:30:07.188720 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:07.188988621Z csi-snapshotter E1120 11:30:07.188779 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:11.962789416Z csi-snapshotter W1120 11:30:11.962564 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:30:11.962821763Z csi-snapshotter E1120 11:30:11.962645 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:30:37.517657237Z csi-snapshotter W1120 11:30:37.517472 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:37.517705067Z csi-snapshotter E1120 11:30:37.517544 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:30:52.471136995Z csi-snapshotter W1120 11:30:52.470842 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:30:52.471201513Z csi-snapshotter E1120 11:30:52.470918 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:33.033589640Z csi-snapshotter W1120 11:31:33.033389 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:33.033666055Z csi-snapshotter E1120 11:31:33.033451 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:36.770477011Z csi-snapshotter W1120 11:31:36.770049 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:31:36.770535799Z csi-snapshotter E1120 11:31:36.770202 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:32:28.083071138Z csi-snapshotter W1120 11:32:28.082874 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:32:28.083113470Z csi-snapshotter E1120 11:32:28.082932 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:32:31.358857770Z csi-snapshotter W1120 11:32:31.358678 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:32:31.358893226Z csi-snapshotter E1120 11:32:31.358733 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:12.002229884Z csi-snapshotter W1120 11:33:12.002044 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:12.002263360Z csi-snapshotter E1120 11:33:12.002089 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:20.724244370Z csi-snapshotter W1120 11:33:20.724086 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:33:20.724276979Z csi-snapshotter E1120 11:33:20.724140 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:33:56.586826741Z csi-snapshotter W1120 11:33:56.586617 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:33:56.586867349Z csi-snapshotter E1120 11:33:56.586700 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotClass: failed to list *v1.VolumeSnapshotClass: the server could not find the requested resource (get volumesnapshotclasses.snapshot.storage.k8s.io) 2023-11-20T11:34:04.996189494Z csi-snapshotter W1120 11:34:04.995951 1 reflector.go:424] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:34:04.996229187Z csi-snapshotter E1120 11:34:04.996024 1 reflector.go:140] github.com/kubernetes-csi/external-snapshotter/client/v6/informers/externalversions/factory.go:117: Failed to watch *v1.VolumeSnapshotContent: failed to list *v1.VolumeSnapshotContent: the server could not find the requested resource (get volumesnapshotcontents.snapshot.storage.k8s.io) 2023-11-20T11:31:54.700054085Z csi-provisioner I1120 11:31:54.699841 1 controller.go:1337] provision \"admin/cephfs-pvc-registry\" class \"rook-cephfs\": started 2023-11-20T11:31:54.700403345Z csi-provisioner I1120 11:31:54.700159 1 event.go:285] Event(v1.ObjectReference{Kind:\"PersistentVolumeClaim\", Namespace:\"admin\", Name:\"cephfs-pvc-registry\", UID:\"ff51591c-3090-40df-9df7-6f7ba3ca08db\", APIVersion:\"v1\", ResourceVersion:\"3705014\", FieldPath:\"\"}): type: 'Normal' reason: 'Provisioning' External provisioner is provisioning volume for claim \"admin/cephfs-pvc-registry\" 2023-11-20T11:31:54.709752611Z csi-provisioner W1120 11:31:54.709502 1 controller.go:934] Retrying syncing claim \"ff51591c-3090-40df-9df7-6f7ba3ca08db\", failure 12 2023-11-20T11:31:54.709809356Z csi-provisioner E1120 11:31:54.709572 1 controller.go:957] error syncing claim \"ff51591c-3090-40df-9df7-6f7ba3ca08db\": failed to provision volume with StorageClass \"rook-cephfs\": error getting secret rook-csi-cephfs-provisioner in namespace rook-ceph: secrets \"rook-csi-cephfs-provisioner\" not found 2023-11-20T11:31:54.709836775Z csi-provisioner I1120 11:31:54.709618 1 event.go:285] Event(v1.ObjectReference{Kind:\"PersistentVolumeClaim\", Namespace:\"admin\", Name:\"cephfs-pvc-registry\", UID:\"ff51591c-3090-40df-9df7-6f7ba3ca08db\", APIVersion:\"v1\", ResourceVersion:\"3705014\", FieldPath:\"\"}): type: 'Warning' reason: 'ProvisioningFailed' failed to provision volume with StorageClass \"rook-cephfs\": error getting secret rook-csi-cephfs-provisioner in namespace rook-ceph: secrets \"rook-csi-cephfs-provisioner\" not found apiVersion: v1 data: userID: Y3NpLXJiZC1wcm92aXNpb25lcg== userKey: QVFDM0hrUmxacGZCSFJBQWc1Y2RDaW9ZZmxxUUdGbURuMGE3Znc9PQ== kind: Secret metadata: creationTimestamp: \"2023-11-02T22:12:09Z\" name: rook-csi-rbd-provisioner namespace: rook-ceph-external resourceVersion: \"2627\" uid: 655bfcc6-eca4-41ce-a81d-e2668c327484 type: kubernetes.io/rook Waiting for a volume to be created either by the external provisioner 'rook-ceph.rbd.csi.ceph.com' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered. Warning FailedScheduling 20s (x2 over 5m20s) default-scheduler 0/1 nodes are available: 1 Insufficient cpu, 1 Insufficient memory. preemption: 0/1 nodes are available: 1 No preemption victims found for incoming pod.. test: sudo microk8s kubectl --namespace rook-ceph-external get cephcluster NOTE: This gave an error for so long that I thought it was not working. Also, csi-cephfsplugin-provisioner and csi-rbdplugin-provisioner deployments (still) show 0/2 ready... While attempting to try to remove rook-ceph a few days later to retry from scratch, I got an error indicating that it was in use. colleymj@floresiensis:~$ sudo microk8s kubectl --namespace rook-ceph-external get cephcluster NAME DATADIRHOSTPATH MONCOUNT AGE PHASE MESSAGE HEALTH EXTERNAL FSID rook-ceph-external /var/lib/rook 3 4d19h Connected Cluster connected successfully HEALTH_WARN true 717715ab-d64d-42fe-9219-486015d2c166 NFS: [2023-10-07T08:47:23,800][INFO ][o.o.s.OpenSearchSecurityPlugin] [opensearch-cluster-master-0] Disabled https compression by default to mitigate BREACH attacks. You can enable it by setting 'http.compression: true' in opensearch.yml [2023-10-07T08:47:23,803][INFO ][o.o.e.ExtensionsManager ] [opensearch-cluster-master-0] ExtensionsManager initialized [2023-10-07T08:47:23,825][ERROR][o.o.b.OpenSearchUncaughtExceptionHandler] [opensearch-cluster-master-0] uncaught exception in thread [main] org.opensearch.bootstrap.StartupException: OpenSearchException[failed to bind service]; nested: AccessDeniedException[/usr/share/opensearch/data/nodes]; PersistentVolumeCLaim error: no persistent volumes available for this claim and no storage class is set chown failure: enableInitChown: false Reproduce on direct nfs mount on dolmen, fine tuned /etc/exports with all_squash","title":"Persistent Storage permissions"},{"location":"technicalIssues/#vmmax_map_count","text":"[1]: max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144] Temporary: sysctl -w vm.max_map_count=262144 Permanent: Add vm.max_map_count = 262144 to /etc/sysctl.conf","title":"vm.max_map_count"},{"location":"technicalIssues/#networking","text":"[X] Letsencrypt acme-challenge failing \"msg\"=\"Certificate must be re-issued\" \"key\"=\"default/qsolution-cert\" \"message\"=\"Issuing certificate as Secret does not exist\" : Use helm ingress controller installation, nit microk8s enable ingress [X] Node IP Address not populating in ExternalIP for NodePort: Need to use MetalLB [X] ingress-nginx-controller calls out to google.com , fingerprints.bablosoft.com , ip.bablosoft.com and api.ipify.org [X] ingress-controller giving 404 error - not routing requests to back-end [X] Ingress controllers: [X] Helm install: helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx - [X] create-namespace [X] microk8s enable ingress: does not provision an ingress controller [X] https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/aws/nlb-with-tls-termination/deploy.yaml \"Found valid IngressClass\" ingress=\"default/cm-acme-http-solver-wrpsk\" ingressclass=\"nginx\" E1028 11:53:50.833249 1 controller.go:210] cert-manager/challenges/scheduler \"msg\"=\"error scheduling challenge for processing\" \"error\"=\"Operation cannot be fulfilled on challenges.acme.cert-manager.io \"docs-cert-gfdzt-2136338773-280458000\\\": the object has been modified; please apply your changes to the latest version and try again\" \"resource_kind\"=\"Challenge\" \"resource_name\"=\"docs-cert-gfdzt-2136338773-280458000\" \"resource_namespace\"=\"kube-system\" \"resource_version\"=\"v1\"","title":"Networking"},{"location":"technicalIssues/#raspberry-pi","text":"[X] Levant: microk8s on RPi (Ubuntu Server) not/intermittently supported: error: snap \"microk8s\" is not available on stable for this architecture (armhf) but exists on other architectures (amd64, arm64, ppc64el). [X] Levant: microk8s on RiPi (Ubuntu Core) intermittently supported: martinjcolley@levant:~$ snap install microk8s --channel=latest/edge/strict error: snap \"microk8s\" requires classic confinement which is only available on classic systems [ ] Opensearch deploy fails to RPi arch: kubectl taint nodes levant key1=value1:NoSchedule [ ] Installing k3s on model 2B boards with `` [INFO] systemd: Starting k3s Job for k3s.service failed because a fatal signal was delivered causing the control process to dump core. See \"systemctl status k3s.service\" and \"journalctl -xeu k3s.service\" for details. colleymj@balin:~ $ curl -sfL https://get.k3s.io | sh - colleymj@balin:~ $ uname -a Linux balin 6.1.0-rpi4-rpi-v6 #1 Raspbian 1:6.1.54-1+rpt2 (2023-10-05) armv6l GNU/Linux https://github.com/k3s-io/k3s/issues/4643","title":"Raspberry Pi"},{"location":"technicalIssues/#dolmen","text":"[ ] Networking issues, probably caused by Cisco Anyconnect, see refs","title":"Dolmen"},{"location":"technicalKubernetes/","text":"Kubernetes Introduction Kubernetes is an Open Source system that provides functionality to manage the lifecycle of containerised computing loads. It can achieve this over a clustered infrastructure, providing high availability, and scaling. Definitions Kubernetes : A container orchestration system. Container : Software packaging for a computing application, allowing it to be run in an isolated environment in a standard way. Isolated environment : Operating System features are used to separate an application from its environment and other computing workloads. Workload isolation provides security and resource governance. Orchestration : Automating software deployment, scaling, and management. Technology Trajectory Kubernetes was developed within Google, and was donated as a seed technology to the Cloud Native Computing Foundation (CNCF). A range of interrelated systems and standards underpin and extend Kubernetes that promote compatibility, providing consistency and reliability. The CNCF has a large eco-system of technologies that complement and rely on kubernetes. Concepts Promise theory The design of kubernetes relies on the Promise Theory analysis methodology. Promise Theory in kubernetes allows a resource to be modelled as voluntarily and autonomously co-operating with other resources in the kubernetes system The use of declarative specification follows in the form of the publishing of a Promise to the kubernetes system in the form of a resource definition Resource definitions are loaded via the kubernetes API The kubernetes API is used to interact with the kubernetes system, and the objects deployed in the system. Clustering Clustering provides a layer of abstraction for computing resources, spanning virtual or physical machines. In a single machine instance the processes and applications interact with the machine's operating system apis. In a cluster the processes and applications interact with the cluster system's apis. --- title: Example of Computing resources of a machine instance --- graph LR OS1[Operating System APIs] --> OS2[Machine Resources] subgraph OS2[Machine Resources] subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end Clustered Resources --- title: Computing resources of a machine cluster --- graph LR OS1[Cluster APIs] --> OS2[Cluster Resources] subgraph OS2[Cluster Resources] subgraph Machine 1 subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end subgraph Machine 2 subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end subgraph Machine 3 subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end end --- title: Abstracted Resources --- graph LR OS1[Cluster APIs] --> OS2[Cluster Resources] subgraph OS2[Cluster Resources] subgraph RAM subgraph 48 GB end end subgraph CPU subgraph 12 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end References https://en.wikipedia.org/wiki/Cloud_Native_Computing_Foundation https://en.wikipedia.org/wiki/Promise_theory","title":"Kubernetes"},{"location":"technicalKubernetes/#kubernetes","text":"","title":"Kubernetes"},{"location":"technicalKubernetes/#introduction","text":"Kubernetes is an Open Source system that provides functionality to manage the lifecycle of containerised computing loads. It can achieve this over a clustered infrastructure, providing high availability, and scaling.","title":"Introduction"},{"location":"technicalKubernetes/#definitions","text":"Kubernetes : A container orchestration system. Container : Software packaging for a computing application, allowing it to be run in an isolated environment in a standard way. Isolated environment : Operating System features are used to separate an application from its environment and other computing workloads. Workload isolation provides security and resource governance. Orchestration : Automating software deployment, scaling, and management.","title":"Definitions"},{"location":"technicalKubernetes/#technology-trajectory","text":"Kubernetes was developed within Google, and was donated as a seed technology to the Cloud Native Computing Foundation (CNCF). A range of interrelated systems and standards underpin and extend Kubernetes that promote compatibility, providing consistency and reliability. The CNCF has a large eco-system of technologies that complement and rely on kubernetes.","title":"Technology Trajectory"},{"location":"technicalKubernetes/#concepts","text":"","title":"Concepts"},{"location":"technicalKubernetes/#promise-theory","text":"The design of kubernetes relies on the Promise Theory analysis methodology. Promise Theory in kubernetes allows a resource to be modelled as voluntarily and autonomously co-operating with other resources in the kubernetes system The use of declarative specification follows in the form of the publishing of a Promise to the kubernetes system in the form of a resource definition Resource definitions are loaded via the kubernetes API The kubernetes API is used to interact with the kubernetes system, and the objects deployed in the system.","title":"Promise theory"},{"location":"technicalKubernetes/#clustering","text":"Clustering provides a layer of abstraction for computing resources, spanning virtual or physical machines. In a single machine instance the processes and applications interact with the machine's operating system apis. In a cluster the processes and applications interact with the cluster system's apis. --- title: Example of Computing resources of a machine instance --- graph LR OS1[Operating System APIs] --> OS2[Machine Resources] subgraph OS2[Machine Resources] subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end","title":"Clustering"},{"location":"technicalKubernetes/#clustered-resources","text":"--- title: Computing resources of a machine cluster --- graph LR OS1[Cluster APIs] --> OS2[Cluster Resources] subgraph OS2[Cluster Resources] subgraph Machine 1 subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end subgraph Machine 2 subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end subgraph Machine 3 subgraph RAM subgraph 16 GB end end subgraph CPU subgraph 4 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end end --- title: Abstracted Resources --- graph LR OS1[Cluster APIs] --> OS2[Cluster Resources] subgraph OS2[Cluster Resources] subgraph RAM subgraph 48 GB end end subgraph CPU subgraph 12 Cores end end subgraph Disk subgraph 125 GB end end subgraph Network subgraph 1 GB Ethernet end end end","title":"Clustered Resources"},{"location":"technicalKubernetes/#references","text":"https://en.wikipedia.org/wiki/Cloud_Native_Computing_Foundation https://en.wikipedia.org/wiki/Promise_theory","title":"References"},{"location":"technicalNFS/","text":"Deprecated Deprecated: NFS storage A cluster-external NFS service is used to provide a Storage class for Persistent volume requirements, set up on sigiriya with access from 192.168.0.0/24 . helm3 repo add csi-driver-nfs https://raw.githubusercontent.com/kubernetes-csi/csi-driver-nfs/master/charts microk8s helm3 repo update helm3 install csi-driver-nfs csi-driver-nfs/csi-driver-nfs --namespace kube-system --set kubeletDir=/var/snap/microk8s/common/var/lib/kubelet chmod -R 777 /srv/nfs chown -R nobody:nogroup /srv/nfs Add volumes into /etc/exports: /srv/nfs 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) /srv/nfs/k8s 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) /srv/nfs/mac 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) /srv/nfs/apachesites 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) /srv/nfs/db 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) /srv/nfs/backup 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) The following file in the config/ directory creates a general purpose storage class nfs-csi , and one specifically for the web site apache-storage-class : podzone-pc-nfs.yaml","title":"Deprecated"},{"location":"technicalNFS/#deprecated","text":"","title":"Deprecated"},{"location":"technicalNFS/#deprecated-nfs-storage","text":"A cluster-external NFS service is used to provide a Storage class for Persistent volume requirements, set up on sigiriya with access from 192.168.0.0/24 . helm3 repo add csi-driver-nfs https://raw.githubusercontent.com/kubernetes-csi/csi-driver-nfs/master/charts microk8s helm3 repo update helm3 install csi-driver-nfs csi-driver-nfs/csi-driver-nfs --namespace kube-system --set kubeletDir=/var/snap/microk8s/common/var/lib/kubelet chmod -R 777 /srv/nfs chown -R nobody:nogroup /srv/nfs Add volumes into /etc/exports: /srv/nfs 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) /srv/nfs/k8s 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) /srv/nfs/mac 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) /srv/nfs/apachesites 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) /srv/nfs/db 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) /srv/nfs/backup 192.168.0.0/24(rw,all_squash,sync,no_subtree_check) The following file in the config/ directory creates a general purpose storage class nfs-csi , and one specifically for the web site apache-storage-class : podzone-pc-nfs.yaml","title":"Deprecated: NFS storage"},{"location":"technicalNetwork/","text":"Network Topology This page describes the networking portion of the end to end solution. Physical network components and interconnectivity, and https request routing for the northern and southern zones are described. At the time of refactoring of this document, the southern zone is shut down, and will remain so for at least two months. Northern zone is up and running and taking production traffic, but is failing some tests indicating a router upgrade. Therefore more detail will captured for the Northern zone, and when the southern zone is re-constructed, will be supplemented. Physical network topologies do not include client devices not included in solution scope. Northern Physical network components and interconnectivity Static IP required, because of cgnat: This was issued efficiently over the phone, at the additional cost of \u00a38 pm. The Sagecom router issued by the ISP has configuration management and stability issues The ISP is now issuing Linksys wi-fi 6 routers, so upgrade should be investigated Sagecom router port forwarding or dmz config changes require a gateway restart - network downtime port forwarding config breaks (port scan shows no open ports) every few days no logs appear in the router log available via the router gui Linksys wi-fi 6 router 3 gigabit ethernet ports wifi 6 Previous experience with Linksys routers suggests improved config management and stability. Review comments support this. Physical Network Topology --- title: northern.podzone.net Network Topology --- graph TD ISP --> ont ont --> router router --> dmz router ---> switch1 ---> switch2 switch1 --> k8s01 switch1 --> k8s02 switch1 --> k8s03 switch1 --> k8s04 switch1 --> k8s05 switch1 --> k8s06 switch2 --> k8s07 switch2 --> k8s08 switch2 --> k8s09 switch2 --> k8s10 ont[[Toob ONT]] router[[Sagecom Router]] switch1[[TP-Link 8 port]] switch2[[Tenda 8 port]] dmz{{rudolfensis}} k8s01{{habilis}} k8s02{{antecessor}} k8s03{{naledi}} k8s04{{neanderthal}} k8s05{{erectus}} k8s06{{floresiensis}} k8s07{{norham01}} k8s08{{norham02}} k8s09{{norham03}} k8s10{{norham04}} Southern Southern zone hardware --- title: southern.podzone.net Network Topology --- graph TD ISP --- ont ont --- router router ---|100MB| switch1 switch1 <-->|1GB| k8s1 switch1 <-->|1GB| k8s2 switch1 <-->|1GB| k8s3 switch1 <-->|1GB| k8s4 ont[[Daisan H665 GPON ONT]] router[[TP-LINK EC120-F5 Router]] switch1[[TP-Link TL-SG1008D]] k8s1{{denisova}} k8s2{{james}} k8s3{{rudolfensis}} k8s4{{ergaster}} References: https://www.toob.co.uk/blog/ipv4-ipv6-and-cgnat-explained/ https://forums.thinkbroadband.com/otherisp/4675486-toob-fttp-in-southampton.html https://diygardening.co.uk/off-topic/toob-review/#:~:text=Static%20ip%20Address%20Cost&text=%C2%A325%20per%20month%20for,you%20may%20wish%20to%20read. https://www.reddit.com/r/Southampton/comments/110it34/port_forwarding_on_toob/ https://www.toob.co.uk/linksys-router/ https://en.wikipedia.org/wiki/Wi-Fi_6 https://www.ispreview.co.uk/talk/threads/new-linksys-router-on-toob.40622/","title":"Network Topology"},{"location":"technicalNetwork/#network-topology","text":"This page describes the networking portion of the end to end solution. Physical network components and interconnectivity, and https request routing for the northern and southern zones are described. At the time of refactoring of this document, the southern zone is shut down, and will remain so for at least two months. Northern zone is up and running and taking production traffic, but is failing some tests indicating a router upgrade. Therefore more detail will captured for the Northern zone, and when the southern zone is re-constructed, will be supplemented. Physical network topologies do not include client devices not included in solution scope.","title":"Network Topology"},{"location":"technicalNetwork/#northern","text":"","title":"Northern"},{"location":"technicalNetwork/#physical-network-components-and-interconnectivity","text":"Static IP required, because of cgnat: This was issued efficiently over the phone, at the additional cost of \u00a38 pm. The Sagecom router issued by the ISP has configuration management and stability issues The ISP is now issuing Linksys wi-fi 6 routers, so upgrade should be investigated","title":"Physical network components and interconnectivity"},{"location":"technicalNetwork/#sagecom-router","text":"port forwarding or dmz config changes require a gateway restart - network downtime port forwarding config breaks (port scan shows no open ports) every few days no logs appear in the router log available via the router gui","title":"Sagecom router"},{"location":"technicalNetwork/#linksys-wi-fi-6-router","text":"3 gigabit ethernet ports wifi 6 Previous experience with Linksys routers suggests improved config management and stability. Review comments support this.","title":"Linksys wi-fi 6 router"},{"location":"technicalNetwork/#physical-network-topology","text":"--- title: northern.podzone.net Network Topology --- graph TD ISP --> ont ont --> router router --> dmz router ---> switch1 ---> switch2 switch1 --> k8s01 switch1 --> k8s02 switch1 --> k8s03 switch1 --> k8s04 switch1 --> k8s05 switch1 --> k8s06 switch2 --> k8s07 switch2 --> k8s08 switch2 --> k8s09 switch2 --> k8s10 ont[[Toob ONT]] router[[Sagecom Router]] switch1[[TP-Link 8 port]] switch2[[Tenda 8 port]] dmz{{rudolfensis}} k8s01{{habilis}} k8s02{{antecessor}} k8s03{{naledi}} k8s04{{neanderthal}} k8s05{{erectus}} k8s06{{floresiensis}} k8s07{{norham01}} k8s08{{norham02}} k8s09{{norham03}} k8s10{{norham04}}","title":"Physical Network Topology"},{"location":"technicalNetwork/#southern","text":"Southern zone hardware --- title: southern.podzone.net Network Topology --- graph TD ISP --- ont ont --- router router ---|100MB| switch1 switch1 <-->|1GB| k8s1 switch1 <-->|1GB| k8s2 switch1 <-->|1GB| k8s3 switch1 <-->|1GB| k8s4 ont[[Daisan H665 GPON ONT]] router[[TP-LINK EC120-F5 Router]] switch1[[TP-Link TL-SG1008D]] k8s1{{denisova}} k8s2{{james}} k8s3{{rudolfensis}} k8s4{{ergaster}}","title":"Southern"},{"location":"technicalNetwork/#references","text":"https://www.toob.co.uk/blog/ipv4-ipv6-and-cgnat-explained/ https://forums.thinkbroadband.com/otherisp/4675486-toob-fttp-in-southampton.html https://diygardening.co.uk/off-topic/toob-review/#:~:text=Static%20ip%20Address%20Cost&text=%C2%A325%20per%20month%20for,you%20may%20wish%20to%20read. https://www.reddit.com/r/Southampton/comments/110it34/port_forwarding_on_toob/ https://www.toob.co.uk/linksys-router/ https://en.wikipedia.org/wiki/Wi-Fi_6 https://www.ispreview.co.uk/talk/threads/new-linksys-router-on-toob.40622/","title":"References:"},{"location":"technicalPrometheus/","text":"Prometheus Implementation Notes Server installation sudo snap install prometheus : Available on localhost:9090 nano /var/snap/prometheus/current/prometheus.yml global : scrape_interval : 15s external_labels : monitor : 'podzone-monitor' scrape_configs : - job_name : 'prometheus' scrape_interval : 5s static_configs : - targets : [ 'localhost:9090' ] Scraping ceph Enable ceph monitoring endpoints: ceph mgr module enable prometheus Add to prometheus config (IP addresses are for prod cluster): - job_name : 'microceph' scrape_interval : 15s static_configs : - targets : [ '192.168.0.4:9283' , '192.168.0.14:9283' , '192.168.0.21:9283' ]","title":"Prometheus Implementation Notes"},{"location":"technicalPrometheus/#prometheus-implementation-notes","text":"","title":"Prometheus Implementation Notes"},{"location":"technicalPrometheus/#server-installation","text":"sudo snap install prometheus : Available on localhost:9090 nano /var/snap/prometheus/current/prometheus.yml global : scrape_interval : 15s external_labels : monitor : 'podzone-monitor' scrape_configs : - job_name : 'prometheus' scrape_interval : 5s static_configs : - targets : [ 'localhost:9090' ]","title":"Server installation"},{"location":"technicalPrometheus/#scraping-ceph","text":"Enable ceph monitoring endpoints: ceph mgr module enable prometheus Add to prometheus config (IP addresses are for prod cluster): - job_name : 'microceph' scrape_interval : 15s static_configs : - targets : [ '192.168.0.4:9283' , '192.168.0.14:9283' , '192.168.0.21:9283' ]","title":"Scraping ceph"},{"location":"technicalProxy/","text":"Reverse proxy The northern site needed to be issued with a static IP address from the ISP. With one cluster on site, this IP address would have port forwarding configured on the router, to send http and https traffic to the metallb L2 load balancer. However, since more than on cluster will be served on the same IP address, a front-end proxy is installed on a t520, which will also run ddclient. Certbot In order to reverse proxy to the https endpoints in the cluster, we need to terminate ssl for all hosts supported. LetsEncryp's Certbot is used, with the following hosts: blog.podzone.org,central.podzone.net,control.podzone.net,dev.podzone.net,prod.podzone.net,docs.podzone.net,gymyc.podzone.net,musings.thruhere.net,north.podzone.net,northern.podzone.net,wordpress.podzone.org,adam.blog.podzone.org,charles.blog.podzone.org,motttt.blog.podzone.org,dbgui.dev.podzone.net Northern request routing --- title: northern.podzone.net Request routing --- graph TD Internet --145.40.190.159 --> router router --> dmz dmz ---> metallb1 dmz ---> metallb2 dmz ---> metallb3 metallb1 --> k8s01 metallb1 --> k8s02 metallb1 --> k8s03 metallb2 --> k8s04 metallb2 --> k8s05 metallb2 --> k8s06 metallb3 --> k8s07 metallb3 --> k8s08 metallb3 --> k8s09 metallb3 --> k8s10 metallb1[[prod]] metallb2[[dev]] metallb3[[norham]] router[[Router Port Forwarding]] dmz{{rudolfensis}} k8s01{{habilis}} k8s02{{antecessor}} k8s03{{naledi}} k8s04{{neanderthal}} k8s05{{erectus}} k8s06{{floresiensis}} k8s07{{norham01}} k8s08{{norham02}} k8s09{{norham03}} k8s10{{norham04}} Sample config file SSLProxyEngine on SSLProxyVerify none ProxyPreserveHost on ProxyPass / https://192.168.1.220/ ProxyPassReverse / https://192.168.1.220/ ProxyRequests Off ServerName blog.podzone.org Include /etc/letsencrypt/options-ssl-apache.conf ServerAlias central.podzone.net ServerAlias ServerAlias dev.podzone.net ServerAlias prod.podzone.net ServerAlias docs.podzone.net ServerAlias gymyc.podzone.net ServerAlias musings.thruhere.net ServerAlias north.podzone.net ServerAlias northern.podzone.net ServerAlias wordpress.podzone.org ServerAlias adam.blog.podzone.org ServerAlias charles.blog.podzone.org ServerAlias motttt.blog.podzone.org ServerAlias dbgui.dev.podzone.net SSLCertificateFile /etc/letsencrypt/live/blog.podzone.org/fullchain.pem SSLCertificateKeyFile /etc/letsencrypt/live/blog.podzone.org/privkey.pem ProxyPreserveHost on ProxyPass / http://192.168.1.220/ ProxyPassReverse / http://192.168.1.220/ ProxyRequests Off RewriteEngine on RewriteCond %{SERVER_NAME} =musings.thruhere.net [OR] RewriteCond %{SERVER_NAME} =blog.podzone.org [OR] RewriteCond %{SERVER_NAME} =gymyc.podzone.net [OR] RewriteCond %{SERVER_NAME} =northern.podzone.net [OR] RewriteCond %{SERVER_NAME} =dev.podzone.net [OR] RewriteCond %{SERVER_NAME} =prod.podzone.net [OR] RewriteCond %{SERVER_NAME} =central.podzone.net [OR] RewriteCond %{SERVER_NAME} =docs.podzone.net [OR] RewriteCond %{SERVER_NAME} =wordpress.podzone.org [OR] RewriteCond %{SERVER_NAME} =motttt.blog.podzone.org [OR] RewriteCond %{SERVER_NAME} =north.podzone.net [OR] RewriteCond %{SERVER_NAME} =adam.blog.podzone.org [OR] RewriteCond %{SERVER_NAME} =control.podzone.net [OR] RewriteCond %{SERVER_NAME} =charles.blog.podzone.org [OR] RewriteCond %{SERVER_NAME} =dbgui.dev.podzone.net RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent] Adding a domain To add a domain, e.g. norma.blog.podzone.org, call certbot with the --expand option. Current list certbot --expand -d blog.podzone.org,central.podzone.net,control.podzone.net,dev.podzone.net,prod.podzone.net,docs.podzone.net,gymyc.podzone.net,musings.thruhere.net,north.podzone.net,northern.podzone.net,wordpress.podzone.org,adam.blog.podzone.org,charles.blog.podzone.org,motttt.blog.podzone.org,dbgui.dev.podzone.net,norma.blog.podzone.org,uktoday.blogsite.org,uktoday.thruhere.net,uktoday.podzone.org,uktoday.podzone.net,uktoday.blog.podzone.org,ceph.northern.podzone.net Additional domains UK Today uktoday.blogsite.org uktoday.thruhere.net uktoday.podzone.org uktoday.podzone.net uktoday.blog.podzone.org Unused DynDns hosts east.podzone.net eastern.podzone.net southern.podzone.net west.podzone.net western.podzone.net colley.endoftheinternet.org mottttspot.servegame.org poc.endoftheinternet.org qapps.does-it.net qsolutions.endoftheinternet.org References https://github.com/mcallegari/qlcplus https://en.wikipedia.org/wiki/Server_Name_Indication https://serverfault.com/questions/1043940/apache-reverse-proxy-preserving-ssl https://www.reddit.com/r/sysadmin/comments/3vvz86/is_there_a_way_to_do_ssl_passthrough_via_an/ https://eff-certbot.readthedocs.io/en/latest/using.html#re-creating-and-updating-existing-certificates","title":"Reverse proxy"},{"location":"technicalProxy/#reverse-proxy","text":"The northern site needed to be issued with a static IP address from the ISP. With one cluster on site, this IP address would have port forwarding configured on the router, to send http and https traffic to the metallb L2 load balancer. However, since more than on cluster will be served on the same IP address, a front-end proxy is installed on a t520, which will also run ddclient.","title":"Reverse proxy"},{"location":"technicalProxy/#certbot","text":"In order to reverse proxy to the https endpoints in the cluster, we need to terminate ssl for all hosts supported. LetsEncryp's Certbot is used, with the following hosts: blog.podzone.org,central.podzone.net,control.podzone.net,dev.podzone.net,prod.podzone.net,docs.podzone.net,gymyc.podzone.net,musings.thruhere.net,north.podzone.net,northern.podzone.net,wordpress.podzone.org,adam.blog.podzone.org,charles.blog.podzone.org,motttt.blog.podzone.org,dbgui.dev.podzone.net","title":"Certbot"},{"location":"technicalProxy/#northern-request-routing","text":"--- title: northern.podzone.net Request routing --- graph TD Internet --145.40.190.159 --> router router --> dmz dmz ---> metallb1 dmz ---> metallb2 dmz ---> metallb3 metallb1 --> k8s01 metallb1 --> k8s02 metallb1 --> k8s03 metallb2 --> k8s04 metallb2 --> k8s05 metallb2 --> k8s06 metallb3 --> k8s07 metallb3 --> k8s08 metallb3 --> k8s09 metallb3 --> k8s10 metallb1[[prod]] metallb2[[dev]] metallb3[[norham]] router[[Router Port Forwarding]] dmz{{rudolfensis}} k8s01{{habilis}} k8s02{{antecessor}} k8s03{{naledi}} k8s04{{neanderthal}} k8s05{{erectus}} k8s06{{floresiensis}} k8s07{{norham01}} k8s08{{norham02}} k8s09{{norham03}} k8s10{{norham04}}","title":"Northern request routing"},{"location":"technicalProxy/#sample-config-file","text":"SSLProxyEngine on SSLProxyVerify none ProxyPreserveHost on ProxyPass / https://192.168.1.220/ ProxyPassReverse / https://192.168.1.220/ ProxyRequests Off ServerName blog.podzone.org Include /etc/letsencrypt/options-ssl-apache.conf ServerAlias central.podzone.net ServerAlias ServerAlias dev.podzone.net ServerAlias prod.podzone.net ServerAlias docs.podzone.net ServerAlias gymyc.podzone.net ServerAlias musings.thruhere.net ServerAlias north.podzone.net ServerAlias northern.podzone.net ServerAlias wordpress.podzone.org ServerAlias adam.blog.podzone.org ServerAlias charles.blog.podzone.org ServerAlias motttt.blog.podzone.org ServerAlias dbgui.dev.podzone.net SSLCertificateFile /etc/letsencrypt/live/blog.podzone.org/fullchain.pem SSLCertificateKeyFile /etc/letsencrypt/live/blog.podzone.org/privkey.pem ProxyPreserveHost on ProxyPass / http://192.168.1.220/ ProxyPassReverse / http://192.168.1.220/ ProxyRequests Off RewriteEngine on RewriteCond %{SERVER_NAME} =musings.thruhere.net [OR] RewriteCond %{SERVER_NAME} =blog.podzone.org [OR] RewriteCond %{SERVER_NAME} =gymyc.podzone.net [OR] RewriteCond %{SERVER_NAME} =northern.podzone.net [OR] RewriteCond %{SERVER_NAME} =dev.podzone.net [OR] RewriteCond %{SERVER_NAME} =prod.podzone.net [OR] RewriteCond %{SERVER_NAME} =central.podzone.net [OR] RewriteCond %{SERVER_NAME} =docs.podzone.net [OR] RewriteCond %{SERVER_NAME} =wordpress.podzone.org [OR] RewriteCond %{SERVER_NAME} =motttt.blog.podzone.org [OR] RewriteCond %{SERVER_NAME} =north.podzone.net [OR] RewriteCond %{SERVER_NAME} =adam.blog.podzone.org [OR] RewriteCond %{SERVER_NAME} =control.podzone.net [OR] RewriteCond %{SERVER_NAME} =charles.blog.podzone.org [OR] RewriteCond %{SERVER_NAME} =dbgui.dev.podzone.net RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]","title":"Sample config file"},{"location":"technicalProxy/#adding-a-domain","text":"To add a domain, e.g. norma.blog.podzone.org, call certbot with the --expand option.","title":"Adding a domain"},{"location":"technicalProxy/#current-list","text":"certbot --expand -d blog.podzone.org,central.podzone.net,control.podzone.net,dev.podzone.net,prod.podzone.net,docs.podzone.net,gymyc.podzone.net,musings.thruhere.net,north.podzone.net,northern.podzone.net,wordpress.podzone.org,adam.blog.podzone.org,charles.blog.podzone.org,motttt.blog.podzone.org,dbgui.dev.podzone.net,norma.blog.podzone.org,uktoday.blogsite.org,uktoday.thruhere.net,uktoday.podzone.org,uktoday.podzone.net,uktoday.blog.podzone.org,ceph.northern.podzone.net","title":"Current list"},{"location":"technicalProxy/#additional-domains","text":"","title":"Additional domains"},{"location":"technicalProxy/#uk-today","text":"uktoday.blogsite.org uktoday.thruhere.net uktoday.podzone.org uktoday.podzone.net uktoday.blog.podzone.org","title":"UK Today"},{"location":"technicalProxy/#unused-dyndns-hosts","text":"east.podzone.net eastern.podzone.net southern.podzone.net west.podzone.net western.podzone.net colley.endoftheinternet.org mottttspot.servegame.org poc.endoftheinternet.org qapps.does-it.net qsolutions.endoftheinternet.org","title":"Unused DynDns hosts"},{"location":"technicalProxy/#references","text":"https://github.com/mcallegari/qlcplus https://en.wikipedia.org/wiki/Server_Name_Indication https://serverfault.com/questions/1043940/apache-reverse-proxy-preserving-ssl https://www.reddit.com/r/sysadmin/comments/3vvz86/is_there_a_way_to_do_ssl_passthrough_via_an/ https://eff-certbot.readthedocs.io/en/latest/using.html#re-creating-and-updating-existing-certificates","title":"References"},{"location":"technicalQuestionnaire/","text":"Personality Questionnaire Personal Details: First name Last name Email Activity No Yes Design Bridges, Dams or Roads No Yes Capture Data into a computer No Yes Advertise and sell products for companies No Yes Plan weddings and other social events No Yes Assist communities to improve their basic facilities No Yes Give facials and massages to clients No Yes Offer religious sermons No Yes Make animated films No Yes Build or fix airplanes No Yes Set up new computers in offices No Yes Answer phone calls in a call centre No Yes Work as an air host/ess No Yes Produce Wine or Beer No Yes Style and Colour Hair No Yes Offer counselling to drug addicts No Yes Teach Music No Yes Record and Mix Music No Yes Work as a help desk analyst \u2013 provide support to computer users No Yes Compile monthly financial statements No Yes Run a fleet of taxis No Yes Manage a Nature Reserve No Yes Take care of sick people No Yes Interview people for jobs No Yes Present a television or radio show No Yes Do underwater mechanical repairs No Yes Train computer courses No Yes Act as a personal assistant or secretary No Yes Manage a hotel or restaurant No Yes Design area maps No Yes Treat or nurse sick animals No Yes Teach primary or high school learners No Yes Perform as a Dancer No Yes Design or build electronic equipment (dvd players, cell phones) No Yes Design Internet web sites No Yes Write business letters No Yes Act as a Tourist Guide No Yes Plan the lay-out for new towns No Yes Advise people on healthy eating habits No Yes Train communication skills to business people No Yes Act in films, advertisements or theatre productions No Yes Install and maintain electrical cables in buildings No Yes Maintain computer networks No Yes Buy stock (goods) for a business No Yes Work in a surf or diving school No Yes Grow vegetables or fruit trees No Yes Provide emergency medical care (ambulance services) No Yes Run a political campaign No Yes Play music in a band or orchestra No Yes Repair motor vehicles No Yes Write computer programs No Yes Own a tax consulting business No Yes Work as a waiter or bartender No Yes Design gardens and landscapes No Yes Diagnose and treat sick people No Yes Use play therapy to help children overcome problems No Yes Draw and Paint No Yes Weld metals together No Yes Design computer systems to meet business needs No Yes Audit financial records No Yes Design travel plans for tourists No Yes Study weather patterns No Yes Assist injured people with exercises No Yes Manage a pre-school (cr\u00e8che) No Yes Write articles for magazines or newspapers No Yes Work at a gold mine No Yes Design computer software No Yes Record and analyse financial transactions No Yes Manage a guest house or guest farm No Yes Study the stars and universe No Yes Diagnose and treat dental (teeth) problems No Yes Help people deal with personal problems No Yes Write text for advertisements No Yes Make machine parts No Yes Fix computer equipment No Yes Manage a business office No Yes Work as a chef/ cook No Yes Manage a farm No Yes Help people with speech or hearing problems No Yes Offer legal advice and support to other people No Yes Do translations or interpreting No Yes Build and develop properties No Yes Develop and design computer games No Yes Invest money on the stock market No Yes Manage a catering firm No Yes Protect coastal/ marine areas No Yes Research possible cures for diseases No Yes Investigate crime in the community No Yes Design advertising logo for companies or products No Yes Design buildings and furniture No Yes Sell computer equipment No Yes Advise people on good investment opportunities No Yes Offer adventure tours for young people No Yes Manage a garden center (nursery) No Yes Mix and prescribe medicines in a pharmacy No Yes Provide HIV/Aids Counseling in the community No Yes Use make-up for special effects on stage and screen label { float: right; clear: right; } label + label {clear: none;} input {vertical-align: top;} DB design Naming convention: lower case table and attribute names Naming convention: underscore to separate words in names Sample: CREATE table CONTACTME ( ID int AUTO_INCREMENT , APPLICATION varchar ( 100 ), NAME varchar ( 100 ), EMAIL varchar ( 100 ), SUBJECT varchar ( 100 ), MESSAGE varchar ( 400 ), COMPANY varchar ( 100 ), ADDRESS varchar ( 100 ), CONTACT varchar ( 100 ), PRIMARY KEY ( ID )); DROP TABLE IF EXISTS \"CUSTOMER\"; CREATE TABLE \"norma\".\"customer\" ( \"id\" integer NOT NULL PRIMARY K, \"name\" character varying(20) NOT NULL, \"surname\" character varying(20) NOT NULL, \"email\" character varying(20) NOT NULL ) WITH (oids = false); DROP TABLE IF EXISTS \"interest_answers\"; CREATE TABLE \"norma\".\"interest_answers\" ( \"id\" integer NOT NULL, \"customer\" integer NOT NULL, \"Q01\" boolean NOT NULL, \"Q02\" boolean NOT NULL, \"Q03\" boolean NOT NULL, \"Q04\" boolean NOT NULL, \"Q05\" boolean NOT NULL, \"Q06\" boolean NOT NULL, \"Q07\" boolean NOT NULL, \"Q08\" boolean NOT NULL, \"Q09\" boolean NOT NULL, \"Q10\" boolean NOT NULL, \"Q11\" boolean NOT NULL, \"Q12\" boolean NOT NULL, \"Q13\" boolean NOT NULL, \"Q14\" boolean NOT NULL, \"Q15\" boolean NOT NULL, \"Q16\" boolean NOT NULL, \"Q17\" boolean NOT NULL, \"Q18\" boolean NOT NULL, \"Q19\" boolean NOT NULL, \"Q20\" boolean NOT NULL, \"Q21\" boolean NOT NULL, \"Q22\" boolean NOT NULL, \"Q23\" boolean NOT NULL, \"Q24\" boolean NOT NULL, \"Q25\" boolean NOT NULL, \"Q26\" boolean NOT NULL, \"Q27\" boolean NOT NULL, \"Q28\" boolean NOT NULL, \"Q29\" boolean NOT NULL, \"Q30\" boolean NOT NULL, \"Q31\" boolean NOT NULL, \"Q32\" boolean NOT NULL, \"Q33\" boolean NOT NULL, \"Q34\" boolean NOT NULL, \"Q35\" boolean NOT NULL, \"Q36\" boolean NOT NULL, \"Q37\" boolean NOT NULL, \"Q38\" boolean NOT NULL, \"Q39\" boolean NOT NULL, \"Q40\" boolean NOT NULL, \"Q41\" boolean NOT NULL, \"Q42\" boolean NOT NULL, \"Q43\" boolean NOT NULL, \"Q44\" boolean NOT NULL, \"Q45\" boolean NOT NULL, \"Q46\" boolean NOT NULL, \"Q47\" boolean NOT NULL, \"Q48\" boolean NOT NULL, \"Q49\" boolean NOT NULL, \"Q50\" boolean NOT NULL, \"Q51\" boolean NOT NULL, \"Q52\" boolean NOT NULL, \"Q53\" boolean NOT NULL, \"Q54\" boolean NOT NULL, \"Q55\" boolean NOT NULL, \"Q56\" boolean NOT NULL, \"Q57\" boolean NOT NULL, \"Q58\" boolean NOT NULL, \"Q59\" boolean NOT NULL, \"Q60\" boolean NOT NULL, \"Q61\" boolean NOT NULL, \"Q62\" boolean NOT NULL, \"Q63\" boolean NOT NULL, \"Q64\" boolean NOT NULL, \"Q65\" boolean NOT NULL, \"Q66\" boolean NOT NULL, \"Q67\" boolean NOT NULL, \"Q68\" boolean NOT NULL, \"Q69\" boolean NOT NULL, \"Q70\" boolean NOT NULL, \"Q71\" boolean NOT NULL, \"Q72\" boolean NOT NULL, \"Q73\" boolean NOT NULL, \"Q74\" boolean NOT NULL, \"Q75\" boolean NOT NULL, \"Q76\" boolean NOT NULL, \"Q77\" boolean NOT NULL, \"Q78\" boolean NOT NULL, \"Q79\" boolean NOT NULL, \"Q80\" boolean NOT NULL, \"Q81\" boolean NOT NULL, \"Q82\" boolean NOT NULL, \"Q83\" boolean NOT NULL, \"Q84\" boolean NOT NULL, \"Q85\" boolean NOT NULL, \"Q86\" boolean NOT NULL, \"Q87\" boolean NOT NULL, \"Q88\" boolean NOT NULL, \"Q89\" boolean NOT NULL, \"Q90\" boolean NOT NULL, \"Q91\" boolean NOT NULL, \"Q92\" boolean NOT NULL, \"Q93\" boolean NOT NULL, \"Q94\" boolean NOT NULL, \"Q95\" boolean NOT NULL, \"Q96\" boolean NOT NULL ) WITH (oids = false);","title":"Personality Questionnaire"},{"location":"technicalQuestionnaire/#personality-questionnaire","text":"Personal Details: First name Last name Email Activity No Yes Design Bridges, Dams or Roads No Yes Capture Data into a computer No Yes Advertise and sell products for companies No Yes Plan weddings and other social events No Yes Assist communities to improve their basic facilities No Yes Give facials and massages to clients No Yes Offer religious sermons No Yes Make animated films No Yes Build or fix airplanes No Yes Set up new computers in offices No Yes Answer phone calls in a call centre No Yes Work as an air host/ess No Yes Produce Wine or Beer No Yes Style and Colour Hair No Yes Offer counselling to drug addicts No Yes Teach Music No Yes Record and Mix Music No Yes Work as a help desk analyst \u2013 provide support to computer users No Yes Compile monthly financial statements No Yes Run a fleet of taxis No Yes Manage a Nature Reserve No Yes Take care of sick people No Yes Interview people for jobs No Yes Present a television or radio show No Yes Do underwater mechanical repairs No Yes Train computer courses No Yes Act as a personal assistant or secretary No Yes Manage a hotel or restaurant No Yes Design area maps No Yes Treat or nurse sick animals No Yes Teach primary or high school learners No Yes Perform as a Dancer No Yes Design or build electronic equipment (dvd players, cell phones) No Yes Design Internet web sites No Yes Write business letters No Yes Act as a Tourist Guide No Yes Plan the lay-out for new towns No Yes Advise people on healthy eating habits No Yes Train communication skills to business people No Yes Act in films, advertisements or theatre productions No Yes Install and maintain electrical cables in buildings No Yes Maintain computer networks No Yes Buy stock (goods) for a business No Yes Work in a surf or diving school No Yes Grow vegetables or fruit trees No Yes Provide emergency medical care (ambulance services) No Yes Run a political campaign No Yes Play music in a band or orchestra No Yes Repair motor vehicles No Yes Write computer programs No Yes Own a tax consulting business No Yes Work as a waiter or bartender No Yes Design gardens and landscapes No Yes Diagnose and treat sick people No Yes Use play therapy to help children overcome problems No Yes Draw and Paint No Yes Weld metals together No Yes Design computer systems to meet business needs No Yes Audit financial records No Yes Design travel plans for tourists No Yes Study weather patterns No Yes Assist injured people with exercises No Yes Manage a pre-school (cr\u00e8che) No Yes Write articles for magazines or newspapers No Yes Work at a gold mine No Yes Design computer software No Yes Record and analyse financial transactions No Yes Manage a guest house or guest farm No Yes Study the stars and universe No Yes Diagnose and treat dental (teeth) problems No Yes Help people deal with personal problems No Yes Write text for advertisements No Yes Make machine parts No Yes Fix computer equipment No Yes Manage a business office No Yes Work as a chef/ cook No Yes Manage a farm No Yes Help people with speech or hearing problems No Yes Offer legal advice and support to other people No Yes Do translations or interpreting No Yes Build and develop properties No Yes Develop and design computer games No Yes Invest money on the stock market No Yes Manage a catering firm No Yes Protect coastal/ marine areas No Yes Research possible cures for diseases No Yes Investigate crime in the community No Yes Design advertising logo for companies or products No Yes Design buildings and furniture No Yes Sell computer equipment No Yes Advise people on good investment opportunities No Yes Offer adventure tours for young people No Yes Manage a garden center (nursery) No Yes Mix and prescribe medicines in a pharmacy No Yes Provide HIV/Aids Counseling in the community No Yes Use make-up for special effects on stage and screen label { float: right; clear: right; } label + label {clear: none;} input {vertical-align: top;}","title":"Personality Questionnaire"},{"location":"technicalQuestionnaire/#db-design","text":"Naming convention: lower case table and attribute names Naming convention: underscore to separate words in names Sample: CREATE table CONTACTME ( ID int AUTO_INCREMENT , APPLICATION varchar ( 100 ), NAME varchar ( 100 ), EMAIL varchar ( 100 ), SUBJECT varchar ( 100 ), MESSAGE varchar ( 400 ), COMPANY varchar ( 100 ), ADDRESS varchar ( 100 ), CONTACT varchar ( 100 ), PRIMARY KEY ( ID )); DROP TABLE IF EXISTS \"CUSTOMER\"; CREATE TABLE \"norma\".\"customer\" ( \"id\" integer NOT NULL PRIMARY K, \"name\" character varying(20) NOT NULL, \"surname\" character varying(20) NOT NULL, \"email\" character varying(20) NOT NULL ) WITH (oids = false); DROP TABLE IF EXISTS \"interest_answers\"; CREATE TABLE \"norma\".\"interest_answers\" ( \"id\" integer NOT NULL, \"customer\" integer NOT NULL, \"Q01\" boolean NOT NULL, \"Q02\" boolean NOT NULL, \"Q03\" boolean NOT NULL, \"Q04\" boolean NOT NULL, \"Q05\" boolean NOT NULL, \"Q06\" boolean NOT NULL, \"Q07\" boolean NOT NULL, \"Q08\" boolean NOT NULL, \"Q09\" boolean NOT NULL, \"Q10\" boolean NOT NULL, \"Q11\" boolean NOT NULL, \"Q12\" boolean NOT NULL, \"Q13\" boolean NOT NULL, \"Q14\" boolean NOT NULL, \"Q15\" boolean NOT NULL, \"Q16\" boolean NOT NULL, \"Q17\" boolean NOT NULL, \"Q18\" boolean NOT NULL, \"Q19\" boolean NOT NULL, \"Q20\" boolean NOT NULL, \"Q21\" boolean NOT NULL, \"Q22\" boolean NOT NULL, \"Q23\" boolean NOT NULL, \"Q24\" boolean NOT NULL, \"Q25\" boolean NOT NULL, \"Q26\" boolean NOT NULL, \"Q27\" boolean NOT NULL, \"Q28\" boolean NOT NULL, \"Q29\" boolean NOT NULL, \"Q30\" boolean NOT NULL, \"Q31\" boolean NOT NULL, \"Q32\" boolean NOT NULL, \"Q33\" boolean NOT NULL, \"Q34\" boolean NOT NULL, \"Q35\" boolean NOT NULL, \"Q36\" boolean NOT NULL, \"Q37\" boolean NOT NULL, \"Q38\" boolean NOT NULL, \"Q39\" boolean NOT NULL, \"Q40\" boolean NOT NULL, \"Q41\" boolean NOT NULL, \"Q42\" boolean NOT NULL, \"Q43\" boolean NOT NULL, \"Q44\" boolean NOT NULL, \"Q45\" boolean NOT NULL, \"Q46\" boolean NOT NULL, \"Q47\" boolean NOT NULL, \"Q48\" boolean NOT NULL, \"Q49\" boolean NOT NULL, \"Q50\" boolean NOT NULL, \"Q51\" boolean NOT NULL, \"Q52\" boolean NOT NULL, \"Q53\" boolean NOT NULL, \"Q54\" boolean NOT NULL, \"Q55\" boolean NOT NULL, \"Q56\" boolean NOT NULL, \"Q57\" boolean NOT NULL, \"Q58\" boolean NOT NULL, \"Q59\" boolean NOT NULL, \"Q60\" boolean NOT NULL, \"Q61\" boolean NOT NULL, \"Q62\" boolean NOT NULL, \"Q63\" boolean NOT NULL, \"Q64\" boolean NOT NULL, \"Q65\" boolean NOT NULL, \"Q66\" boolean NOT NULL, \"Q67\" boolean NOT NULL, \"Q68\" boolean NOT NULL, \"Q69\" boolean NOT NULL, \"Q70\" boolean NOT NULL, \"Q71\" boolean NOT NULL, \"Q72\" boolean NOT NULL, \"Q73\" boolean NOT NULL, \"Q74\" boolean NOT NULL, \"Q75\" boolean NOT NULL, \"Q76\" boolean NOT NULL, \"Q77\" boolean NOT NULL, \"Q78\" boolean NOT NULL, \"Q79\" boolean NOT NULL, \"Q80\" boolean NOT NULL, \"Q81\" boolean NOT NULL, \"Q82\" boolean NOT NULL, \"Q83\" boolean NOT NULL, \"Q84\" boolean NOT NULL, \"Q85\" boolean NOT NULL, \"Q86\" boolean NOT NULL, \"Q87\" boolean NOT NULL, \"Q88\" boolean NOT NULL, \"Q89\" boolean NOT NULL, \"Q90\" boolean NOT NULL, \"Q91\" boolean NOT NULL, \"Q92\" boolean NOT NULL, \"Q93\" boolean NOT NULL, \"Q94\" boolean NOT NULL, \"Q95\" boolean NOT NULL, \"Q96\" boolean NOT NULL ) WITH (oids = false);","title":"DB design"},{"location":"technicalSiteStructure/","text":"Podzone Sites Musings A microsite with the writings of various members of the family. Source: git@github.com:MoTTTT/musings.git Introduction: https://musings.thruhere.net/ Norma's: https://musings.thruhere.net/closeencounters.html Mom's: https://musings.thruhere.net/telling/ Link to Mom's' ebook: http://books.apple.com/us/book/id6445276669 Dad's: https://musings.thruhere.net/CannonBecket004.txt Dad's: https://musings.thruhere.net/AndAllTheSaints.html Dad's: https://musings.thruhere.net/GrandpasMemories.txt MoTTTT's: https://musings.thruhere.net/sunsets.html Podzone Source: git@github.com:MoTTTT/podzone.git Directory generation: mkdocs build Directory: site/ https://docs.podzone.net/ Structure defined in mkdocs.yaml Wordpress instances","title":"Podzone Sites"},{"location":"technicalSiteStructure/#podzone-sites","text":"","title":"Podzone Sites"},{"location":"technicalSiteStructure/#musings","text":"A microsite with the writings of various members of the family. Source: git@github.com:MoTTTT/musings.git Introduction: https://musings.thruhere.net/ Norma's: https://musings.thruhere.net/closeencounters.html Mom's: https://musings.thruhere.net/telling/ Link to Mom's' ebook: http://books.apple.com/us/book/id6445276669 Dad's: https://musings.thruhere.net/CannonBecket004.txt Dad's: https://musings.thruhere.net/AndAllTheSaints.html Dad's: https://musings.thruhere.net/GrandpasMemories.txt MoTTTT's: https://musings.thruhere.net/sunsets.html","title":"Musings"},{"location":"technicalSiteStructure/#podzone","text":"Source: git@github.com:MoTTTT/podzone.git Directory generation: mkdocs build Directory: site/ https://docs.podzone.net/ Structure defined in mkdocs.yaml","title":"Podzone"},{"location":"technicalSiteStructure/#wordpress-instances","text":"","title":"Wordpress instances"},{"location":"technicalSolution/","text":"Solution Component endpoints ceph kubeapps Customer facing Static Site: https://musings.thruhere.net/ Static Site: https://docs.podzone.net/ Wordpress: Minecraft: Mail: Cloud services https://www.linkedin.com/in/martincolley/ https://github.com/MoTTTT https://cloudsmith.io/~q-solutions","title":"Solution"},{"location":"technicalSolution/#solution","text":"","title":"Solution"},{"location":"technicalSolution/#component-endpoints","text":"ceph kubeapps","title":"Component endpoints"},{"location":"technicalSolution/#customer-facing","text":"Static Site: https://musings.thruhere.net/ Static Site: https://docs.podzone.net/ Wordpress: Minecraft: Mail:","title":"Customer facing"},{"location":"technicalSolution/#cloud-services","text":"https://www.linkedin.com/in/martincolley/ https://github.com/MoTTTT https://cloudsmith.io/~q-solutions","title":"Cloud services"},{"location":"technicalSouthernZone/","text":"Overflow and historical information on original zone --- title: southern.podzone.net Network Topology, Original --- graph LR ISP --- ont ont --- router router --- switch2 router ---switch3 router --- ap1 router --- other2 router --- workstation ap1 --- other1 ap1 --- other2 switch2 --- other1 switch3 --- switch1 switch3 --- other1 switch1 <-->|1GB| k8s1 switch1 <-->|1GB| k8s2 switch1 <-->|1GB| k8s3 switch1 <-->|1GB| k8s4 ont[[Daisan H665 GPON ONT]] router[[TP-LINK EC120-F5 Router]] switch1[[D-Link DGS-1005D]] switch2[[TP-Link TL-SG1005D]] switch3[[TP-Link TL-SG1008D]] ap1[[TP-Link TL-WR845N]] other1(ethernet devices) other2(wifi devices) k8s1{{levant}} k8s2{{james}} k8s3{{bukit}} k8s4{{sigiriya}} workstation(dolmen) Development Environment Three personal machines and workstations were re-purposed to create a dev environment. Upgrades to disk and ram were done where possible. It would have been great to get RAM on all devices up to 16GB, or more, but unfortunately only one device accommodated upgrade, and that to only 16GB. sigiriya Late 2014 Mac Mini 2.80GHz i5-4308U (2 core, 4 thread) 8GB RAM (soldered) Ubuntu Server 22.04 (upgrade from macOS) 2TB SSD (upgrade from 500GB) eth0 IP: 192.168.0.6 bukit Late 2014 Mac Mini 1.4 GHz Dual Core i5 4 GB RAM (soldered) Ubuntu 22.04 desktop (existing installation) 500GB SSD eth0 IP: 192.168.0.52 admin user: martin james Motherboard: ASRock H61M-VS3 3 GHz Quad Core i5 16GB (upgrade from 8 GB) RAM Ubuntu 22.04 desktop (existing installation) 500 GB SSD eth0 IP: 192.168.0.27","title":"Overflow and historical information on original zone"},{"location":"technicalSouthernZone/#overflow-and-historical-information-on-original-zone","text":"--- title: southern.podzone.net Network Topology, Original --- graph LR ISP --- ont ont --- router router --- switch2 router ---switch3 router --- ap1 router --- other2 router --- workstation ap1 --- other1 ap1 --- other2 switch2 --- other1 switch3 --- switch1 switch3 --- other1 switch1 <-->|1GB| k8s1 switch1 <-->|1GB| k8s2 switch1 <-->|1GB| k8s3 switch1 <-->|1GB| k8s4 ont[[Daisan H665 GPON ONT]] router[[TP-LINK EC120-F5 Router]] switch1[[D-Link DGS-1005D]] switch2[[TP-Link TL-SG1005D]] switch3[[TP-Link TL-SG1008D]] ap1[[TP-Link TL-WR845N]] other1(ethernet devices) other2(wifi devices) k8s1{{levant}} k8s2{{james}} k8s3{{bukit}} k8s4{{sigiriya}} workstation(dolmen)","title":"Overflow and historical information on original zone"},{"location":"technicalSouthernZone/#development-environment","text":"Three personal machines and workstations were re-purposed to create a dev environment. Upgrades to disk and ram were done where possible. It would have been great to get RAM on all devices up to 16GB, or more, but unfortunately only one device accommodated upgrade, and that to only 16GB.","title":"Development Environment"},{"location":"technicalSouthernZone/#sigiriya","text":"Late 2014 Mac Mini 2.80GHz i5-4308U (2 core, 4 thread) 8GB RAM (soldered) Ubuntu Server 22.04 (upgrade from macOS) 2TB SSD (upgrade from 500GB) eth0 IP: 192.168.0.6","title":"sigiriya"},{"location":"technicalSouthernZone/#bukit","text":"Late 2014 Mac Mini 1.4 GHz Dual Core i5 4 GB RAM (soldered) Ubuntu 22.04 desktop (existing installation) 500GB SSD eth0 IP: 192.168.0.52 admin user: martin","title":"bukit"},{"location":"technicalSouthernZone/#james","text":"Motherboard: ASRock H61M-VS3 3 GHz Quad Core i5 16GB (upgrade from 8 GB) RAM Ubuntu 22.04 desktop (existing installation) 500 GB SSD eth0 IP: 192.168.0.27","title":"james"},{"location":"technicalStaticSite/","text":"Wrapping static site functionality into a helm chart Kubernetes object specifications can be applied to the cluster manually using kubectl . However, as these objects increase in number, an abstraction above that of Kubernetes objects is useful, if not necessary. This is where helm plays a role, allowing sets of objects to be managed collectively, and provides a mechanism to externalise key aspects of configuration. This is achieved with a templating language, leaving the key configuration items isolated and aggregated. This in turn, together with a configuration value overriding facility, allows for the same package to be re-used with only the key configuration items requiring further management. static-site The kubernetes objects required for a static site have been refactored into a dedicated github repo: https://github.com/MoTTTT/static-site.git The helm chart has been published on Cloudsmith . It is available here: https://cloudsmith.io/~q-solutions/repos/static-site/packages/ . If anyone else has a similar requirement or use-case, then it would save a bit of work. I hope so, and welcome feedback. Helm Chart description Hardened Apache Web Server with git-sync, and LetsEncrypt certificate The Helm Chart contains the following resources: clusterissuer.yaml: This sets up a config for the certificate requests. Set the issuer definition in values.yaml certificate.yaml: This sets up a certificate for the site. Set the certificate definition in values.yaml configmap.yaml: This loads a minimal httpd.conf file, with security hardening appropriate for a static site deployment.yaml: This spins up Apache, with a git-sync-sidecar, and uses the httpd.conf configmap service.yaml: This is a cluster internal endpoint that load balances requests to the pods in the deployment. ingress.yaml: This sets up an external endpoint, and routes requests to the Service. Set the ingres definition in values.yaml serviceaccount.yaml: Service Account for the deployment Prerequisites L2 load balancer (I am using metallb). The IP address specified needs to be noted for port forwarding Ingress (I am using https://kubernetes.github.io/ingress-nginx ) Certificate Manager (I use the microk8s add-on package microk8s enable cert-manager ) WAN port forwarding to the metallb IP address is required for certificates to be issued. Publishing and use of the helm chart The helm chart is packaged using helm, and kindly hosted on Cloudsmith. To package the helm chart: helm package ./static-site To upload to CloudSmith: cloudsmith push helm q-solutions/static-site static-site-0.1.X.tgz The package is now available as: https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/ . The default chart deploys the https://musings.thruhere.net site, and is deployed as release musings-01 as follows: helm install musings-01 --debug --namespace musings --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' Using a values file overriding details like dns name, and source git repo, the second static site is deployed as release podzone-01 : helm install podzone-01 --debug --namespace podzone --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' --values valuespodzone.yaml The valuespodzone.yaml file looks like this: # Override defaults from qapps for podzone site. # Values for podzone certificate : name : podzone-cert dnsName : docs.podzone.net gitsyncimage : args : - --repo=https://github.com/MoTTTT/podzone.git - --depth=1 - --period=240s - --max-failures=10 - --link=current - --root=/git-apache - --verbose=9 ingress : className : \"nginx\" hosts : - host : docs.podzone.net paths : - path : / pathType : ImplementationSpecific tls : - secretName : podzone-cert hosts : - docs.podzone.net test : url : \"https://docs.podzone.net/index.html\" Apache Hardening The Apache server is a very capable and feature complete web server, serving or fronting over 10% of web and application resource installations. The default Apache configuration accommodates a broad set of web server use-cases, providing web server administrators considerable flexibility, and also the responsibility of first line defence. During initial testing, it was evident from request logs that some viewers were hostile. This was evident from the .git directory interest, and the expressed hope that a vulnerable wordpress site had been found. The default configuration therefore represents an unnecessarily large attack surface. The specific requirements for the applications is narrow in scope. There is no need for directory listings. Nor are there any legitimate POST requests. This would be the case for most static sites, especially considering the typical microservice architecture, where api deployments can be distinct from the front-end functionality. One of the reasons to share the final configuration is the possibility of improvement through feedback. Approach Extract default httpd.conf Disable unused modules Set minimum privileges on document root - no directory listings. Disable POST requests Apply best-practice hardening configurations (more about this can be found in references). The final configuration file is as follows: # httpd.conf for static-site # Modules critical for simple static site use-case LoadModule mpm_event_module modules/mod_mpm_event.so LoadModule access_compat_module modules/mod_access_compat.so LoadModule reqtimeout_module modules/mod_reqtimeout.so LoadModule mime_module modules/mod_mime.so LoadModule log_config_module modules/mod_log_config.so LoadModule headers_module modules/mod_headers.so LoadModule unixd_module modules/mod_unixd.so LoadModule dir_module modules/mod_dir.so LoadModule authz_core_module modules/mod_authz_core.so # Generic settings for qapps apache server component ServerRoot \"/usr/local/apache2\" Listen 80 ServerAdmin martinjcolley@gmail.com <IfModule unixd_module> User www-data Group www-data </IfModule> # Document root set up to accommodate \"current/site\" content root provided by volume mapped git-sync directory # Only request types required for static site access are allowed # Indexes not generated where index.html file does not exist DocumentRoot \"/usr/local/apache2/htdocs/current/site\" <Directory \"/usr/local/apache2/htdocs/current/site\"> Options -Indexes -Includes +FollowSymLinks AllowOverride None Require all granted <LimitExcept GET HEAD> deny from all </LimitExcept> </Directory> # Hardening: # Prevent server detail leakages # Set headers for best practice security # Enable request time-out to prevent slow request denial of service ServerTokens Prod ServerSignature Off FileETag None TraceEnable off Header edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure Header always append X-Frame-Options SAMEORIGIN Header set X-XSS-Protection \"1; mode=block\" Timeout 60 <IfModule dir_module> DirectoryIndex index.html </IfModule> <Files \".ht*\"> Require all denied </Files> <Directory /> AllowOverride none Require all denied </Directory> <IfModule headers_module> RequestHeader unset Proxy early </IfModule> # Logging configuration ErrorLog /proc/self/fd/2 LogLevel warn <IfModule log_config_module> LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common <IfModule logio_module> LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" %I %O\" combinedio </IfModule> CustomLog /proc/self/fd/1 common </IfModule> # Support for compression <IfModule mime_module> TypesConfig conf/mime.types AddType application/x-compress .Z AddType application/x-gzip .gz .tgz </IfModule> To_Do The static-site V0.1.1 solution has a broader dependency: updating of Name Server entries for the site domains. Currently the installation has the support of a DynDns updater running on an unrelated host on the network. Adding an operator to handle this on the cluster, one for each site is required.","title":"Wrapping static site functionality into a helm chart"},{"location":"technicalStaticSite/#wrapping-static-site-functionality-into-a-helm-chart","text":"Kubernetes object specifications can be applied to the cluster manually using kubectl . However, as these objects increase in number, an abstraction above that of Kubernetes objects is useful, if not necessary. This is where helm plays a role, allowing sets of objects to be managed collectively, and provides a mechanism to externalise key aspects of configuration. This is achieved with a templating language, leaving the key configuration items isolated and aggregated. This in turn, together with a configuration value overriding facility, allows for the same package to be re-used with only the key configuration items requiring further management.","title":"Wrapping static site functionality into a helm chart"},{"location":"technicalStaticSite/#static-site","text":"The kubernetes objects required for a static site have been refactored into a dedicated github repo: https://github.com/MoTTTT/static-site.git The helm chart has been published on Cloudsmith . It is available here: https://cloudsmith.io/~q-solutions/repos/static-site/packages/ . If anyone else has a similar requirement or use-case, then it would save a bit of work. I hope so, and welcome feedback.","title":"static-site"},{"location":"technicalStaticSite/#helm-chart-description","text":"","title":"Helm Chart description"},{"location":"technicalStaticSite/#hardened-apache-web-server-with-git-sync-and-letsencrypt-certificate","text":"The Helm Chart contains the following resources: clusterissuer.yaml: This sets up a config for the certificate requests. Set the issuer definition in values.yaml certificate.yaml: This sets up a certificate for the site. Set the certificate definition in values.yaml configmap.yaml: This loads a minimal httpd.conf file, with security hardening appropriate for a static site deployment.yaml: This spins up Apache, with a git-sync-sidecar, and uses the httpd.conf configmap service.yaml: This is a cluster internal endpoint that load balances requests to the pods in the deployment. ingress.yaml: This sets up an external endpoint, and routes requests to the Service. Set the ingres definition in values.yaml serviceaccount.yaml: Service Account for the deployment","title":"Hardened Apache Web Server with git-sync, and LetsEncrypt certificate"},{"location":"technicalStaticSite/#prerequisites","text":"L2 load balancer (I am using metallb). The IP address specified needs to be noted for port forwarding Ingress (I am using https://kubernetes.github.io/ingress-nginx ) Certificate Manager (I use the microk8s add-on package microk8s enable cert-manager ) WAN port forwarding to the metallb IP address is required for certificates to be issued.","title":"Prerequisites"},{"location":"technicalStaticSite/#publishing-and-use-of-the-helm-chart","text":"The helm chart is packaged using helm, and kindly hosted on Cloudsmith. To package the helm chart: helm package ./static-site To upload to CloudSmith: cloudsmith push helm q-solutions/static-site static-site-0.1.X.tgz The package is now available as: https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/ . The default chart deploys the https://musings.thruhere.net site, and is deployed as release musings-01 as follows: helm install musings-01 --debug --namespace musings --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' Using a values file overriding details like dns name, and source git repo, the second static site is deployed as release podzone-01 : helm install podzone-01 --debug --namespace podzone --create-namespace static-site --repo 'https://dl.cloudsmith.io/public/q-solutions/static-site/helm/charts/' --values valuespodzone.yaml The valuespodzone.yaml file looks like this: # Override defaults from qapps for podzone site. # Values for podzone certificate : name : podzone-cert dnsName : docs.podzone.net gitsyncimage : args : - --repo=https://github.com/MoTTTT/podzone.git - --depth=1 - --period=240s - --max-failures=10 - --link=current - --root=/git-apache - --verbose=9 ingress : className : \"nginx\" hosts : - host : docs.podzone.net paths : - path : / pathType : ImplementationSpecific tls : - secretName : podzone-cert hosts : - docs.podzone.net test : url : \"https://docs.podzone.net/index.html\"","title":"Publishing and use of the helm chart"},{"location":"technicalStaticSite/#apache-hardening","text":"The Apache server is a very capable and feature complete web server, serving or fronting over 10% of web and application resource installations. The default Apache configuration accommodates a broad set of web server use-cases, providing web server administrators considerable flexibility, and also the responsibility of first line defence. During initial testing, it was evident from request logs that some viewers were hostile. This was evident from the .git directory interest, and the expressed hope that a vulnerable wordpress site had been found. The default configuration therefore represents an unnecessarily large attack surface. The specific requirements for the applications is narrow in scope. There is no need for directory listings. Nor are there any legitimate POST requests. This would be the case for most static sites, especially considering the typical microservice architecture, where api deployments can be distinct from the front-end functionality. One of the reasons to share the final configuration is the possibility of improvement through feedback.","title":"Apache Hardening"},{"location":"technicalStaticSite/#approach","text":"Extract default httpd.conf Disable unused modules Set minimum privileges on document root - no directory listings. Disable POST requests Apply best-practice hardening configurations (more about this can be found in references). The final configuration file is as follows: # httpd.conf for static-site # Modules critical for simple static site use-case LoadModule mpm_event_module modules/mod_mpm_event.so LoadModule access_compat_module modules/mod_access_compat.so LoadModule reqtimeout_module modules/mod_reqtimeout.so LoadModule mime_module modules/mod_mime.so LoadModule log_config_module modules/mod_log_config.so LoadModule headers_module modules/mod_headers.so LoadModule unixd_module modules/mod_unixd.so LoadModule dir_module modules/mod_dir.so LoadModule authz_core_module modules/mod_authz_core.so # Generic settings for qapps apache server component ServerRoot \"/usr/local/apache2\" Listen 80 ServerAdmin martinjcolley@gmail.com <IfModule unixd_module> User www-data Group www-data </IfModule> # Document root set up to accommodate \"current/site\" content root provided by volume mapped git-sync directory # Only request types required for static site access are allowed # Indexes not generated where index.html file does not exist DocumentRoot \"/usr/local/apache2/htdocs/current/site\" <Directory \"/usr/local/apache2/htdocs/current/site\"> Options -Indexes -Includes +FollowSymLinks AllowOverride None Require all granted <LimitExcept GET HEAD> deny from all </LimitExcept> </Directory> # Hardening: # Prevent server detail leakages # Set headers for best practice security # Enable request time-out to prevent slow request denial of service ServerTokens Prod ServerSignature Off FileETag None TraceEnable off Header edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure Header always append X-Frame-Options SAMEORIGIN Header set X-XSS-Protection \"1; mode=block\" Timeout 60 <IfModule dir_module> DirectoryIndex index.html </IfModule> <Files \".ht*\"> Require all denied </Files> <Directory /> AllowOverride none Require all denied </Directory> <IfModule headers_module> RequestHeader unset Proxy early </IfModule> # Logging configuration ErrorLog /proc/self/fd/2 LogLevel warn <IfModule log_config_module> LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common <IfModule logio_module> LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" %I %O\" combinedio </IfModule> CustomLog /proc/self/fd/1 common </IfModule> # Support for compression <IfModule mime_module> TypesConfig conf/mime.types AddType application/x-compress .Z AddType application/x-gzip .gz .tgz </IfModule>","title":"Approach"},{"location":"technicalStaticSite/#to_do","text":"The static-site V0.1.1 solution has a broader dependency: updating of Name Server entries for the site domains. Currently the installation has the support of a DynDns updater running on an unrelated host on the network. Adding an operator to handle this on the cluster, one for each site is required.","title":"To_Do"},{"location":"technicalTasklist1/","text":"Task List: southern.podzone.net The following checklist provides a high-level breakdown of the work that needs to be done. Each of these are further decomposed below, where required: [X] Documentation [X] k8s dev cluster build [X] k8s prod cluster build [X] Networking build [X] Ingress Build [ ] Security [X] Storage [ ] Applications and Services [ ] Testing Task-list: Documentation [X] Business brief [X] Consumer Cloud definition [X] Workload Success criteria [X] MVP deliverables [X] Network topology [X] Inventory [ ] Update documentation with production cluster details [X] Curate reference lists [ ] Site structure Task-list: k8s dev cluster build [X] james (upgrade RAM) [X] sigiriya (upgrade disk) [X] bukit [X] levant Task-list: k8s prod cluster build [X] Procurement: 3 X HP t630 Thinclient [X] Add second drive: 128 GB M.2 max 2242 modules [X] Host build: habilis [X] Host build: antecessor [X] Host build: naledi [ ] RAM upgrade: 8BG -> 16 GB [ ] Upgrade first drives [ ] Migrate DynDns updater to cluster (external-dns chart) [ ] Ingress load balancer Task-list: Networking build [X] Network design [X] Refactor wired network [X] Router config (port forward, dynamic dns) [X] https certificate for (qsolutions.endoftheinternet.org) [X] Load balancer (MetalLB) [X] DynDns WAN IP updates (ddclient) Task-list: Ingress Build [X] Certificate manager [X] Certificates for 4 X LetsEncrypt host certs [X] Route to Apache static sites [X] Route to k8s dashboard [X] Route to Search GUI : Cancelled [X] Route to k8s API [X] Route to zope [X] Route to podzone docs [ ] DynDns updater operator Task-list: Security [X] TLS certificate solution [X] https for all external access [X] Apache hardening [ ] Kubernetes hardening [ ] Purge sensitive info from DB Task-list: Storage [X] Consolidate data from media [X] Consolidate assets into iCloud [X] Extract source into GitHub [X] Persistent storage for k8s cluster Task Breakdown: Consolidate data from media [X] /home/${USER} directories on bare metal X 3 [X] /media on james [X] thumb drives X 12 [X] external hard drives X 1 [X] 2.5\" replaced hard drives X 3 - Install in james [X] 3.5\" replaced hard drives X 2 - Install in external enclosures Requirement: Consolidate data from media All information of interest on all media to go into iCloud All projects, including legacy and completed ones, into GitHub Sensitive data audit, and secure wipe where required Visible logical status labelling Task Breakdown: Extract source into GitHub [X] Book: Telling; BA Colley [X] Book: Cannon Becket; AH Colley [X] Book: All the Saints; AH Colley [X] Code: uNode assets [X] Code: BHC assets [X] Code: Archive/Backup search Task-list: Applications and Services [X] Consolidate Web sites [ ] Extract Zope zexp files and check in [ ] Containerise Zope, including application code and config Task Breakdown: Containerise Zope, including application code and config [X] Plone Service and Deployment [X] Plone ingress for qsolutions.endoftheinternet.org [X] Ingress rewrite rules for Zope Virtual Host Monster [ ] Plone ZPsycopgDA installation (containerInit?) [ ] Persistent storage volume for postgres [ ] Postgress Service and Deployment [ ] Postgress ingress Testing [ ] Cluster High Availability testing [ ] Cluster failure recovery [ ] Web functional test [ ] Application functional test","title":"Task List: southern.podzone.net"},{"location":"technicalTasklist1/#task-list-southernpodzonenet","text":"The following checklist provides a high-level breakdown of the work that needs to be done. Each of these are further decomposed below, where required: [X] Documentation [X] k8s dev cluster build [X] k8s prod cluster build [X] Networking build [X] Ingress Build [ ] Security [X] Storage [ ] Applications and Services [ ] Testing","title":"Task List: southern.podzone.net"},{"location":"technicalTasklist1/#task-list-documentation","text":"[X] Business brief [X] Consumer Cloud definition [X] Workload Success criteria [X] MVP deliverables [X] Network topology [X] Inventory [ ] Update documentation with production cluster details [X] Curate reference lists [ ] Site structure","title":"Task-list: Documentation"},{"location":"technicalTasklist1/#task-list-k8s-dev-cluster-build","text":"[X] james (upgrade RAM) [X] sigiriya (upgrade disk) [X] bukit [X] levant","title":"Task-list: k8s dev cluster build"},{"location":"technicalTasklist1/#task-list-k8s-prod-cluster-build","text":"[X] Procurement: 3 X HP t630 Thinclient [X] Add second drive: 128 GB M.2 max 2242 modules [X] Host build: habilis [X] Host build: antecessor [X] Host build: naledi [ ] RAM upgrade: 8BG -> 16 GB [ ] Upgrade first drives [ ] Migrate DynDns updater to cluster (external-dns chart) [ ] Ingress load balancer","title":"Task-list: k8s prod cluster build"},{"location":"technicalTasklist1/#task-list-networking-build","text":"[X] Network design [X] Refactor wired network [X] Router config (port forward, dynamic dns) [X] https certificate for (qsolutions.endoftheinternet.org) [X] Load balancer (MetalLB) [X] DynDns WAN IP updates (ddclient)","title":"Task-list: Networking build"},{"location":"technicalTasklist1/#task-list-ingress-build","text":"[X] Certificate manager [X] Certificates for 4 X LetsEncrypt host certs [X] Route to Apache static sites [X] Route to k8s dashboard [X] Route to Search GUI : Cancelled [X] Route to k8s API [X] Route to zope [X] Route to podzone docs [ ] DynDns updater operator","title":"Task-list: Ingress Build"},{"location":"technicalTasklist1/#task-list-security","text":"[X] TLS certificate solution [X] https for all external access [X] Apache hardening [ ] Kubernetes hardening [ ] Purge sensitive info from DB","title":"Task-list: Security"},{"location":"technicalTasklist1/#task-list-storage","text":"[X] Consolidate data from media [X] Consolidate assets into iCloud [X] Extract source into GitHub [X] Persistent storage for k8s cluster","title":"Task-list: Storage"},{"location":"technicalTasklist1/#task-breakdown-consolidate-data-from-media","text":"[X] /home/${USER} directories on bare metal X 3 [X] /media on james [X] thumb drives X 12 [X] external hard drives X 1 [X] 2.5\" replaced hard drives X 3 - Install in james [X] 3.5\" replaced hard drives X 2 - Install in external enclosures","title":"Task Breakdown: Consolidate data from media"},{"location":"technicalTasklist1/#requirement-consolidate-data-from-media","text":"All information of interest on all media to go into iCloud All projects, including legacy and completed ones, into GitHub Sensitive data audit, and secure wipe where required Visible logical status labelling","title":"Requirement: Consolidate data from media"},{"location":"technicalTasklist1/#task-breakdown-extract-source-into-github","text":"[X] Book: Telling; BA Colley [X] Book: Cannon Becket; AH Colley [X] Book: All the Saints; AH Colley [X] Code: uNode assets [X] Code: BHC assets [X] Code: Archive/Backup search","title":"Task Breakdown: Extract source into GitHub"},{"location":"technicalTasklist1/#task-list-applications-and-services","text":"[X] Consolidate Web sites [ ] Extract Zope zexp files and check in [ ] Containerise Zope, including application code and config","title":"Task-list: Applications and Services"},{"location":"technicalTasklist1/#task-breakdown-containerise-zope-including-application-code-and-config","text":"[X] Plone Service and Deployment [X] Plone ingress for qsolutions.endoftheinternet.org [X] Ingress rewrite rules for Zope Virtual Host Monster [ ] Plone ZPsycopgDA installation (containerInit?) [ ] Persistent storage volume for postgres [ ] Postgress Service and Deployment [ ] Postgress ingress","title":"Task Breakdown: Containerise Zope, including application code and config"},{"location":"technicalTasklist1/#testing","text":"[ ] Cluster High Availability testing [ ] Cluster failure recovery [ ] Web functional test [ ] Application functional test","title":"Testing"},{"location":"technicalTasklist2/","text":"Task List: northern.podzone.net The following checklist provides a high-level breakdown of the work that needs to be done. Each of these are further decomposed below, where required: [ ] Documentation [ ] k8s prod cluster build [ ] Networking build [ ] Ingress Build [ ] Security [ ] Storage [ ] Applications and Services [ ] Testing Task-list: Documentation [ ] Tasklist [ ] Hosts [ ] Network topology [ ] Inventory [ ] Site structure Task-list: k8s prod cluster build [X] Install power, network, and first two nodes [ ] Install ddclient and configure [X] Total clean-up: snap remove microk8s [X] Install microk8s, cluster nodes, and configure [ ] DynDNS and Router config for test domain Task-list: Networking build [X] Ethernet cabling from router to switch [X] Switch install and cabling to nodes [X] Router config: Static IP assignments [X] Client config: update hosts file [ ] Router config: Port forward [X] Router config: Set DHCP range to reserve LBR IP Storage Node IP addresses have changed. This is not supported by Ceph. Ceph cluster to be re-built from scratch. [X] Total clean-up: snap remove microceph [X] reinstall ceph on each node [X] cluster ceph nodes [X] disk assignment Testing [ ] t360 unit: Geekbench [ ] Cluster High Availability testing [ ] Cluster failure recovery [ ] Web functional test [ ] Application functional test Procurement Three node cluster [X] EBay 20-11075-47632: 1 X t630 {dariaiddle 2} [X] EBay 11-11081-94689: 3 X 128GB 2280 SSD [X] EBay 23-11073-38931: 3 X 256GB 2242 SSD [X] EBay 23-11073-47935: 3 X 16GB DDR4 RAM [X] EBay 15-11092-59277: 1 X t630 {dariaiddle 3} [X] EBay 10-11096-24713: 1 X t520 {chillitech_ltd} Five node cluster [X] EBay 05-11112-51382: 5 X t630 {dariaiddle} [X] EBay 11-11107-65868: 5 X 16GB DDR4 RAM [ ] EBay 23-11098-89931: 1 X 256GB 2242 SSD [X] EBay 12-11141-17449: 5 X Cat6 0.5m ethernet cables [X] EBay 12-11141-17448: 5 X 128GB 2280 SSD [ ] EBay 12-11141-17446: 4 X 256GB 2242 SSD [X] Amazon 206-2426422-7388328: 8 Port Gigabit switch [X] The range: 6 way Power strip Data server [X] EBay 12-11141-17445: 1 X 2 TB 2280 SSD [ ] EBay 12-11141-17447: NVMe + SATA adapter","title":"Task List: northern.podzone.net"},{"location":"technicalTasklist2/#task-list-northernpodzonenet","text":"The following checklist provides a high-level breakdown of the work that needs to be done. Each of these are further decomposed below, where required: [ ] Documentation [ ] k8s prod cluster build [ ] Networking build [ ] Ingress Build [ ] Security [ ] Storage [ ] Applications and Services [ ] Testing","title":"Task List: northern.podzone.net"},{"location":"technicalTasklist2/#task-list-documentation","text":"[ ] Tasklist [ ] Hosts [ ] Network topology [ ] Inventory [ ] Site structure","title":"Task-list: Documentation"},{"location":"technicalTasklist2/#task-list-k8s-prod-cluster-build","text":"[X] Install power, network, and first two nodes [ ] Install ddclient and configure [X] Total clean-up: snap remove microk8s [X] Install microk8s, cluster nodes, and configure [ ] DynDNS and Router config for test domain","title":"Task-list: k8s prod cluster build"},{"location":"technicalTasklist2/#task-list-networking-build","text":"[X] Ethernet cabling from router to switch [X] Switch install and cabling to nodes [X] Router config: Static IP assignments [X] Client config: update hosts file [ ] Router config: Port forward [X] Router config: Set DHCP range to reserve LBR IP","title":"Task-list: Networking build"},{"location":"technicalTasklist2/#storage","text":"Node IP addresses have changed. This is not supported by Ceph. Ceph cluster to be re-built from scratch. [X] Total clean-up: snap remove microceph [X] reinstall ceph on each node [X] cluster ceph nodes [X] disk assignment","title":"Storage"},{"location":"technicalTasklist2/#testing","text":"[ ] t360 unit: Geekbench [ ] Cluster High Availability testing [ ] Cluster failure recovery [ ] Web functional test [ ] Application functional test","title":"Testing"},{"location":"technicalTasklist2/#procurement","text":"","title":"Procurement"},{"location":"technicalTasklist2/#three-node-cluster","text":"[X] EBay 20-11075-47632: 1 X t630 {dariaiddle 2} [X] EBay 11-11081-94689: 3 X 128GB 2280 SSD [X] EBay 23-11073-38931: 3 X 256GB 2242 SSD [X] EBay 23-11073-47935: 3 X 16GB DDR4 RAM [X] EBay 15-11092-59277: 1 X t630 {dariaiddle 3} [X] EBay 10-11096-24713: 1 X t520 {chillitech_ltd}","title":"Three node cluster"},{"location":"technicalTasklist2/#five-node-cluster","text":"[X] EBay 05-11112-51382: 5 X t630 {dariaiddle} [X] EBay 11-11107-65868: 5 X 16GB DDR4 RAM [ ] EBay 23-11098-89931: 1 X 256GB 2242 SSD [X] EBay 12-11141-17449: 5 X Cat6 0.5m ethernet cables [X] EBay 12-11141-17448: 5 X 128GB 2280 SSD [ ] EBay 12-11141-17446: 4 X 256GB 2242 SSD [X] Amazon 206-2426422-7388328: 8 Port Gigabit switch [X] The range: 6 way Power strip","title":"Five node cluster"},{"location":"technicalTasklist2/#data-server","text":"[X] EBay 12-11141-17445: 1 X 2 TB 2280 SSD [ ] EBay 12-11141-17447: NVMe + SATA adapter","title":"Data server"},{"location":"technicalTools/","text":"Tools Tool and technology selection is influenced by server, workstation and admin client installed base. Server infrastructure includes Mac and PC hardware, with Ubuntu OS installed. Server infrastructure is currently in use. Build of new software infrastructure will cohabit with existing software assets. Redundant tooling will be removed as workload shifts to new software infrastructure. Software distributions will therefore be chosen for Ubuntu OS packaging. Initial build is manual, dev and subsequent releases are declarative. Distributions Kubernetes: Microk8s snap Ceph: MicroCeph snap Prometheus: snap Administration Kubernetes admin: kubectl (kubernetes-cli) Kubernetes Terminal UI: k9s Kubernetes Web UI (client side): octant CNI admin: calicoctl Database dashboard: adminer Monitoring: Prometheus Virtual Machine provisioning: Vagrant VM Configuration and microk8s cluster build: ansible Application release management: helm json processor: jq Terminal browser: midnight commander (mc) Cloudsmith CLI (helm repository management) Additional components to be investigated Backup: Longhorn SSO: Dex References Vagrant https://app.vagrantup.com/boxes/search https://blog.verbat.com/ansible-vs-vagrant-how-they-compare-and-which-one-should-you-use/ https://developer.hashicorp.com/vagrant/docs/cli/box https://developer.hashicorp.com/vagrant/docs/multi-machine https://developer.hashicorp.com/vagrant/docs/networking/private_network https://developer.hashicorp.com/vagrant/docs/networking/public_network https://developer.hashicorp.com/vagrant/docs/networking https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/boxes https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/common-issues https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/configuration https://developer.hashicorp.com/vagrant/docs/providers https://developer.hashicorp.com/vagrant/docs/provisioning/file https://developer.hashicorp.com/vagrant/docs/vagrantfile/machine_settings#config-vm-base_mac https://developer.hashicorp.com/vagrant/docs/vagrantfile/machine_settings https://developer.hashicorp.com/vagrant/docs/vagrantfile/ssh_settings https://developer.hashicorp.com/vagrant/docs/vagrantfile/tips https://developer.hashicorp.com/vagrant/intro https://developer.hashicorp.com/vagrant/tutorials/getting-started/getting-started-index https://developer.hashicorp.com/vagrant/tutorials/getting-started/getting-started-up https://discuss.hashicorp.com/t/vagrant-multiple-vms-with-unique-ip-address-on-public-network-using-dhcp/36374 https://luppeng.wordpress.com/2020/03/29/vagrant-up-with-the-lxc-provider/ https://www.vagrantup.com/ https://github.com/Fred78290/vagrant-multipass Ansible https://docs.ansible.com/ansible/2.9_ja/modules/snap_module.html https://docs.ansible.com/ansible/latest/collections_guide/collections_using_playbooks.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/copy_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/expect_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/index.html#plugins-in-ansible-builtin https://docs.ansible.com/ansible/latest/collections/ansible/builtin/known_hosts_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/pause_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/template_module.html#ansible-collections-ansible-builtin-template-module https://docs.ansible.com/ansible/latest/collections/community/general/snap_module.html https://docs.ansible.com/ansible/latest/getting_started/basic_concepts.html https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html#control-node-requirements https://docs.ansible.com/ansible/latest/inventory_guide/connection_details.html https://docs.ansible.com/ansible/latest/inventory_guide/intro_inventory.html https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_intro.html https://docs.ansible.com/ansible/latest/tips_tricks/ansible_tips_tricks.html https://docs.ansible.com/ansible/latest/tips_tricks/sample_setup.html#sample-directory-layout https://docs.ansible.com/ansible/latest/vault_guide/vault.html https://opensource.com/article/19/4/ansible-procedures https://opensource.com/article/19/9/ansible-documentation-kids-laptops https://opensource.com/resources/what-ansible https://opensource.com/article/19/3/developing-ansible-modules https://spacelift.io/blog/ansible-shell-module https://www.ansible.com/ https://www.ansible.com/community https://www.ansible.com/overview/how-ansible-works https://www.educba.com/ansible-vs-puppet-vs-chef/ https://www.linkedin.com/pulse/ansible-k8s-raspberry-pi-jens-fuchs/ https://www.theurbanpenguin.com/an-ansible-microk8s-install-of-kubernetes/ https://github.com/ansible/awx-operator https://github.com/ansible/awx/blob/devel/INSTALL.md https://github.com/ansible/awx Cloud DevOps https://backstage.io/docs/overview/what-is-backstage https://artifacthub.io/ https://betterprogramming.pub/observability-with-microk8s-14c1f0ff5183 https://bitnami.com/enterprise https://charmhub.io/topics/canonical-observability-stack https://byte.builders/blog/post/deploy-opensearch-with-opensearch-dashboards-in-gke/ https://computingforgeeks.com/install-prometheus-server-on-debian-ubuntu-linux/?expand_article=1 https://devopscube.com/setup-prometheus-monitoring-on-kubernetes/ https://docs.fluentd.org/container-deployment/kubernetes https://docs.fluentd.org/v/0.12/articles/kubernetes-fluentd https://docs.fluentd.org/v/0.12/articles/monitoring-prometheus https://jenkins-x.io/ https://jenkins-x.io/v3/about/how-it-works/ https://jenkins-x.io/v3/about/overview/ https://jenkins-x.io/v3/about/what/ https://jenkins-x.io/v3/admin/platforms/on-premises/ https://jenkins-x.io/v3/admin/platforms/on-premises/vault/ https://jenkins-x.io/v3/admin/setup/secrets/vault/ https://opensearch.org/blog/exploring-opensearch-2-10/ https://opensearch.org/blog/setup-multinode-cluster-kubernetes/ https://opensearch.org/docs/1.2/security-plugin/configuration/security-admin/ https://opensearch.org/docs/latest/ https://opensearch.org/docs/latest/search-plugins/neural-search/ https://opensearch.org/docs/latest/tuning-your-cluster/availability-and-recovery/remote-store/index/ https://opensearch.org/downloads.html https://medium.com/@mbianchidev/2023-devops-is-terrible-ec88162c86d7 https://medium.com/01001101/enhance-your-docker-image-build-pipeline-with-kaniko-567afb6cf97c https://medium.com/geekculture/create-docker-images-without-docker-daemon-kaniko-847a688155a6 https://medium.com/kubernetes-tutorials/cluster-level-logging-in-kubernetes-with-fluentd-e59aa2b6093a https://prometheus.io/ https://prometheus.io/docs/instrumenting/exporters/ https://prometheus.io/docs/introduction/overview/ https://prometheus.io/docs/prometheus/latest/configuration/configuration/ https://prometheus.io/docs/prometheus/latest/getting_started/ https://virtualizationreview.com/articles/2019/01/30/microk8s-part-2-how-to-monitor-and-manage-kubernetes.aspx https://github.com/opensearch-project/helm-charts/blob/main/charts/opensearch/README.md https://github.com/opensearch-project/helm-charts/blob/main/charts/opensearch/values.yaml https://itnext.io/how-to-expose-your-kubernetes-dashboard-with-cert-manager-422ab1e3bf30 https://k9scli.io/ https://linuxhint.com/install_prometheus_ubuntu/ https://snapcraft.io/prometheus https://vegastack.com/tutorials/how-to-install-prometheus-on-ubuntu-22-04/ https://github.com/kubernetes-sigs/prometheus-adapter https://github.com/prometheus/node_exporter https://github.com/prometheus/prometheus https://codilime.com/blog/day-0-day-1-day-2-the-software-lifecycle-in-the-cloud-age/ https://developer.hashicorp.com/terraform/tutorials/cloud-get-started/cloud-sign-up https://docs.codacy.com/chart/infrastructure/microk8s-quickstart/ https://katalon.com/resources-center/blog/continuous-delivery-vs-continuous-deployment https://octant.dev/ https://octant.dev/octant-reveals-objects-running-in-kubernetes-clusters/ https://signoz.io/docs/install/kubernetes/others/ https://www.datadoghq.com/dg/logs/kubernetes/ https://www.cloudforecast.io/blog/node-exporter-and-kubernetes/ https://www.middlewareinventory.com/blog/kubernetes-sidecar-logging-with-fluentd-to-efk/ https://tekton.dev/ https://www.deepnetwork.com/blog/2020/01/27/ELK-stack-filebeat-k8s-deployment.html https://www.linuxtechi.com/how-to-install-kvm-on-ubuntu-22-04/ https://www.logicmonitor.com/blog/jenkins-vs-jenkins-x https://www.mirantis.com/zeroops/what-is-zeroops/","title":"Tools"},{"location":"technicalTools/#tools","text":"Tool and technology selection is influenced by server, workstation and admin client installed base. Server infrastructure includes Mac and PC hardware, with Ubuntu OS installed. Server infrastructure is currently in use. Build of new software infrastructure will cohabit with existing software assets. Redundant tooling will be removed as workload shifts to new software infrastructure. Software distributions will therefore be chosen for Ubuntu OS packaging. Initial build is manual, dev and subsequent releases are declarative.","title":"Tools"},{"location":"technicalTools/#distributions","text":"Kubernetes: Microk8s snap Ceph: MicroCeph snap Prometheus: snap","title":"Distributions"},{"location":"technicalTools/#administration","text":"Kubernetes admin: kubectl (kubernetes-cli) Kubernetes Terminal UI: k9s Kubernetes Web UI (client side): octant CNI admin: calicoctl Database dashboard: adminer Monitoring: Prometheus Virtual Machine provisioning: Vagrant VM Configuration and microk8s cluster build: ansible Application release management: helm json processor: jq Terminal browser: midnight commander (mc) Cloudsmith CLI (helm repository management)","title":"Administration"},{"location":"technicalTools/#additional-components-to-be-investigated","text":"Backup: Longhorn SSO: Dex","title":"Additional components to be investigated"},{"location":"technicalTools/#references","text":"","title":"References"},{"location":"technicalTools/#vagrant","text":"https://app.vagrantup.com/boxes/search https://blog.verbat.com/ansible-vs-vagrant-how-they-compare-and-which-one-should-you-use/ https://developer.hashicorp.com/vagrant/docs/cli/box https://developer.hashicorp.com/vagrant/docs/multi-machine https://developer.hashicorp.com/vagrant/docs/networking/private_network https://developer.hashicorp.com/vagrant/docs/networking/public_network https://developer.hashicorp.com/vagrant/docs/networking https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/boxes https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/common-issues https://developer.hashicorp.com/vagrant/docs/providers/virtualbox/configuration https://developer.hashicorp.com/vagrant/docs/providers https://developer.hashicorp.com/vagrant/docs/provisioning/file https://developer.hashicorp.com/vagrant/docs/vagrantfile/machine_settings#config-vm-base_mac https://developer.hashicorp.com/vagrant/docs/vagrantfile/machine_settings https://developer.hashicorp.com/vagrant/docs/vagrantfile/ssh_settings https://developer.hashicorp.com/vagrant/docs/vagrantfile/tips https://developer.hashicorp.com/vagrant/intro https://developer.hashicorp.com/vagrant/tutorials/getting-started/getting-started-index https://developer.hashicorp.com/vagrant/tutorials/getting-started/getting-started-up https://discuss.hashicorp.com/t/vagrant-multiple-vms-with-unique-ip-address-on-public-network-using-dhcp/36374 https://luppeng.wordpress.com/2020/03/29/vagrant-up-with-the-lxc-provider/ https://www.vagrantup.com/ https://github.com/Fred78290/vagrant-multipass","title":"Vagrant"},{"location":"technicalTools/#ansible","text":"https://docs.ansible.com/ansible/2.9_ja/modules/snap_module.html https://docs.ansible.com/ansible/latest/collections_guide/collections_using_playbooks.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/copy_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/expect_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/index.html#plugins-in-ansible-builtin https://docs.ansible.com/ansible/latest/collections/ansible/builtin/known_hosts_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/pause_module.html https://docs.ansible.com/ansible/latest/collections/ansible/builtin/template_module.html#ansible-collections-ansible-builtin-template-module https://docs.ansible.com/ansible/latest/collections/community/general/snap_module.html https://docs.ansible.com/ansible/latest/getting_started/basic_concepts.html https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html#control-node-requirements https://docs.ansible.com/ansible/latest/inventory_guide/connection_details.html https://docs.ansible.com/ansible/latest/inventory_guide/intro_inventory.html https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_intro.html https://docs.ansible.com/ansible/latest/tips_tricks/ansible_tips_tricks.html https://docs.ansible.com/ansible/latest/tips_tricks/sample_setup.html#sample-directory-layout https://docs.ansible.com/ansible/latest/vault_guide/vault.html https://opensource.com/article/19/4/ansible-procedures https://opensource.com/article/19/9/ansible-documentation-kids-laptops https://opensource.com/resources/what-ansible https://opensource.com/article/19/3/developing-ansible-modules https://spacelift.io/blog/ansible-shell-module https://www.ansible.com/ https://www.ansible.com/community https://www.ansible.com/overview/how-ansible-works https://www.educba.com/ansible-vs-puppet-vs-chef/ https://www.linkedin.com/pulse/ansible-k8s-raspberry-pi-jens-fuchs/ https://www.theurbanpenguin.com/an-ansible-microk8s-install-of-kubernetes/ https://github.com/ansible/awx-operator https://github.com/ansible/awx/blob/devel/INSTALL.md https://github.com/ansible/awx","title":"Ansible"},{"location":"technicalTools/#cloud-devops","text":"https://backstage.io/docs/overview/what-is-backstage https://artifacthub.io/ https://betterprogramming.pub/observability-with-microk8s-14c1f0ff5183 https://bitnami.com/enterprise https://charmhub.io/topics/canonical-observability-stack https://byte.builders/blog/post/deploy-opensearch-with-opensearch-dashboards-in-gke/ https://computingforgeeks.com/install-prometheus-server-on-debian-ubuntu-linux/?expand_article=1 https://devopscube.com/setup-prometheus-monitoring-on-kubernetes/ https://docs.fluentd.org/container-deployment/kubernetes https://docs.fluentd.org/v/0.12/articles/kubernetes-fluentd https://docs.fluentd.org/v/0.12/articles/monitoring-prometheus https://jenkins-x.io/ https://jenkins-x.io/v3/about/how-it-works/ https://jenkins-x.io/v3/about/overview/ https://jenkins-x.io/v3/about/what/ https://jenkins-x.io/v3/admin/platforms/on-premises/ https://jenkins-x.io/v3/admin/platforms/on-premises/vault/ https://jenkins-x.io/v3/admin/setup/secrets/vault/ https://opensearch.org/blog/exploring-opensearch-2-10/ https://opensearch.org/blog/setup-multinode-cluster-kubernetes/ https://opensearch.org/docs/1.2/security-plugin/configuration/security-admin/ https://opensearch.org/docs/latest/ https://opensearch.org/docs/latest/search-plugins/neural-search/ https://opensearch.org/docs/latest/tuning-your-cluster/availability-and-recovery/remote-store/index/ https://opensearch.org/downloads.html https://medium.com/@mbianchidev/2023-devops-is-terrible-ec88162c86d7 https://medium.com/01001101/enhance-your-docker-image-build-pipeline-with-kaniko-567afb6cf97c https://medium.com/geekculture/create-docker-images-without-docker-daemon-kaniko-847a688155a6 https://medium.com/kubernetes-tutorials/cluster-level-logging-in-kubernetes-with-fluentd-e59aa2b6093a https://prometheus.io/ https://prometheus.io/docs/instrumenting/exporters/ https://prometheus.io/docs/introduction/overview/ https://prometheus.io/docs/prometheus/latest/configuration/configuration/ https://prometheus.io/docs/prometheus/latest/getting_started/ https://virtualizationreview.com/articles/2019/01/30/microk8s-part-2-how-to-monitor-and-manage-kubernetes.aspx https://github.com/opensearch-project/helm-charts/blob/main/charts/opensearch/README.md https://github.com/opensearch-project/helm-charts/blob/main/charts/opensearch/values.yaml https://itnext.io/how-to-expose-your-kubernetes-dashboard-with-cert-manager-422ab1e3bf30 https://k9scli.io/ https://linuxhint.com/install_prometheus_ubuntu/ https://snapcraft.io/prometheus https://vegastack.com/tutorials/how-to-install-prometheus-on-ubuntu-22-04/ https://github.com/kubernetes-sigs/prometheus-adapter https://github.com/prometheus/node_exporter https://github.com/prometheus/prometheus https://codilime.com/blog/day-0-day-1-day-2-the-software-lifecycle-in-the-cloud-age/ https://developer.hashicorp.com/terraform/tutorials/cloud-get-started/cloud-sign-up https://docs.codacy.com/chart/infrastructure/microk8s-quickstart/ https://katalon.com/resources-center/blog/continuous-delivery-vs-continuous-deployment https://octant.dev/ https://octant.dev/octant-reveals-objects-running-in-kubernetes-clusters/ https://signoz.io/docs/install/kubernetes/others/ https://www.datadoghq.com/dg/logs/kubernetes/ https://www.cloudforecast.io/blog/node-exporter-and-kubernetes/ https://www.middlewareinventory.com/blog/kubernetes-sidecar-logging-with-fluentd-to-efk/ https://tekton.dev/ https://www.deepnetwork.com/blog/2020/01/27/ELK-stack-filebeat-k8s-deployment.html https://www.linuxtechi.com/how-to-install-kvm-on-ubuntu-22-04/ https://www.logicmonitor.com/blog/jenkins-vs-jenkins-x https://www.mirantis.com/zeroops/what-is-zeroops/","title":"Cloud DevOps"},{"location":"technicalWireguard/","text":"Wireguard installation notes To load and verify wireguard linux kernel module: modprobe wireguard ; lsmod | grep wireguard To load permanently: sudo echo 'wireguard' >> /etc/modules Install wireguard tools: apt install wireguard-tools Generate server key, save and secure: wg genkey | sudo tee /etc/wireguard/server.key ; chmod 0400 /etc/wireguard/server.key Public key: cat /etc/wireguard/server.key | wg pubkey | sudo tee /etc/wireguard/server.pub mkdir -p /etc/wireguard/clients wg genkey | tee /etc/wireguard/clients/client1.key cat /etc/wireguard/clients/client1.key | wg pubkey | tee /etc/wireguard/clients/client1.pub /etc/wireguard/wg0.conf [Interface] PrivateKey = <> Address = 192.168.0.104/29 ListenPort = 51820 SaveConfig = true [Peer] PublicKey = <> AllowedIPs = 192.168.0.1/24 Only required for egress from vpn server: /etc/sysctl.conf : uncomment net.ipv4.ip_forward=1 ; Apply: sysctl -p ip route list default","title":"Wireguard installation notes"},{"location":"technicalWireguard/#wireguard-installation-notes","text":"To load and verify wireguard linux kernel module: modprobe wireguard ; lsmod | grep wireguard To load permanently: sudo echo 'wireguard' >> /etc/modules Install wireguard tools: apt install wireguard-tools Generate server key, save and secure: wg genkey | sudo tee /etc/wireguard/server.key ; chmod 0400 /etc/wireguard/server.key Public key: cat /etc/wireguard/server.key | wg pubkey | sudo tee /etc/wireguard/server.pub mkdir -p /etc/wireguard/clients wg genkey | tee /etc/wireguard/clients/client1.key cat /etc/wireguard/clients/client1.key | wg pubkey | tee /etc/wireguard/clients/client1.pub /etc/wireguard/wg0.conf [Interface] PrivateKey = <> Address = 192.168.0.104/29 ListenPort = 51820 SaveConfig = true [Peer] PublicKey = <> AllowedIPs = 192.168.0.1/24 Only required for egress from vpn server: /etc/sysctl.conf : uncomment net.ipv4.ip_forward=1 ; Apply: sysctl -p ip route list default","title":"Wireguard installation notes"},{"location":"technicalWordpress/","text":"Installing Wordpress Using Kubeapps Pre-requisite: Install kubeapps Set up user info Set storage class Set service type to ClusterIP Set storageClass to ceph-rbd Using repo directly Reference: https://github.com/bitnami/charts/tree/main/bitnami/wordpress Repo GitHub: https://bitnami.com/stack/wordpress/helm Clone values file to motttt-values.yaml Install with: helm install --namespace motttt --create-namespace motttt-01 --debug bitnami/wordpress --values motttt-values.yaml Use cases Adam Biography Charles Project Toolkit Artist sites Martin MoTTTT biography SEO links Norma biography online questionaries UK Today helm install --namespace uktoday --create-namespace uktoday-01 --debug bitnami/wordpress --values uktodayblog-values.yaml helm install --namespace norma --create-namespace norma-01 --debug bitnami/wordpress --values normablog-values.yaml References https://wordpress.org/plugins/html-forms/ https://themeisle.com/blog/multi-author-wordpress-blog/ https://ays-pro.com/wordpress/survey-maker https://ays-demo.com/demographic-survey-questionnaire/ https://wordpress.org/plugins/survey-maker/ https://quizandsurveymaster.com/best-free-wordpress-survey-plugins/ https://kubiobuilder.com/wordpress-web-design/custom-html-css-wordpress/ https://wordpress.com/support/wordpress-editor/blocks/custom-html-block/ https://stackoverflow.com/questions/33727812/basic-questionnaire-input-how-to-style-questions-to-the-left-and-radios-to-the-r","title":"Installing Wordpress"},{"location":"technicalWordpress/#installing-wordpress","text":"","title":"Installing Wordpress"},{"location":"technicalWordpress/#using-kubeapps","text":"Pre-requisite: Install kubeapps Set up user info Set storage class Set service type to ClusterIP Set storageClass to ceph-rbd","title":"Using Kubeapps"},{"location":"technicalWordpress/#using-repo-directly","text":"Reference: https://github.com/bitnami/charts/tree/main/bitnami/wordpress Repo GitHub: https://bitnami.com/stack/wordpress/helm Clone values file to motttt-values.yaml Install with: helm install --namespace motttt --create-namespace motttt-01 --debug bitnami/wordpress --values motttt-values.yaml","title":"Using repo directly"},{"location":"technicalWordpress/#use-cases","text":"","title":"Use cases"},{"location":"technicalWordpress/#adam","text":"Biography","title":"Adam"},{"location":"technicalWordpress/#charles","text":"Project Toolkit Artist sites","title":"Charles"},{"location":"technicalWordpress/#martin","text":"MoTTTT biography SEO links","title":"Martin"},{"location":"technicalWordpress/#norma","text":"biography online questionaries","title":"Norma"},{"location":"technicalWordpress/#uk-today","text":"helm install --namespace uktoday --create-namespace uktoday-01 --debug bitnami/wordpress --values uktodayblog-values.yaml helm install --namespace norma --create-namespace norma-01 --debug bitnami/wordpress --values normablog-values.yaml","title":"UK Today"},{"location":"technicalWordpress/#references","text":"https://wordpress.org/plugins/html-forms/ https://themeisle.com/blog/multi-author-wordpress-blog/ https://ays-pro.com/wordpress/survey-maker https://ays-demo.com/demographic-survey-questionnaire/ https://wordpress.org/plugins/survey-maker/ https://quizandsurveymaster.com/best-free-wordpress-survey-plugins/ https://kubiobuilder.com/wordpress-web-design/custom-html-css-wordpress/ https://wordpress.com/support/wordpress-editor/blocks/custom-html-block/ https://stackoverflow.com/questions/33727812/basic-questionnaire-input-how-to-style-questions-to-the-left-and-radios-to-the-r","title":"References"},{"location":"uktodayTechnical/","text":"UK Today Current Channel Branding: https://www.youtube.com/@UK2Day About Welcome to the UK Today YouTube channel! Our aim is to showcase the beautiful and diverse scenery from all over the United Kingdom. From the bustling city to the captivating countryside, our nation has so much more to offer than many people may be aware of. Please join us in our journey, and feel free to submit your own clips of hidden gems and interesting happenings from around the nation :) In order to submit your own clips to be featured in the next UK Today video, please send your video to the submission email or WhatsApp number below, along with the location of where the clip was shot, and your name should you wish to be credited. Thanks! WhatsApp number: +44 7833103820 Submission Email: uk2daysubmissions@gmail.com Placeholder domains uktoday.blogsite.org uktoday.thruhere.net uktoday.podzone.org uktoday.podzone.net uktoday.blog.podzone.org Brand considerations Search Google: \"UK Today\" https://en.wikipedia.org/wiki/UK_Today https://find-and-update.company-information.service.gov.uk/company/03444862 Search Google: \"UK Today Youtube\" - https://www.youtube.com/user/youtubeuk","title":"UK Today"},{"location":"uktodayTechnical/#uk-today","text":"","title":"UK Today"},{"location":"uktodayTechnical/#current-channel-branding-httpswwwyoutubecomuk2day","text":"About Welcome to the UK Today YouTube channel! Our aim is to showcase the beautiful and diverse scenery from all over the United Kingdom. From the bustling city to the captivating countryside, our nation has so much more to offer than many people may be aware of. Please join us in our journey, and feel free to submit your own clips of hidden gems and interesting happenings from around the nation :) In order to submit your own clips to be featured in the next UK Today video, please send your video to the submission email or WhatsApp number below, along with the location of where the clip was shot, and your name should you wish to be credited. Thanks! WhatsApp number: +44 7833103820 Submission Email: uk2daysubmissions@gmail.com","title":"Current Channel Branding: https://www.youtube.com/@UK2Day"},{"location":"uktodayTechnical/#placeholder-domains","text":"uktoday.blogsite.org uktoday.thruhere.net uktoday.podzone.org uktoday.podzone.net uktoday.blog.podzone.org","title":"Placeholder domains"},{"location":"uktodayTechnical/#brand-considerations","text":"","title":"Brand considerations"},{"location":"uktodayTechnical/#search-google-uk-today","text":"https://en.wikipedia.org/wiki/UK_Today https://find-and-update.company-information.service.gov.uk/company/03444862","title":"Search Google: \"UK Today\""},{"location":"uktodayTechnical/#search-google-uk-today-youtube","text":"","title":"Search Google: \"UK Today Youtube\""},{"location":"uktodayTechnical/#-httpswwwyoutubecomuseryoutubeuk","text":"","title":"- https://www.youtube.com/user/youtubeuk"}]}